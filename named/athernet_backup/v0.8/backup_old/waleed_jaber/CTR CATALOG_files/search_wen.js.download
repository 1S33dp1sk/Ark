function resetForm() {
	$("#hsearch-model-div").html("<select name=\"hmodel\" id=\"hmodel\" onChange=\"hModelChange()\"><option value=\"\">MODEL</option></select>");
	$("#hsearch-year-div").html("<select name=\"hyear\" id=\"hyear\" onChange=\"YearChange()\"><option value=\"\">YEAR</option></select>");
	$("#hsearch-modelkode-div").html("<select name=\"hmodelkode\" id=\"hmodelkode\"><option value=\"\">MODEL CODE</option></select>");
	$("#hmerk option:eq(0)").attr("selected","selected");

}

function hMerkChange() {
	var merk = $("select[name='hmerk'] option:selected").val();
	$.ajax({
		type: "POST",
		url: "/wen/search/hchange.php",
		data: "merk="+merk,
		success: function(html) {
			if(merk.length>0) {
				$("#hsearch-model-div").html(html);
			} else {
				$("#hsearch-model-div").html("<select name=\"hmodel\" id=\"hmodel\" onChange=\"ModelChange()\"><option value=\"\">MODEL</option></select>");
			}
			$("#hsearch-year-div").html("<select name=\"hyear\" id=\"hyear\" onChange=\"YearChange()\"><option value=\"\">YEAR</option></select>");
			$("#hsearch-modelkode-div").html("<select name=\"hmodelkode\" id=\"hmodelkode\"><option value=\"\">MODEL CODE</option></select>");
			//$("#search-list-div").html("");
			$("#hmerk").selectbox();
			$("#hmodel").selectbox();
			$("#hyear").selectbox();
			$("#hmodelkode").selectbox();
			$('#page').val(0);
		}
	});
}
function hModelChange() {
	var model = $("select[name='hmodel'] option:selected").val();
	var merk = $("select[name='hmerk'] option:selected").val();
	$.ajax({
		type: "POST",
		url: "/wen/search/hchange.php",
		data: "model="+model+"&merk="+merk,
		success: function(html) {
			if(model.length>0) {
				$("#hsearch-year-div").html(html);
			} else {
				$("#hsearch-year-div").html("<select name=\"hyear\" id=\"hyear\" onChange=\"YearChange()\"><option value=\"\">YEAR</option></select>");
			}
			$("#hsearch-modelkode-div").html("<select name=\"hmodelkode\" id=\"hmodelkode\"><option value=\"\">MODEL CODE</option></select>");
			//$("#search-list-div").html("");
			$("#hmerk").selectbox();
			$("#hmodel").selectbox();
			$("#hyear").selectbox();
			$("#hmodelkode").selectbox();
			$('#page').val(0);
		}
	});
}
function hYearChange() {
	var xyear = $("select[name='hyear'] option:selected").val();
	var model = $("select[name='hmodel'] option:selected").val();
	var merk = $("select[name='hmerk'] option:selected").val();
	$.ajax({
		type: "POST",
		url: "/wen/search/hchange.php",
		data: "model="+model+"&merk="+merk+"&year="+xyear,
		success: function(html) {
			if(xyear.length>0) {
				$("#hsearch-modelkode-div").html(html);
			} else {
				$("#hsearch-modelkode-div").html("<select name=\"hmodelkode\" id=\"hmodelkode\"><option value=\"\">MODEL CODE</option></select>");
			}
			//$("#search-list-div").html("");
			$("#hmerk").selectbox();
			$("#hmodel").selectbox();
			$("#hyear").selectbox();
			$("#hmodelkode").selectbox();
			$('#page').val(0);
		}
	});
}

function hModelkodeChange() {
	$("#search-list-div").html("");
	$('#page').val(0);
}

function hsubmitForm() {
    var errorMessage = null;
    var objFocus = null;

	var year = $("select[name='hyear'] option:selected").val();
	var model = $("select[name='hmodel'] option:selected").val();
	var merk = $("select[name='hmerk'] option:selected").val();
	var modelkode = $("select[name='hmodelkode'] option:selected").val();
	var page = $('#page').val();

    if (merk.length == 0) {
        errorMessage = "Please select MAKE.";
        objFocus = $('#hmerk');
    }
    else if (model.length == 0) {
        errorMessage = "Please select MODEL.";
        objFocus = $('#hmodel');
    }
    else if (year.length == 0) {
        errorMessage = "Please select YEAR.";
        objFocus = $('#hyear');
    }

    if(errorMessage != null) {
        alert(errorMessage);
        objFocus.focus();
        return false;
    }

  var form=document.createElement("form");
  form.name='tempPost';
  form.method='post';
  form.action="/wen/search/list.php"; 
 
  var input1x=document.createElement("input");
  input1x.type="hidden";
  input1x.name='merk';
  input1x.value= $("#hmerk").val();
  $(form).append(input1x);

  var input2x=document.createElement("input");
  input2x.type="hidden";
  input2x.name='model';
  input2x.value= $("#hmodel").val();
  $(form).append(input2x);

  var input3x=document.createElement("input");
  input3x.type="hidden";
  input3x.name='year';
  input3x.value= $("#hyear").val();
  $(form).append(input3x);

  var input4x=document.createElement("input");
  input4x.type="hidden";
  input4x.name='modelkode';
  input4x.value= $("#hmodelkode").val();
  $(form).append(input4x);
  
  $('#hmerk-list-div').append(form);
  form.submit();
}

function hkeynew(e) {
	$('#page').val(0);
	//$("#search-list-div").html("");
	
	//$("#ctrno").keyup(function(e){
    	if ( e.which == 13 ) {
	    	//e.preventDefault();
       		//alert('11');
       		hsubmitForm_num();
       		return false;
    	}
	//});    
}

function hsubmitForm_car() {
	if ($('#page').val()>0) {
		$("#hctrno").val("");
		$("#search-list-div").html("");
		hsubmitForm();
	} else {
		$("#hctrno").val("");
		hsubmitForm();
	}
}

function hsubmitForm_num() {
  var form=document.createElement("form");
  form.name='tempPost';
  form.method='post';
  form.action="/wen/search/list.php"; 
 
  var input1=document.createElement("input");
  input1.type="hidden";
  input1.name='ctrno';
  input1.value= $("#hctrno").val();
  $(form).append(input1);

  $('#hmerk-list-div').append(form);
  form.submit();
}

//Ãß°¡
function hsubmitForm_num2() {
  var form=document.createElement("form");
  form.name='tempPost';
  form.method='post';
  form.action="/wen/search/list.php"; 
 
  var input1=document.createElement("input");
  input1.type="hidden";
  input1.name='ctrno';
  input1.value= $("#hctrno2").val();
  $(form).append(input1);

  $('#hmerk-list-div2').append(form);
  form.submit();
}

function hkeynew2(e) {
	$('#page').val(0);
	//$("#search-list-div").html("");
	
	//$("#ctrno").keyup(function(e){
    	if ( e.which == 13 ) {
	    	//e.preventDefault();
       		//alert('11');
       		hsubmitForm_num2();
       		return false;
    	}
	//});    
}

