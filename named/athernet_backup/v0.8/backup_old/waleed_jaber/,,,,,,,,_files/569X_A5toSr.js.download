if (self.CavalryLogger) { CavalryLogger.start_js(["Y4p4W"]); }

__d("FBBLivePluginContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c=[{kind:"Literal",name:"flexible_bonus_button_types",value:[]},{kind:"Literal",name:"tab_type",value:"LIVE_DESKTOP_PLAYER"}],d={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"hide_timestamp",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"release_timestamp",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"poll_owner_id",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"poll_id",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"question_text",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"FBBLivePluginContainerQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:b,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"live_context_components",storageKey:'live_context_components(flexible_bonus_button_types:[],tab_type:"LIVE_DESKTOP_PLAYER")',args:c,concreteType:null,plural:!0,selections:[{kind:"InlineFragment",type:"LiveContextComponentOverlayFromFBB",selections:[{kind:"FragmentSpread",name:"FBBLivePlugin_contextComponents",args:null}]}]},{kind:"LinkedField",alias:null,name:"video_poll_event_nodes",storageKey:null,args:null,concreteType:"VideoPollEventNode",plural:!0,selections:[{kind:"FragmentSpread",name:"VideoPollCardContainer_pollEventData",args:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d]}]}]},operation:{kind:"Operation",name:"FBBLivePluginContainerQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:b,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"live_context_components",storageKey:'live_context_components(flexible_bonus_button_types:[],tab_type:"LIVE_DESKTOP_PLAYER")',args:c,concreteType:null,plural:!0,selections:[d,{kind:"InlineFragment",type:"LiveContextComponentOverlayFromFBB",selections:[{kind:"ScalarField",alias:null,name:"flexible_bonus_button_icon_src",args:null,storageKey:null},e,f,{kind:"ScalarField",alias:null,name:"overlay_close_after_responding",args:null,storageKey:null},g,{kind:"LinkedField",alias:"poll_plugin",name:"video_player_plugin",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"InlineFragment",type:"VideoPlayerPollDataPlugin",selections:[{kind:"ScalarField",alias:null,name:"live_video_card_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_video_card_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_was_live_voting_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"facepile_image_size",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_voting_open",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_poll_placement",args:null,storageKey:null},h,i,{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:null,concreteType:"VideoPlayerPollDataPluginOption",plural:!0,selections:[j,{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_voted",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"results",storageKey:null,args:null,concreteType:"VideoPlayerPollDataPluginResults",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"correct_answer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"option_percentages",args:null,storageKey:null}]}]}]}]}]},{kind:"LinkedField",alias:null,name:"video_poll_event_nodes",storageKey:null,args:null,concreteType:"VideoPollEventNode",plural:!0,selections:[j,e,f,i,{kind:"ScalarField",alias:null,name:"has_viewer_voted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_vote",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_see_result",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_id",args:null,storageKey:null},h,g,{kind:"ScalarField",alias:null,name:"total_votes",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"video_poll_event_options",storageKey:null,args:null,concreteType:"VideoPollOption",plural:!0,selections:[j,{kind:"ScalarField",alias:null,name:"is_correct",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"option_text",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"sticker",storageKey:null,args:null,concreteType:"Sticker",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"animated_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},j]},{kind:"ScalarField",alias:null,name:"is_viewers_choice",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"num_votes",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,j]},j]}]},params:{operationKind:"query",name:"FBBLivePluginContainerQuery",id:"2059087527525408",text:null,metadata:{}}}}();e.exports=a}),null);
__d("FBBLivePluginContainerSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LiveVideoContextComponentViewerSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c=[{kind:"Literal",name:"flexible_bonus_button_types",value:[]},{kind:"Literal",name:"tab_type",value:"LIVE_DESKTOP_PLAYER"}],d={kind:"ScalarField",alias:null,name:"flexible_bonus_button_icon_src",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"hide_timestamp",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"release_timestamp",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"overlay_close_after_responding",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"poll_owner_id",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"poll_id",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"question_text",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"InlineFragment",type:"VideoPlayerPollDataPlugin",selections:[{kind:"ScalarField",alias:null,name:"live_video_card_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_video_card_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_was_live_voting_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"facepile_image_size",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_voting_open",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_poll_placement",args:null,storageKey:null},i,j,{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:null,concreteType:"VideoPlayerPollDataPluginOption",plural:!0,selections:[k,{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_voted",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"results",storageKey:null,args:null,concreteType:"VideoPlayerPollDataPluginResults",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"correct_answer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"option_percentages",args:null,storageKey:null}]}]},m={kind:"ScalarField",alias:null,name:"has_viewer_voted",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"can_viewer_vote",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"can_viewer_see_result",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"video_id",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"total_votes",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"is_correct",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"option_text",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},u={kind:"LinkedField",alias:null,name:"animated_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},v={kind:"ScalarField",alias:null,name:"is_viewers_choice",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"num_votes",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"FBBLivePluginContainerSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"live_video_context_component_viewer_subscribe",storageKey:null,args:b,concreteType:"LiveVideoContextComponentViewerSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"live_context_components",storageKey:'live_context_components(flexible_bonus_button_types:[],tab_type:"LIVE_DESKTOP_PLAYER")',args:c,concreteType:null,plural:!0,selections:[{kind:"InlineFragment",type:"LiveContextComponentOverlayFromFBB",selections:[d,e,f,g,h,{kind:"LinkedField",alias:"poll_plugin",name:"video_player_plugin",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l]}]}]},{kind:"LinkedField",alias:null,name:"video_poll_event_nodes",storageKey:null,args:null,concreteType:"VideoPollEventNode",plural:!0,selections:[k,e,f,j,m,n,o,p,i,h,q,{kind:"LinkedField",alias:null,name:"video_poll_event_options",storageKey:null,args:null,concreteType:"VideoPollOption",plural:!0,selections:[k,r,s,{kind:"LinkedField",alias:null,name:"sticker",storageKey:null,args:null,concreteType:"Sticker",plural:!1,selections:[t,u]},v,w]}]}]}]}]},operation:{kind:"Operation",name:"FBBLivePluginContainerSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"live_video_context_component_viewer_subscribe",storageKey:null,args:b,concreteType:"LiveVideoContextComponentViewerSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"live_context_components",storageKey:'live_context_components(flexible_bonus_button_types:[],tab_type:"LIVE_DESKTOP_PLAYER")',args:c,concreteType:null,plural:!0,selections:[x,{kind:"InlineFragment",type:"LiveContextComponentOverlayFromFBB",selections:[d,e,f,g,h,{kind:"LinkedField",alias:"poll_plugin",name:"video_player_plugin",storageKey:null,args:null,concreteType:null,plural:!1,selections:[x,l]}]}]},{kind:"LinkedField",alias:null,name:"video_poll_event_nodes",storageKey:null,args:null,concreteType:"VideoPollEventNode",plural:!0,selections:[k,e,f,j,m,n,o,p,i,h,q,{kind:"LinkedField",alias:null,name:"video_poll_event_options",storageKey:null,args:null,concreteType:"VideoPollOption",plural:!0,selections:[k,r,s,{kind:"LinkedField",alias:null,name:"sticker",storageKey:null,args:null,concreteType:"Sticker",plural:!1,selections:[t,u,k]},v,w]}]},k]}]}]},params:{operationKind:"subscription",name:"FBBLivePluginContainerSubscription",id:"2177005739071296",text:null,metadata:{subscriptionName:"live_video_context_component_viewer_subscribe"}}}}();e.exports=a}),null);
__d("FBBLivePluginRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c=[{kind:"Literal",name:"flexible_bonus_button_types",value:[]},{kind:"Literal",name:"tab_type",value:"LIVE_DESKTOP_PLAYER"}],d={kind:"ScalarField",alias:null,name:"flexible_bonus_button_icon_src",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"hide_timestamp",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"release_timestamp",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"overlay_close_after_responding",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"poll_owner_id",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},j={kind:"InlineFragment",type:"VideoPlayerPollDataPlugin",selections:[{kind:"ScalarField",alias:null,name:"live_video_card_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_video_card_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_was_live_voting_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"facepile_image_size",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_voting_open",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_poll_placement",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"question_text",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:null,concreteType:"VideoPlayerPollDataPluginOption",plural:!0,selections:[i,{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_voted",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"results",storageKey:null,args:null,concreteType:"VideoPlayerPollDataPluginResults",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"correct_answer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"option_percentages",args:null,storageKey:null}]}]},k={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"FBBLivePluginRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:b,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"live_context_components",storageKey:'live_context_components(flexible_bonus_button_types:[],tab_type:"LIVE_DESKTOP_PLAYER")',args:c,concreteType:null,plural:!0,selections:[{kind:"InlineFragment",type:"LiveContextComponentOverlayFromFBB",selections:[d,e,f,g,h,{kind:"LinkedField",alias:"poll_plugin",name:"video_player_plugin",storageKey:null,args:null,concreteType:null,plural:!1,selections:[j]}]}]}]}]},operation:{kind:"Operation",name:"FBBLivePluginRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:b,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"live_context_components",storageKey:'live_context_components(flexible_bonus_button_types:[],tab_type:"LIVE_DESKTOP_PLAYER")',args:c,concreteType:null,plural:!0,selections:[k,{kind:"InlineFragment",type:"LiveContextComponentOverlayFromFBB",selections:[d,e,f,g,h,{kind:"LinkedField",alias:"poll_plugin",name:"video_player_plugin",storageKey:null,args:null,concreteType:null,plural:!1,selections:[k,j]}]}]},i]}]},params:{operationKind:"query",name:"FBBLivePluginRefetchQuery",id:"2949469155080308",text:null,metadata:{}}}}();e.exports=a}),null);
__d("FBBLivePlugin_contextComponents.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"FBBLivePlugin_contextComponents",type:"LiveContextComponentOverlayFromFBB",metadata:{plural:!0},argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"flexible_bonus_button_icon_src",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hide_timestamp",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"release_timestamp",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"overlay_close_after_responding",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_owner_id",args:null,storageKey:null},{kind:"LinkedField",alias:"poll_plugin",name:"video_player_plugin",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"VideoPlayerPollDataPlugin",selections:[{kind:"ScalarField",alias:null,name:"live_video_card_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_video_card_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_was_live_voting_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"facepile_image_size",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_voting_open",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_poll_placement",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"question_text",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:null,concreteType:"VideoPlayerPollDataPluginOption",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_voted",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"results",storageKey:null,args:null,concreteType:"VideoPlayerPollDataPluginResults",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"correct_answer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"option_percentages",args:null,storageKey:null}]}]}]}]};e.exports=a}),null);
__d("VideoPollCardContainerRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"hide_timestamp",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"release_timestamp",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"question_text",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"has_viewer_voted",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"can_viewer_vote",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"can_viewer_see_result",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"video_id",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"poll_id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"poll_owner_id",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"total_votes",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"is_correct",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"option_text",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},q={kind:"LinkedField",alias:null,name:"animated_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},r={kind:"ScalarField",alias:null,name:"is_viewers_choice",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"num_votes",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"VideoPollCardContainerRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:b,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"video_poll_event_nodes",storageKey:null,args:null,concreteType:"VideoPollEventNode",plural:!0,selections:[c,d,e,f,g,h,i,j,k,l,m,{kind:"LinkedField",alias:null,name:"video_poll_event_options",storageKey:null,args:null,concreteType:"VideoPollOption",plural:!0,selections:[c,n,o,{kind:"LinkedField",alias:null,name:"sticker",storageKey:null,args:null,concreteType:"Sticker",plural:!1,selections:[p,q]},r,s]}]}]}]},operation:{kind:"Operation",name:"VideoPollCardContainerRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:b,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"video_poll_event_nodes",storageKey:null,args:null,concreteType:"VideoPollEventNode",plural:!0,selections:[c,d,e,f,g,h,i,j,k,l,m,{kind:"LinkedField",alias:null,name:"video_poll_event_options",storageKey:null,args:null,concreteType:"VideoPollOption",plural:!0,selections:[c,n,o,{kind:"LinkedField",alias:null,name:"sticker",storageKey:null,args:null,concreteType:"Sticker",plural:!1,selections:[p,q,c]},r,s]}]},c]}]},params:{operationKind:"query",name:"VideoPollCardContainerRefetchQuery",id:"2527957557259471",text:null,metadata:{}}}}();e.exports=a}),null);
__d("VideoPollCardContainer_pollEventData.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"VideoPollCardContainer_pollEventData",type:"VideoPollEventNode",metadata:{plural:!0},argumentDefinitions:[],selections:[a,{kind:"ScalarField",alias:null,name:"hide_timestamp",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"release_timestamp",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"question_text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_viewer_voted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_vote",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_see_result",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_owner_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"total_votes",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"video_poll_event_options",storageKey:null,args:null,concreteType:"VideoPollOption",plural:!0,selections:[a,{kind:"ScalarField",alias:null,name:"is_correct",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"option_text",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"sticker",storageKey:null,args:null,concreteType:"Sticker",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"animated_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"is_viewers_choice",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"num_votes",args:null,storageKey:null}]}]}}();e.exports=a}),null);
__d("VideoPollCardUndoVoteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"VideoPollUndoVoteData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"video_poll_undo_vote",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPollEventUndoVoteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"video_poll_event",storageKey:null,args:null,concreteType:"VideoPollEventNode",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_viewer_voted",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"VideoPollCardUndoVoteMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"VideoPollCardUndoVoteMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"VideoPollCardUndoVoteMutation",id:"2231118203640935",text:null,metadata:{}}}}();e.exports=a}),null);
__d("VideoPollCardVoteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"VideoPollVoteData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"video_poll_vote",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPollEventVoteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"video_poll_event",storageKey:null,args:null,concreteType:"VideoPollEventNode",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_viewer_voted",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"VideoPollCardVoteMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"VideoPollCardVoteMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"VideoPollCardVoteMutation",id:"1993234470788116",text:null,metadata:{}}}}();e.exports=a}),null);
__d("FBBPollDataPluginSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){return h.jsxs("span",{children:[a.pollData.is_voting_open===!0?g._("Take the poll:"):g._("Poll:")," ",h.jsx("span",{style:{fontWeight:"bold"},children:a.pollData.question_text})]})};e.exports=a}),null);
__d("FBBTextQuestionDataPluginSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){return h.jsxs("span",{children:["(",g._("Respond:"),")",h.jsx("span",{style:{fontWeight:"bold"},children:a.textQuestion.question_text})]})};e.exports=a}),null);
__d("FBBTextQuestionPluginDataPluginSnippet.react",["FBBTextQuestionDataPluginSnippet.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.textQuestionData;a=a==null?void 0:a.text_question;return a?this.$1(a):null};d.$1=function(a){return g.jsx(b("FBBTextQuestionDataPluginSnippet.react"),{textQuestion:a})};return c}(g.Component);e.exports=a}),null);
__d("FBBPluginSnippet.react",["cx","Animation","CenteredContainer.react","DOMContainer.react","Ease","FBBIcon.react","FBBPollDataPluginSnippet.react","FBBTextQuestionPluginDataPluginSnippet.react","LeftRight.react","LineClamp.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=500,j=300;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentWillAppear=function(a){this.componentWillEnter(a)};d.componentWillEnter=function(a){if(!this.$1)return;new(b("Animation"))(this.$1).from("translateX",80).from("opacity",0).to("translateX",0).to("opacity",1).duration(i).ease(b("Ease").makeBackOut(1)).ondone(a).go()};d.componentWillLeave=function(a){if(!this.$1)return;new(b("Animation"))(this.$1).from("opacity",1).to("opacity",0).duration(j).ondone(a).go()};d.render=function(){var a=this,c=this.props,d=c.className,e=c.iconSrc,f=c.markup,g=c.onClick,i=c.pollData;c=c.textQuestionData;return h.jsx("div",{onClick:g,role:"link",style:{cursor:"pointer"},tabIndex:0,ref:function(b){a.$1=b},className:d,children:h.jsx(b("CenteredContainer.react"),{vertical:!0,className:"_2o4s",children:h.jsxs(b("LeftRight.react"),{children:[h.jsx(b("LineClamp.react"),{lines:1,lineHeight:24,className:"_69j2",children:f?h.jsx(b("DOMContainer.react"),{children:f}):i&&i.poll_id!=null?h.jsx(b("FBBPollDataPluginSnippet.react"),{pollData:i}):c!=null&&c.text_question!=null?h.jsx(b("FBBTextQuestionPluginDataPluginSnippet.react"),{textQuestionData:c}):null}),h.jsx(b("FBBIcon.react"),{src:e})]})})})};return c}(h.Component);e.exports=a}),null);
__d("FBBPollDataPluginViewOption.react",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){var c=h.jsx("div",{className:"_472u",children:h.jsx("div",{className:"_4x3i"+(a.disabled||a.hasVoted?" _42qj":"")+(a.highlight?" _42ql":""),children:a.option.text})});return a.disabled?c:h.jsx(b("Link.react"),{href:"#",className:"_2y3b",onClick:a.onClick,children:c})};e.exports=a}),null);
__d("FBBPollDataPluginViewOptionResult.react",["cx","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","React","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){var c=a.disabled,d=a.highlight,e=a.option,f=a.percentage,g=a.onClick;f=f+"%";d=h.jsx("div",{className:"_472v",children:h.jsx("div",{className:"_472w"+(d?" _472x":"")+(a.isCorrect?" _6pzi":"")+(a.isWrong?" _6pzj":""),style:{width:f}})});return h.jsx("div",{className:"_472u",children:h.jsxs("div",{className:"_6oz7",children:[h.jsxs(b("Layout.react"),{children:[h.jsxs(b("LayoutFillColumn.react"),{children:[h.jsx(b("XUIText.react"),{className:"_2y3d",size:"body1",children:e.text}),a.highlight&&h.jsx("span",{className:"_56_f _5dz- _3twv _5dzy"})]}),h.jsx(b("LayoutColumn.react"),{children:h.jsx(b("XUIText.react"),{size:"body1",weight:"bold",children:f})})]}),c?d:h.jsx(b("Link.react"),{href:"#",onClick:g,children:d})]})})};e.exports=a}),null);
__d("VideoCardType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GAME_SHOW_QUESTION:"game_show_question",GAME_SHOW_QUESTION_RESULTS:"game_show_question_results",LIVE_POLL_RESULTS:"live_poll_results",LIVE_POLL_VOTING:"live_poll_voting",PREVIEW:"preview",PROTOTYPE_QUIZ_SHOW_QUESTION:"prototype_quiz_show_question",PROTOTYPE_QUIZ_SHOW_QUESTION_RESULTS:"prototype_quiz_show_question_results",TEXT_QUESTION_PROMPT:"text_question_prompt",TEXT_QUESTION_RESPONSE:"text_question_response"})}),null);
__d("XLiveVideoPollsVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/livevideo/polls/vote/",{poll_id:{type:"FBID"},poll_option_id:{type:"FBID"},undo_vote:{type:"Bool",defaultValue:!1},video_id:{type:"FBID"},live_video_card_id:{type:"FBID"}})}),null);
__d("FBBPollDataPluginView.react",["ix","cx","fbt","AsyncRequest","FBBPollDataPluginViewOption.react","FBBPollDataPluginViewOptionResult.react","FBBReactPluginView.react","Image.react","JSEnumValueToGraphQLKey","React","VideoCardType","XLiveVideoPollsVoteController","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){a=(a=a.options)!=null?a:[];for(var b=0;b<a.length;b++)if(a[b].viewer_voted)return b;return null}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={correctAnswer:null,isPostingVote:!1,optionPercentages:[],selectedOption:k(c.props.pollData)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a;this.setState({correctAnswer:(a=this.props.pollData.results)==null?void 0:a.correct_answer,optionPercentages:((a=this.props.pollData.results)==null?void 0:a.option_percentages)||[]})};d.$1=function(a){var c=this,d;if(this.state.isPostingVote)return;var e=this.state.selectedOption,f=e===a,g=this.props,h=g.pollData,i=g.videoID;g=g.liveVideoCardID;d=b("nullthrows")((d=h.options)==null?void 0:d[a]);h=b("XLiveVideoPollsVoteController").getURIBuilder().setFBID("poll_id",h.poll_id).setFBID("poll_option_id",d.id).setBool("undo_vote",f).setFBID("video_id",i).setFBID("live_video_card_id",g).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))());h.setMethod("POST").setPayloadHandler(function(b){c.setState({correctAnswer:b.correctAnswer,isPostingVote:!1,optionPercentages:b.optionPercentages||[],selectedOption:f?null:a})}).setErrorHandler(function(){c.setState({isPostingVote:!1,selectedOption:e})}).send();this.setState({isPostingVote:!0,selectedOption:a})};d.$2=function(){return this.state.selectedOption!=null};d.$3=function(){var a;a=(a=this.props.pollData.results)==null?void 0:a.option_percentages;var b=this.state.optionPercentages;return b.length===0&&a!=null?a:b};d.$4=function(){var a;return this.state.correctAnswer!=null?this.state.correctAnswer:(a=this.props.pollData.results)==null?void 0:a.correct_answer};d.$5=function(){var a=this.props.pollData,c=a.is_voting_open;a=a.live_video_card_type;c=c===!0;return a!==b("JSEnumValueToGraphQLKey")(b("VideoCardType"),"live_poll_voting")&&this.$3().length>0&&(!c||c&&this.$2())};d.componentDidUpdate=function(a){var b;((b=a.pollData.results)==null?void 0:b.option_percentages)!==((b=this.props.pollData.results)==null?void 0:b.option_percentages)&&this.setState({optionPercentages:[]});b=k(this.props.pollData);k(a.pollData)!==b&&this.setState({selectedOption:b})};d.renderTitle=function(){return j.jsxs(j.Fragment,{children:[j.jsxs("span",{className:"_3_ad",children:[this.props.pollData.is_voting_open===!0?i._("Take the poll:"):i._("Poll:")," "]}),j.jsx("span",{className:"_6of1",children:this.props.pollData.question_text})]})};d.renderBody=function(){var a=this,c=this.props.pollData,d=this.state,e=d.isPostingVote,f=d.selectedOption,h=this.$3(),k=this.$4(),l=this.$2();d=(d=c.options)!=null?d:[];var m=c.is_voting_open===!0;return j.jsxs("div",{children:[d.map(this.$5()?function(d,g){var i;return j.jsx(b("FBBPollDataPluginViewOptionResult.react"),{disabled:!m||e||k!=null,facepileSize:(i=c.facepile_image_size)!=null?i:24,highlight:f===g,isCorrect:k===d.id,isWrong:f===g&&k!=null&&k!==d.id,option:d,percentage:h[g],onClick:function(){a.$1(g)}},"fbb-live-poll-result-"+g)}:function(c,d){return j.jsx(b("FBBPollDataPluginViewOption.react"),{disabled:!m||e,hasVoted:l,highlight:f===d,onClick:function(){a.$1(d)},option:c},"fbb-live-poll-option-"+d)}),l&&!e&&!this.$5()?j.jsx("div",{className:"_2y3g",children:i._("Poll results are hidden.")}):null,j.jsx("div",{className:"_39te"}),j.jsxs("div",{className:"_7yd-",children:[j.jsxs("div",{className:"_7yd_",children:[i._("Public")," "+String.fromCodePoint(183)+" "]}),j.jsx(b("Image.react"),{className:"_7ye0",src:g("480302")})]})]})};d.render=function(){return j.jsx(b("FBBReactPluginView.react"),{className:"_1iqo",title:this.renderTitle(),body:this.renderBody(),labelCloseButton:i._("Close Poll"),onClick:this.props.onCloseClick})};return c}(j.PureComponent);e.exports=a}),null);
__d("FBBPluginView.react",["csx","cx","CSS","CSSAnimationBuilder","DOM","DOMContainer.react","Event","FBBPollDataPluginView.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=300;a=function(a){babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.componentWillAppear=function(a){this.componentWillEnter(a)};c.componentWillEnter=function(a){if(!this.$3)return;a=b("CSSAnimationBuilder").keyframeAnimation(this.$3).defineKeyframe("0%",{opacity:0}).defineKeyframe("100%",{opacity:1}).setDuration(j/1e3).setIterationCount(1).setFinishedCallback(a);a.start()};function d(c){var d;d=a.call(this,c)||this;if(c.markup){c=b("DOM").find(c.markup,"._7vps");d.$1=b("Event").listen(c,"click",d.props.onCloseClick)}return d}c.componentDidMount=function(){var a=this,c=this.$3;if(!c)return;this.$2=b("Event").listen(c,"animationend",function(){!a.props.visible?b("CSS").addClass(c,"_2fw9"):b("CSS").removeClass(c,"_2fw9")})};c.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2.remove()};c.render=function(){var a=this,c=this.props,d=c.className,e=c.markup,f=c.onCloseClick,g=c.pollData,h=c.videoID;c=c.visible;return i.jsx("div",{ref:function(b){a.$3=b},className:b("joinClasses")(d,"_2e9k"+(c?"":" _2fwa")+(c?" _2fwb":"")),children:e?i.jsx(b("DOMContainer.react"),{children:e}):g&&g.poll_id!=null?i.jsx(b("FBBPollDataPluginView.react"),{onCloseClick:f,pollData:g,videoID:h,liveVideoCardID:g.live_video_card_id}):null})};return d}(i.Component);e.exports=a}),null);
__d("FBBPluginPopup.react",["cx","FBBPluginCollapsedSnippet.react","FBBPluginSnippet.react","FBBPluginView.react","FBBTimePluginStateController","React","ReactTransitionGroup"],(function(a,b,c,d,e,f,g){"use strict";b("FBBTimePluginStateController").FBBTimePluginStateController;var h=b("FBBTimePluginStateController").FBBViewActions,i=b("FBBTimePluginStateController").FBBViewStates,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={viewState:i.HIDDEN};c.$3=function(){c.$2.initiateAction(h.EXPAND)};c.$4=function(){c.$2.initiateAction(h.COLLAPSE)};c.$1=!1;c.$2=b.stateController;return c}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$2.registerComponentControl(function(b){a.setState({viewState:b})})};d.componentDidUpdate=function(){var a=this;this.$2!=this.props.stateController&&(this.$2=this.props.stateController,this.$2.registerComponentControl(function(b){a.setState({viewState:b})}))};d.componentWillUnmount=function(){this.$2.destroy()};d.render=function(){var a,c=this.props.payload,d=c.iconSrc,e=c.fbbSnippetMarkup,f=c.mainViewMarkup;c=c.pollData;a=(a=c==null?void 0:c.video_poll_placement)!=null?a:"top_right";a=a.toLowerCase();var g=null;switch(this.state.viewState){case i.SNIPPET:g=j.jsx(b("FBBPluginSnippet.react"),{markup:e,pollData:c,iconSrc:d,onClick:this.$3,className:this.getVideoPollCardClass(a)},"snippet");break;case i.ICON:g=j.jsx(b("FBBPluginCollapsedSnippet.react"),{iconSrc:d,onClick:this.$3,className:this.getVideoPollCardClass(a),vpc:this.props.vpc});break;case i.EXPANDED:this.$1=!0;break}return j.jsx("div",{className:this.props.className,children:j.jsxs(b("ReactTransitionGroup"),{children:[g,this.$1?j.jsx(b("FBBPluginView.react"),{markup:f,pollData:c,onCloseClick:this.$4,className:this.getVideoPollCardClass(a),videoID:this.props.vpc.getVideoID(),visible:this.state.viewState===i.EXPANDED},"view"):null]})})};d.getVideoPollCardClass=function(a){if(a==="top_left")return"_7uep";else if(a==="top_right")return"_7ueq";else if(a==="bottom_left")return"_7uer";else return"_7ues"};return c}(j.Component);e.exports=a}),null);
__d("FBBPlugin.react",["FBBPluginPopup.react","FBBTimePluginStateController","React"],(function(a,b,c,d,e,f){"use strict";var g=b("FBBTimePluginStateController").FBBTimePluginStateController,h=b("FBBTimePluginStateController").FBBViewStates,i=b("React");function j(a){var b;b=(b=(b=(b=a.pollData)==null?void 0:b.poll_id)!=null?b:(b=a.textQuestionData)==null?void 0:(b=b.text_question)==null?void 0:b.id)!=null?b:"VOD";return b+"_"+a.releaseTimestamp}a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$3=function(a){c.$2=a};c.$4=function(a){return c.$2!=null&&c.$2!==a};b.stateControllers==null&&(c.$1=b.pluginPayloads.map(function(a){var b=a.releaseTimestamp,d=a.hideTimestamp;return new g(h.HIDDEN,c.props.vpc,{releaseTime:b,hideTime:d,key:j(a)},c.$3,c.$4,a.pollDataLoggingInfo,!1)}));return c}var d=c.prototype;d.render=function(){var a=this,c=this.props.stateControllers||this.$1,d=this.props.pluginPayloads.map(function(d,e){return i.jsx(b("FBBPluginPopup.react"),{payload:d,vpc:a.props.vpc,stateController:c[e]},d.releaseTimestamp)});return i.jsx("div",{children:d})};return c}(i.Component);e.exports=a}),null);
__d("FBBLivePlugin.react",["FBBPlugin.react","FBBTimePluginStateController","React","RelayModern","clearInterval","nullthrows","setInterval","FBBLivePlugin_contextComponents.graphql","FBBLivePluginRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("FBBTimePluginStateController").FBBTimePluginStateController,j=b("FBBTimePluginStateController").FBBViewStates,k=b("React");a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var l=5e3;function m(a){var c;c=b("nullthrows")((c=(c=a.pollData)==null?void 0:c.poll_id)!=null?c:(c=a.textQuestionData)==null?void 0:(c=c.text_question)==null?void 0:c.id,"Unknown payload");return c+"_"+a.releaseTimestamp}function n(a){return a===-1?a:a/1e3}function o(a){a=((a=a.poll_plugin)==null?void 0:a.poll_id)!=null;return a}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2={},c.$7=function(a){c.$3=a},c.$8=function(a){return c.$3!=null&&c.$3!==a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$4(this.props.contextComponents)};d.componentDidUpdate=function(a){var b=this.props.contextComponents;a.contextComponents!==b&&this.$4(b)};d.componentWillUnmount=function(){this.$5()};d.$4=function(a){a.length>0?this.$6():this.$5()};d.$6=function(){var a=this;if(this.$1)return;this.$1=b("setInterval")(function(){a.props.relay.refetch({videoID:a.props.vpc.getVideoID()},null,null,{force:!0})},l)};d.$5=function(){b("clearInterval")(this.$1),this.$1=null};d.$9=function(){var a=this,b=this.props.contextComponents.filter(function(a){return a.flexible_bonus_button_icon_src!=null&&o(a)&&a.hide_timestamp!=null&&a.release_timestamp!=null});return b.map(function(b){var c;return{hideTimestamp:n(b.hide_timestamp),iconSrc:b.flexible_bonus_button_icon_src,pollData:b.poll_plugin,releaseTimestamp:n(b.release_timestamp),pollDataLoggingInfo:{pollID:Number((c=b.poll_plugin)==null?void 0:c.poll_id),videoID:Number(a.props.vpc.getVideoID()),pollOwnerID:Number(b.poll_owner_id)}}})};d.$10=function(a){var b=this;return a.map(function(a){var c=m(a),d=b.$2[c];d==null?b.$2[c]=new i(j.HIDDEN,b.props.vpc,{releaseTime:a.releaseTimestamp,hideTime:a.hideTimestamp,key:c},b.props.isWasLive?b.$7:function(){},b.$8,{pollID:Number(a.pollDataLoggingInfo.pollID),videoID:Number(a.pollDataLoggingInfo.videoID),pollOwnerID:Number(a.pollDataLoggingInfo.pollOwnerID)},!1):b.$2[c]=d.updateHideTime(a.hideTimestamp);return b.$2[c]})};d.render=function(){var a=this.$9();return k.jsx(b("FBBPlugin.react"),{pluginPayloads:a,stateControllers:this.$10(a),vpc:this.props.vpc})};return c}(k.PureComponent);e.exports=a(c,{contextComponents:g!==void 0?g:g=b("FBBLivePlugin_contextComponents.graphql")},h!==void 0?h:h=b("FBBLivePluginRefetchQuery.graphql"))}),null);
__d("VideoPollCardActions",["VideoPollCardActionTypes","VideoPollCardDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){b("VideoPollCardDispatcher").dispatch({type:b("VideoPollCardActionTypes").MARK_POLL_CARD_ACTIVE,pollEventID:a,vpcID:c})};c=function(a,c){b("VideoPollCardDispatcher").dispatch({type:b("VideoPollCardActionTypes").MARK_POLL_CARD_INACTIVE,pollEventID:a,vpcID:c})};e.exports={markPollCardActive:a,markPollCardInactive:c}}),null);
__d("VideoPollCardHeader.react",["ix","cx","ClickableArea.react","FlexLayout.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"all",className:"_81g9",children:[i.jsx("div",{className:"_7y76",children:this.props.question}),this.props.showCloseButton?i.jsx(b("ClickableArea.react"),{onClick:this.props.onCloseButtonClick.bind(this),children:i.jsx("div",{className:"_7-zi",children:i.jsx(b("Image.react"),{src:this.props.preview?g("480716"):g("480712")})})}):null]})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoPollCardUtils",[],(function(a,b,c,d,e,f){"use strict";a=15;b=85;c={SMALL_BINARY_OPTION_MIN_WIDTH:a,BIG_BINARY_OPTION_MAX_WIDTH:b};d=function(a){return!a.pollCardStateData.selectedOptionExists&&!a.pollCardStateData.canViewerVote};e.exports={disabledState:d,VideoPollCardConstants:c}}),null);
__d("VideoPollCardOptionBinaryResultRow.react",["cx","FlexLayout.react","Image.react","React","VideoPollCardUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.option.stickerURI!=="",c=this.props.option.pollCardStateData.correctAnswerExists;return h.jsxs(b("FlexLayout.react"),{direction:"vertical",align:"center",justify:"evenly",className:"_7-zq",children:[h.jsx("div",{className:"_7y4b _7-zr"+(this.props.option.selectedOption?" _7-ej":"")+(this.props.option.isCorrect?" _8nhb":"")+(!this.props.option.selectedOption||this.props.option.percentage<=b("VideoPollCardUtils").VideoPollCardConstants.SMALL_BINARY_OPTION_MIN_WIDTH?" _7-em":""),children:a?h.jsx(b("Image.react"),{className:"_87ok",src:this.props.option.stickerURI}):h.jsx("div",{className:c?"_8nhc":"",children:this.props.option.optionText})}),h.jsx("div",{className:"_7y4b _7-zs"+(this.props.option.selectedOption?" _7-ej":"")+(!this.props.option.selectedOption||this.props.option.percentage<=b("VideoPollCardUtils").VideoPollCardConstants.SMALL_BINARY_OPTION_MIN_WIDTH?" _7-em":""),children:this.props.option.percentage+"%"})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPollCardOptionResultRow.react",["cx","FlexLayout.react","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=!this.props.option.pollCardStateData.selectedOptionExists&&!this.props.option.pollCardStateData.canViewerVote,c=this.props.option.stickerURI!=="";return h.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"evenly",className:"_7-zw",children:[h.jsx("div",{className:"_7y4b _7-zx"+(this.props.option.selectedOption?" _7-ej":"")+(this.props.option.selectedOption?"":" _7-zp")+(this.props.option.isCorrect?" _8nhb":"")+(a?" _7-em":""),children:c?h.jsx(b("Image.react"),{className:"_8748",src:this.props.option.stickerURI}):h.jsx("div",{className:this.props.option.pollCardStateData.correctAnswerExists?"_8nhc":"",children:this.props.option.optionText})}),h.jsx("div",{className:"_7y4b _7-ys"+(this.props.option.selectedOption?" _7-ej":"")+(this.props.option.selectedOption?"":" _7-zp")+(a?" _7-em":""),children:this.props.option.percentage+"%"})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPollCardOptionRow.react",["cx","FlexLayout.react","Image.react","React","VideoPollCardUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoPollCardUtils").disabledState;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=i(this.props.option),c=this.props.option.stickerURI!=="";return h.jsx(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"evenly",className:"_7-zn",children:h.jsx("div",{className:"_7y4b _7-zo"+(this.props.option.selectedOption?" _7-ej":"")+(this.props.option.pollCardStateData.selectedOptionExists&&!this.props.option.selectedOption?" _7-zp":"")+(a?" _7-em":""),children:c?h.jsx(b("Image.react"),{className:"_8748",src:this.props.option.stickerURI}):h.jsx("div",{children:this.props.option.optionText})})})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPollCardOptionComponent.react",["cssVar","cx","ClickableArea.react","React","VideoPollCardOptionBinaryResultRow.react","VideoPollCardOptionResultRow.react","VideoPollCardOptionRow.react","VideoPollCardUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getColor=function(a){if(this.props.option.pollCardStateData.selectedOptionExists!=!0)return a?"#DADDE1":"#F2F3F5";else if(this.props.option.selectedOption===!0)return a?"#3578E5":"#B0D5FF";else return a?"#EBEDF0":"#FFFFFF"};d.getOffestColorForBinary=function(a){if(b("VideoPollCardUtils").disabledState(this.props.option))return a?"#DADDE1":"#F2F3F5";if(a&&this.props.index===0||!a&&this.props.index===1)return this.props.option.selectedOption?"#3578E5":"#FFFFFF";else return this.props.option.selectedOption?"#FFFFFF":"#3578E5"};d.getOffsetPercentageForBinary=function(a){if(a&&this.props.index===0||!a&&this.props.index===1)return Math.round(this.props.option.percentage*100/b("VideoPollCardUtils").VideoPollCardConstants.SMALL_BINARY_OPTION_MIN_WIDTH);else return 100-Math.round(this.props.option.percentage*100/b("VideoPollCardUtils").VideoPollCardConstants.SMALL_BINARY_OPTION_MIN_WIDTH)};d.getResultDivStyle=function(){if(this.props.numOptions===2){var a=this.props.option.percentage<b("VideoPollCardUtils").VideoPollCardConstants.SMALL_BINARY_OPTION_MIN_WIDTH?this.props.option.percentage<=0?0:b("VideoPollCardUtils").VideoPollCardConstants.SMALL_BINARY_OPTION_MIN_WIDTH:this.props.option.percentage>b("VideoPollCardUtils").VideoPollCardConstants.BIG_BINARY_OPTION_MAX_WIDTH?this.props.option.percentage>=100?100:b("VideoPollCardUtils").VideoPollCardConstants.BIG_BINARY_OPTION_MAX_WIDTH:this.props.option.percentage;return a===100?{width:a+"%",borderRadius:"24px"}:a===0?this.props.option.pollCardStateData.totalVotes===0?{width:"50%"}:{display:"none"}:a<=b("VideoPollCardUtils").VideoPollCardConstants.SMALL_BINARY_OPTION_MIN_WIDTH?{width:a+"%",backgroundImage:"linear-gradient(90deg, "+this.getOffestColorForBinary(!0)+" "+this.getOffsetPercentageForBinary(!0)+"%, "+this.getOffestColorForBinary(!1)+" 1%",border:"0"}:{width:a+"%",border:"0"}}else return{backgroundImage:"linear-gradient(90deg, "+this.getColor(!0)+" "+this.props.option.percentage+"%, "+this.getColor(!1)+" 1%"}};d.render=function(){var a=(this.props.option.pollCardStateData.selectedOptionExists||!this.props.option.pollCardStateData.canViewerVote)&&this.props.option.pollCardStateData.canViewerSeeResult,c=b("VideoPollCardUtils").disabledState(this.props.option);return i.jsx(b("ClickableArea.react"),{onClick:this.props.option.selectedOption?this.props.changeVote.bind(this,!1,this.props.option.id):this.props.changeVote.bind(this,!0,this.props.option.id),children:i.jsx("div",{className:"_7yk1"+(this.props.numOptions===2?" _7y49":"")+(this.props.numOptions===2&&this.props.index===0?" _7y4a":"")+(this.props.numOptions===2&&this.props.index===1?" _7y4c":"")+(this.props.numOptions===3?" _7ylv":"")+(this.props.numOptions===4?" _7yk0":"")+(this.props.index>=3&&this.props.numOptions===5?" _7yln":"")+(this.props.index<3&&this.props.numOptions===5||this.props.numOptions===6?" _7yll":"")+(this.props.option.selectedOption?" _7-eh":"")+(this.props.option.pollCardStateData.selectedOptionExists&&!this.props.option.selectedOption?" _7-yp":"")+(c&&(this.props.numOptions!==2||this.props.index===0)?" _7-yq":"")+(c&&this.props.index===1&&this.props.numOptions===2?" _7-yr":"")+(this.props.option.pollCardStateData.canViewerVote?"":" _7-ei"),style:a?this.getResultDivStyle():null,children:a?this.props.numOptions===2?i.jsx(b("VideoPollCardOptionBinaryResultRow.react"),{option:this.props.option}):i.jsx(b("VideoPollCardOptionResultRow.react"),{option:this.props.option}):i.jsx(b("VideoPollCardOptionRow.react"),{option:this.props.option})})})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoPollCardFiveOptionComponent.react",["cx","FlexLayout.react","React","VideoPollCardOptionComponent.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.options.map(function(c,d){return h.jsx(b("VideoPollCardOptionComponent.react"),{option:c,index:d,numOptions:a.props.options.length,changeVote:a.props.changeVote},d)});return h.jsxs(b("FlexLayout.react"),{direction:"vertical",align:"center",justify:"evenly",className:"_7ylm",children:[h.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"evenly",className:"_7yk3",children:[c[0],c[1],c[2]]}),h.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"evenly",className:"_7yk5",children:[c[3],c[4]]})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPollCardFourOptionComponent.react",["cx","FlexLayout.react","React","VideoPollCardOptionComponent.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.options.map(function(c,d){return h.jsx(b("VideoPollCardOptionComponent.react"),{option:c,index:d,numOptions:a.props.options.length,changeVote:a.props.changeVote},d)});return h.jsxs(b("FlexLayout.react"),{direction:"vertical",align:"center",justify:"evenly",className:"_7yk2",children:[h.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"evenly",className:"_7yk3",children:[c[0],c[1]]}),h.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"evenly",className:"_7yk3",children:[c[2],c[3]]})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPollCardSixOptionComponent.react",["cx","FlexLayout.react","React","VideoPollCardOptionComponent.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.options.map(function(c,d){return h.jsx(b("VideoPollCardOptionComponent.react"),{option:c,index:d,numOptions:a.props.options.length,changeVote:a.props.changeVote},d)});return h.jsxs(b("FlexLayout.react"),{direction:"vertical",align:"center",justify:"evenly",className:"_7ylm",children:[h.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"evenly",className:"_7yk3",children:[c[0],c[1],c[2]]}),h.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"evenly",className:"_7yk3",children:[c[3],c[4],c[5]]})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPollCardThreeOptionComponent.react",["cx","FlexLayout.react","React","VideoPollCardOptionComponent.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"evenly",className:"_7ylu",children:this.props.options.map(function(c,d){return h.jsx(b("VideoPollCardOptionComponent.react"),{option:c,index:d,numOptions:a.props.options.length,changeVote:a.props.changeVote},d)})})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPollCardTwoOptionComponent.react",["cx","FlexLayout.react","React","VideoPollCardOptionComponent.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("FlexLayout.react"),{direction:"horizontal",align:"center",className:"_7y48",children:this.props.options.map(function(c,d){return h.jsx(b("VideoPollCardOptionComponent.react"),{option:c,index:d,numOptions:a.props.options.length,changeVote:a.props.changeVote},d)})})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPollCardOptionContainer.react",["React","VideoPollCardFiveOptionComponent.react","VideoPollCardFourOptionComponent.react","VideoPollCardSixOptionComponent.react","VideoPollCardThreeOptionComponent.react","VideoPollCardTwoOptionComponent.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){switch(this.props.options.length){case 2:return g.jsx(b("VideoPollCardTwoOptionComponent.react"),{options:this.props.options,changeVote:this.props.changeVote});case 3:return g.jsx(b("VideoPollCardThreeOptionComponent.react"),{options:this.props.options,changeVote:this.props.changeVote});case 4:return g.jsx(b("VideoPollCardFourOptionComponent.react"),{options:this.props.options,changeVote:this.props.changeVote});case 5:return g.jsx(b("VideoPollCardFiveOptionComponent.react"),{options:this.props.options,changeVote:this.props.changeVote});case 6:return g.jsx(b("VideoPollCardSixOptionComponent.react"),{options:this.props.options,changeVote:this.props.changeVote});default:return null}};return c}(g.PureComponent);e.exports=a}),null);
__d("VideoPollCardExpanded.react",["cx","FlexLayout.react","React","VideoPollCardActions","VideoPollCardHeader.react","VideoPollCardOptionContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("VideoPollCardActions").markPollCardActive(this.props.pollCardData.id,this.props.vpcID)};d.componentWillUnmount=function(){b("VideoPollCardActions").markPollCardInactive(this.props.pollCardData.id,this.props.vpcID)};d.render=function(){return h.jsxs(b("FlexLayout.react"),{direction:"vertical",align:"center",justify:"all",className:(this.props.preview?"":"_7y75")+(this.props.pollCardData.options.length===2&&!this.props.preview?" _7ylo":"")+(this.props.pollCardData.options.length===3&&!this.props.preview?" _7ylp":"")+(this.props.pollCardData.options.length===4&&!this.props.preview?" _7ylq":"")+((this.props.pollCardData.options.length===5||this.props.pollCardData.options.length===6)&&!this.props.preview?" _7ylr":"")+(this.props.preview?" _81ga":"")+(this.props.preview?" _81g6":""),style:{bottom:this.props.isLive&&!this.props.preview?"9%":(this.props.bottom===0?35:this.props.bottom)+"px"},children:[h.jsx(b("VideoPollCardHeader.react"),{question:this.props.pollCardData.questionText,optionCount:this.props.pollCardData.options.length,onCloseButtonClick:this.props.onCloseButtonClick,preview:this.props.preview,showCloseButton:!0}),h.jsx(b("VideoPollCardOptionContainer.react"),{options:this.props.options,changeVote:this.props.changeVote})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPollCardPreview.react",["ix","cx","ClickableArea.react","FlexLayout.react","Image.react","React","VideoPollCardActions","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("VideoPollCardActions").markPollCardActive(this.props.eventID,this.props.vpcID)};d.componentWillUnmount=function(){b("VideoPollCardActions").markPollCardInactive(this.props.eventID,this.props.vpcID)};d.render=function(){var a=this;return i.jsx("div",{onClick:this.props.onExpand,className:"_81g6",style:{bottom:(this.props.bottom===0?15:this.props.bottom)+"px"},children:i.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"all",className:"_81g7",children:[i.jsx(b("Image.react"),{className:"_81g2",src:g("936895")}),i.jsx("div",{className:"_81g8",children:this.props.question}),i.jsx(b("ClickableArea.react"),{onClick:function(b){b.stopPropagation(),a.props.onCloseButtonClick()},children:i.jsx("div",{className:"_81g5",children:i.jsx(b("Image.react"),{src:g("499705")})})})]})})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoPollCard.react",["FBBTimePluginStateController","FlexLayout.react","React","RelayFBEnvironment","RelayModern","VideoPlayerUIComponentDrawer","VideoPollCardExpanded.react","VideoPollCardPreview.react","VideoPollsTypedLogger","VideoPollCardVoteMutation.graphql","VideoPollCardUndoVoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h;b("FBBTimePluginStateController").FBBTimePluginStateController;var i=b("FBBTimePluginStateController").FBBViewActions,j=b("FBBTimePluginStateController").FBBViewStates,k=b("React"),l=b("RelayModern").commitMutation;b("RelayModern").graphql;var m=g!==void 0?g:g=b("VideoPollCardVoteMutation.graphql"),n=h!==void 0?h:h=b("VideoPollCardUndoVoteMutation.graphql"),o=3e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={viewState:j.HIDDEN,options:d.props.pollCardData.options,isPropogatingSave:!1,voteTimeoutID:null,voteKey:"",bottom:0,totalVotes:d.props.pollCardData.totalVotes};d.$3=function(){d.$1.initiateAction(i.COLLAPSE),new(b("VideoPollsTypedLogger"))().setEvent("vote_card_closed").setVideoPollID(d.props.pollCardData.pollID).setOwnerID(d.props.pollCardData.pollOwnerID).setVideoID(d.props.pollCardData.videoID).setVideoPollCardSource(d.props.vpc.getSource()).setCometDesign(!0).log()};d.$5=function(){d.props.vpc.clickVideo(),new(b("VideoPollsTypedLogger"))().setEvent("vote_card_preview_clicked").setVideoPollID(d.props.pollCardData.pollID).setOwnerID(d.props.pollCardData.pollOwnerID).setVideoID(d.props.pollCardData.videoID).setCometDesign(!0).log()};d.$4=function(a,c){if(!d.props.pollCardData.canViewerVote)return;d.setState({isPropogatingSave:!0,voteKey:(a?"vote":"unvote")+c});window.clearTimeout(d.state.voteTimeoutID);d.shallowUpdateSelectedOption(c,a);d.setState({voteTimeoutID:window.setTimeout(function(){l(b("RelayFBEnvironment"),{mutation:a?m:n,onCompleted:function(b,e){d.props.refetchPollEventData(function(){d.state.voteKey===(a?"vote":"unvote")+c&&d.setState({isPropogatingSave:!1})})},variables:{input:{video_id:d.props.pollCardData.videoID,option_id:c,id:d.props.pollCardData.id}}})},o)})};d.$2=d.props.vpc.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.PollCard,0);d.$2.addListener("reposition",d.reposition.bind(babelHelpers.assertThisInitialized(d)));d.$1=c.stateController;return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1.registerComponentControl(function(b){a.setState({viewState:b},function(){a.state.viewState===j.EXPANDED||a.state.viewState===j.PREVIEW?a.expand():a.hide()})})};d.componentDidUpdate=function(a){var b=this;this.$1!=this.props.stateController&&(this.$1=this.props.stateController,this.$1.registerComponentControl(function(a){b.setState({viewState:a},function(){b.state.viewState===j.EXPANDED||b.state.viewState===j.PREVIEW?b.expand():b.hide()})}));this.props.pollCardData.options!=this.state.options&&!this.state.isPropogatingSave&&this.setState({options:this.props.pollCardData.options,totalVotes:this.props.pollCardData.totalVotes})};d.componentWillUnmount=function(){this.$1.destroy(),this.$2.release()};d.reposition=function(a){a!==null&&this.setState({bottom:a})};d.expand=function(){this.$2.reserve()};d.hide=function(){this.$2.release()};d.shallowUpdateSelectedOption=function(a,b){var c=this;this.setState(function(d){if(a==null)return{};d=d.options.slice();var e=c.state.totalVotes+(b?d[0].pollCardStateData.selectedOptionExists?0:1:-1);for(var f=0;f<d.length;f++){var g=d[f].id===a?d[f].numVotes+(b?1:-1):d[f].numVotes+(d[f].selectedOption?-1:0);d[f]={id:d[f].id,isCorrect:d[f].isCorrect,selectedOption:d[f].id===a?b:!1,optionText:d[f].optionText,stickerURI:d[f].stickerURI,percentage:Math.round(g*100/e),numVotes:g,pollCardStateData:{correctAnswerExists:d[f].pollCardStateData.correctAnswerExists,selectedOptionExists:b,canViewerVote:d[f].pollCardStateData.canViewerVote,canViewerSeeResult:d[f].pollCardStateData.canViewerSeeResult&&e>=1,totalVotes:e}}}return{options:d,totalVotes:e}})};d.render=function(){var a=null,c=this.state.viewState===j.PREVIEW&&this.state.options.length===2?j.EXPANDED:this.state.viewState;switch(c){case j.EXPANDED:a=k.jsx(b("VideoPollCardExpanded.react"),{question:this.props.pollCardData.questionText,options:this.state.options,pollCardData:this.props.pollCardData,onCloseButtonClick:this.$3,changeVote:this.$4,bottom:this.state.bottom,isLive:this.props.isLive,preview:this.state.viewState===j.PREVIEW,vpcID:this.props.vpc.getVideoPlayerID()});break;case j.PREVIEW:a=k.jsx(b("VideoPollCardPreview.react"),{question:this.props.pollCardData.questionText,onCloseButtonClick:this.$3,onExpand:this.$5,bottom:this.state.bottom,vpcID:this.props.vpc.getVideoPlayerID(),eventID:this.props.pollCardData.id});break}return k.jsx(b("FlexLayout.react"),{direction:"vertical",align:"center",children:a})};return c}(k.PureComponent);e.exports=a}),null);
__d("VideoPollCardContainer.react",["FBBTimePluginStateController","React","RelayModern","VideoPollCard.react","VideoPollCardContainer_pollEventData.graphql","VideoPollCardContainerRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("FBBTimePluginStateController").FBBTimePluginStateController,j=b("FBBTimePluginStateController").FBBViewStates,k=b("React");a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1={},c.$3=function(a){c.props.relay.refetch({videoID:c.props.vpc.getVideoID()},null,a,{force:!0});return},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){var a=this.props.pollEventData.filter(function(a){return a.hide_timestamp!=null&&a.release_timestamp!=null&&a.question_text!=null&&a.video_poll_event_options!=null});return a.map(function(a){var b=a.video_poll_event_options.some(function(a){return a.is_correct===!0});return{id:a.id,hideTimestamp:a.hide_timestamp,releaseTimestamp:a.release_timestamp,questionText:a.question_text,totalVotes:a.total_votes,options:a.video_poll_event_options.map(function(c){var d;return{id:c.id,isCorrect:c.is_correct,selectedOption:c.is_viewers_choice,optionText:c.option_text,stickerURI:(d=(d=(d=c.sticker)==null?void 0:(d=d.animated_image)==null?void 0:d.uri)!=null?d:(d=c.sticker)==null?void 0:d.url)!=null?d:"",percentage:Math.round(c.num_votes*100/a.total_votes),numVotes:c.num_votes,pollCardStateData:{correctAnswerExists:b,selectedOptionExists:a.has_viewer_voted,canViewerSeeResult:a.can_viewer_see_result&&a.total_votes>=1,canViewerVote:a.can_viewer_vote,totalVotes:a.total_votes}}}),canViewerVote:a.can_viewer_vote,videoID:a.video_id,pollID:a.poll_id,pollOwnerID:a.poll_owner_id}})};d.getStateController=function(a){var b=a.id,c=this.$1[b];c==null?this.$1[b]=new i(j.HIDDEN,this.props.vpc,{releaseTime:a.releaseTimestamp,hideTime:a.hideTimestamp,key:b},function(){},function(a){return!1},{pollID:parseInt(a.pollID,10),videoID:parseInt(a.videoID,10),pollOwnerID:parseInt(a.pollOwnerID,10)},!0):this.$1[b]=c.updateHideTime(a.hideTimestamp);return this.$1[b]};d.render=function(){var a=this,c=this.$2().map(function(c){return k.jsx(b("VideoPollCard.react"),{vpc:a.props.vpc,pollCardData:c,refetchPollEventData:a.$3,stateController:a.getStateController(c),isLive:a.props.isLive},c.id)});return k.jsx("div",{children:c})};return c}(k.PureComponent);e.exports=a(c,{pollEventData:g!==void 0?g:g=b("VideoPollCardContainer_pollEventData.graphql")},h!==void 0?h:h=b("VideoPollCardContainerRefetchQuery.graphql"))}),null);
__d("FBBLivePluginContainer.react",["FBBLivePlugin.react","React","RelayFBEnvironment","RelayModern","VideoBroadcastStatus","VideoComponent","VideoPollCardContainer.react","FBBLivePluginContainerSubscription.graphql","FBBLivePluginContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("React"),j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var k=b("RelayModern").requestSubscription;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=!1,c.state={vpc:c.props.vpc},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.vpc!=null&&this.enable(this.props.vpc)};d.componentDidUpdate=function(a){var b=this.props;b.vpc!==a.vpc&&(b.vpc!=null?this.enable(b.vpc):this.disable())};d.componentWillUnmount=function(){this.$2=!0,this.disable()};d.enable=function(a){var c;this.setState({vpc:a});(c=this.$1)==null?void 0:c.dispose();this.props.broadcastStatus!=null&&this.props.broadcastStatus!==b("VideoBroadcastStatus").VOD_READY&&(this.$1=k(b("RelayFBEnvironment"),{subscription:g!==void 0?g:g=b("FBBLivePluginContainerSubscription.graphql"),variables:{input:{video_id:a.getVideoID()}}}))};d.disable=function(){var a;(a=this.$1)==null?void 0:a.dispose();this.$1=null;this.$2||this.setState({vpc:null})};d.render=function(){var a=this,c=this.state.vpc;return c==null?null:i.jsx(j,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("FBBLivePluginContainerQuery.graphql"),cacheConfig:{force:!0},variables:{videoID:c.getVideoID()},render:function(d){var e;d=d.props;e=d==null?void 0:(e=d.video)==null?void 0:e.video_poll_event_nodes;if(e&&e.length!==0)return i.jsx(b("VideoPollCardContainer.react"),{pollEventData:e,vpc:c,isLive:!0});e=d==null?void 0:(e=d.video)==null?void 0:e.live_context_components;return!e?null:i.jsx(b("FBBLivePlugin.react"),{contextComponents:e,vpc:c,isWasLive:a.props.broadcastStatus===b("VideoBroadcastStatus").VOD_READY||a.props.broadcastStatus==null,videoOwner:d==null?void 0:(e=d.video)==null?void 0:e.owner})}})};return c}(i.PureComponent);e.exports=b("VideoComponent").createContainer(a)}),null);