if (self.CavalryLogger) { CavalryLogger.start_js(["1L8yW"]); }

__d("GroupsPollDeleteOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"GroupsQuestionOptionDeleteData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"groups_question_option_delete",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"GroupsQuestionOptionDeleteData!"}],concreteType:"GroupsQuestionOptionDeleteResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"deleted_option_id",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"GroupsPollDeleteOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"GroupsPollDeleteOptionMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"GroupsPollDeleteOptionMutation",id:"1939994219348819",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PollAddOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"QuestionAddOptionData!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"QuestionAddOptionData!"}],c={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e=[d],f={kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:e},g={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},h=[g,d],i=[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],j={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},l=[{kind:"Literal",name:"first",value:10,type:"Int"}],m={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},n={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PollAddOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_add_option",storageKey:null,args:b,concreteType:"QuestionAddOptionResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_question",args:[{kind:"Variable",name:"first",variableName:"first",type:null}]}]},{kind:"LinkedField",alias:null,name:"question_options_edge",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!1,selections:[c,f,{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:null,plural:!1,selections:e}]}]}]},operation:{kind:"Operation",name:"PollAddOptionMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_add_option",storageKey:null,args:b,concreteType:"QuestionAddOptionResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:h},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:i,concreteType:"QuestionOptionsConnection",plural:!1,selections:[j,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[k]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"voters",storageKey:"voters(first:10)",args:l,concreteType:"QuestionOptionVotersConnection",plural:!1,selections:[j,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[m]},g]},c]},n]},{kind:"LinkedHandle",alias:null,name:"voters",args:l,handle:"connection",key:"PollAttachmentComponent_options_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},m]},d]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},d]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},g]},c]},n]},{kind:"LinkedHandle",alias:null,name:"options",args:i,handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]},{kind:"LinkedField",alias:null,name:"question_options_edge",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!1,selections:[c,f,{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:null,plural:!1,selections:h}]}]}]},params:{operationKind:"mutation",name:"PollAddOptionMutation",id:"2004977776227215",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PollAddVoteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"QuestionAddVoteData!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"QuestionAddVoteData!"}],c={kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"voters",storageKey:null,args:null,concreteType:"QuestionOptionVotersConnection",plural:!1,selections:[d]},f={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},h=[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],i={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},j=[{kind:"Literal",name:"first",value:10,type:"Int"}],k={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},m={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PollAddVoteMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_add_vote",storageKey:null,args:b,concreteType:"QuestionAddVoteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[c,e]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_question",args:[{kind:"Variable",name:"first",variableName:"first",type:null}]}]}]}]},operation:{kind:"Operation",name:"PollAddVoteMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_add_vote",storageKey:null,args:b,concreteType:"QuestionAddVoteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[c,e,f]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[f,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,f]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:h,concreteType:"QuestionOptionsConnection",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[f,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[i]},c,{kind:"LinkedField",alias:null,name:"voters",storageKey:"voters(first:10)",args:j,concreteType:"QuestionOptionVotersConnection",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[f,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[k]},g]},l]},m]},{kind:"LinkedHandle",alias:null,name:"voters",args:j,handle:"connection",key:"PollAttachmentComponent_options_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},k]},f]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},f]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},g]},l]},m]},{kind:"LinkedHandle",alias:null,name:"options",args:h,handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]}]},params:{operationKind:"mutation",name:"PollAddVoteMutation",id:"2507674362577913",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PollAttachmentComponentRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"actorID",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"questionID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"actor_id",variableName:"actorID",type:"ID"},{kind:"Variable",name:"id",variableName:"questionID",type:"ID!"}],c=[{kind:"Variable",name:"id",variableName:"actorID",type:"ID"}],d={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},h={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[g]},i={kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},j=[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],k={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},m=[{kind:"Literal",name:"first",value:10,type:"Int"}],n={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PollAttachmentComponentRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"__actor_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_viewer",args:null}]},{kind:"LinkedField",alias:"question",name:"question",storageKey:null,args:b,concreteType:"Question",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_question",args:[{kind:"Variable",name:"first",variableName:"first",type:null}]}]}]},operation:{kind:"Operation",name:"PollAttachmentComponentRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"actor",storageKey:null,args:c,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,e,f,h,{kind:"InlineFragment",type:"User",selections:[i]}]}]},{kind:"LinkedHandle",alias:"viewer",name:"actor",args:c,handle:"viewer",key:"",filters:null},{kind:"LinkedField",alias:"question",name:"question",storageKey:null,args:b,concreteType:"Question",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,e]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:j,concreteType:"QuestionOptionsConnection",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[l]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"voters",storageKey:"voters(first:10)",args:m,concreteType:"QuestionOptionVotersConnection",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,f,i,h,d]},n]},o]},{kind:"LinkedHandle",alias:null,name:"voters",args:m,handle:"connection",key:"PollAttachmentComponent_options_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},g]},e]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},e]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},d]},n]},o]},{kind:"LinkedHandle",alias:null,name:"options",args:j,handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]},params:{operationKind:"query",name:"PollAttachmentComponentRefetchQuery",id:"1931261946952376",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PollAttachmentComponent_question.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},g={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Fragment",name:"PollAttachmentComponent_question",type:"Question",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:null},{count:"first",cursor:null,direction:"forward",path:["options"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"ordering",type:"[QuestionOptionsOrdering]",defaultValue:["vote_count"]}],selections:[a,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]},{kind:"LinkedField",alias:"options",name:"__PollAttachmentComponent_options_connection",storageKey:null,args:null,concreteType:"QuestionOptionsConnection",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[c]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:"voters",name:"__PollAttachmentComponent_options_voters_connection",storageKey:null,args:null,concreteType:"QuestionOptionVotersConnection",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[d]},e]},f]},g]},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},d]}]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},e]},f]},g]}]}}();e.exports=a}),null);
__d("PollAttachmentComponent_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"PollAttachmentComponent_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'}]}]}]};e.exports=a}),null);
__d("PollAttachmentQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"actorID",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"questionID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"actor_id",variableName:"actorID",type:"ID"},{kind:"Variable",name:"id",variableName:"questionID",type:"ID!"}],c=[{kind:"Variable",name:"id",variableName:"actorID",type:"ID"}],d={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},h={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[g]},i={kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},j=[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],k={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},m=[{kind:"Literal",name:"first",value:10,type:"Int"}],n={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PollAttachmentQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"__actor_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_viewer",args:null}]},{kind:"LinkedField",alias:"question",name:"question",storageKey:null,args:b,concreteType:"Question",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_question",args:[{kind:"Variable",name:"first",variableName:"first",type:null}]}]}]},operation:{kind:"Operation",name:"PollAttachmentQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"actor",storageKey:null,args:c,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,e,f,h,{kind:"InlineFragment",type:"User",selections:[i]}]}]},{kind:"LinkedHandle",alias:"viewer",name:"actor",args:c,handle:"viewer",key:"",filters:null},{kind:"LinkedField",alias:"question",name:"question",storageKey:null,args:b,concreteType:"Question",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,e]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:j,concreteType:"QuestionOptionsConnection",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[l]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"voters",storageKey:"voters(first:10)",args:m,concreteType:"QuestionOptionVotersConnection",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,f,i,h,d]},n]},o]},{kind:"LinkedHandle",alias:null,name:"voters",args:m,handle:"connection",key:"PollAttachmentComponent_options_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},g]},e]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},e]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},d]},n]},o]},{kind:"LinkedHandle",alias:null,name:"options",args:j,handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]},params:{operationKind:"query",name:"PollAttachmentQuery",id:"2178851688854681",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PollRemoveVoteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"QuestionRemoveVoteData!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"QuestionRemoveVoteData!"}],c={kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"voters",storageKey:null,args:null,concreteType:"QuestionOptionVotersConnection",plural:!1,selections:[d]},f={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},h=[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],i={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},j=[{kind:"Literal",name:"first",value:10,type:"Int"}],k={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},m={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PollRemoveVoteMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_remove_vote",storageKey:null,args:b,concreteType:"QuestionRemoveVoteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[c,e]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_question",args:[{kind:"Variable",name:"first",variableName:"first",type:null}]}]}]}]},operation:{kind:"Operation",name:"PollRemoveVoteMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_remove_vote",storageKey:null,args:b,concreteType:"QuestionRemoveVoteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[c,e,f]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[f,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,f]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:h,concreteType:"QuestionOptionsConnection",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[f,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[i]},c,{kind:"LinkedField",alias:null,name:"voters",storageKey:"voters(first:10)",args:j,concreteType:"QuestionOptionVotersConnection",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[f,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[k]},g]},l]},m]},{kind:"LinkedHandle",alias:null,name:"voters",args:j,handle:"connection",key:"PollAttachmentComponent_options_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},k]},f]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},f]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},g]},l]},m]},{kind:"LinkedHandle",alias:null,name:"options",args:h,handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]}]},params:{operationKind:"mutation",name:"PollRemoveVoteMutation",id:"1110032859121385",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ReportGroupsPollOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"ReportGroupsPollOptionData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"report_groups_poll_option",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"ReportGroupsPollOptionData!"}],concreteType:"ReportGroupsPollOptionResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"reported_option_id",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"ReportGroupsPollOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ReportGroupsPollOptionMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"ReportGroupsPollOptionMutation",id:"1808065669214752",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PhotoViewState",["ArbiterMixin","PhotoStore","PhotoUtils","SpotlightViewerLoggingEvents","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g;a=babelHelpers.inherits(h,b("mixin")(b("ArbiterMixin")));g=a&&a.prototype;function h(a,b,c){"use strict";__p&&__p();g.constructor.call(this);c=c||{};this._viewer=a;this._setID=b;this._position=c.position||0;this._preventPreload=c.preventPreload;this._reverse=c.reverse;this._updateCallback=c.updateCallback;this._preloaded={}}h.prototype._fetchCallback=function(a){"use strict";if(!this._viewer.isOpen())return;this._preload(a);this._log(b("SpotlightViewerLoggingEvents").DATA_FETCH_COMPLETE)};h.prototype._preload=function(a){"use strict";b("PhotoUtils").preload(this._viewer,a,function(a){this._preloaded[b("PhotoUtils").getFBIDFromData(a)]=!0}.bind(this))};h.prototype._preloadPhotosInRange=function(a,c){"use strict";var d=[];for(var a=a;a<=c;++a){var e=b("PhotoStore").getByIndexImmediate(this._setID,a);e&&!this._isPreloaded(e)&&d.push(e)}this._preload(d)};h.prototype._isPreloaded=function(a){"use strict";return this._preloaded[b("PhotoUtils").getFBIDFromData(a)]};h.prototype.getPosition=function(){"use strict";return this._position};h.prototype.isValidMovement=function(a){"use strict";if(!b("PhotoStore").hasBeenCreated(this._setID))return!1;if(b("PhotoStore").hasLooped(this._setID))return!0;a=this._position+a;var c=b("PhotoStore").getAvailableRange(this._setID),d=c.offset+c.length-1;return a>=c.offset-1&&a<=d+1};h.prototype.getRelativeMovement=function(a){"use strict";return b("PhotoStore").getIndexForID(this._setID,a)-this._position};h.prototype.moveCursor=function(a){"use strict";if(!this.isValidMovement(a))return!1;this._position+=a;return!0};h.prototype._page=function(a){"use strict";if(!this.moveCursor(a))return;this._log(b("SpotlightViewerLoggingEvents").PAGE_BEGIN);var c=b("PhotoStore").getByIndexImmediate(this._setID,this._position);!c?(this.inform("photo_fetch"),this._log(b("SpotlightViewerLoggingEvents").PHOTO_FETCH)):this._isPreloaded(c)||this._preload([c]);b("PhotoStore").getByIndex(this._setID,this._position,this._updateCallback);this._loadMoreIfNecessary(a>0,h.BUFFER_SIZE);this._log(b("SpotlightViewerLoggingEvents").PAGE_COMPLETE)};h.prototype.loadMoreForwardIfNecessary=function(a){"use strict";__p&&__p();if(this._preventPreload)return;var c=b("PhotoStore").getAvailableRange(this._setID);c=c.offset+c.length-1;var d=this._position+a;if(d>c&&!b("PhotoStore").hasLooped(this._setID)){c=b("PhotoStore").getCursorByIndexImmediate(this._setID,c);b("PhotoStore").fetchForward(this._setID,c,a,this._fetchCallback.bind(this))}else this._preloadPhotosInRange(this._position+1,d)};h.prototype.loadMoreBackwardIfNecessary=function(a){"use strict";if(this._preventPreload)return;var c=b("PhotoStore").getAvailableRange(this._setID),d=this._position-a;if(d<c.offset&&!b("PhotoStore").hasLooped(this._setID)){c=b("PhotoStore").getCursorByIndexImmediate(this._setID,c.offset);b("PhotoStore").fetchBackward(this._setID,c,a,this._fetchCallback.bind(this))}else this._preloadPhotosInRange(d,this._position-1)};h.prototype._loadMoreIfNecessary=function(a,b){"use strict";a?this.loadMoreForwardIfNecessary(b):this.loadMoreBackwardIfNecessary(b)};h.prototype.displayFirst=function(){"use strict";if(!this._viewer.isOpen())return;b("PhotoStore").setPreFetchCallback(this._setID,function(){this._log(b("SpotlightViewerLoggingEvents").DATA_FETCH_BEGIN)}.bind(this));var a=function(a){this._isPreloaded(a)||this._preload([a]),this._updateCallback&&this._updateCallback(a)}.bind(this);b("PhotoStore").getByIndex(this._setID,this._position,a);this._reverse?this.loadMoreBackwardIfNecessary(h.BUFFER_SIZE):this.loadMoreForwardIfNecessary(h.BUFFER_SIZE)};h.prototype.backward=function(){"use strict";this._page(this._reverse?1:-1)};h.prototype.forward=function(){"use strict";this._page(this._reverse?-1:1)};h.prototype._log=function(a){"use strict";this._viewer.log(a)};Object.assign(h,{BUFFER_SIZE:4});e.exports=h}),null);
__d("SpotlightViewerCoreMixin",["PhotoLogger","PhotoStore","PhotoUtils","PhotoViewState","React","SpotlightViewerImage","SpotlightViewerLoggingEvents"],(function(a,b,c,d,e,f){__p&&__p();a={_displayFirstPhoto:function(){b("PhotoStore").executePostCreate(this.props.setid,this.viewState.displayFirst.bind(this.viewState))},_getInitialPosition:function(){var a;this.props.clearcache||(a=b("PhotoStore").getIndexForID(this.props.setid,this.props.photoid));a===void 0&&(b("PhotoStore").clearSetCache(this.props.setid),a=0);return a},__displayPhoto:function(){var a=this._getInitialPosition();this.viewState=new(b("PhotoViewState"))(this,this.props.setid,{position:a,preventPreload:this.__shouldPreventPhotoPreload,reverse:this.props.reverse,updateCallback:this._updatePhoto});this.inform("open");this._displayFirstPhoto()},UNSAFE_componentWillMount:function(){this._logger=new(b("PhotoLogger"))(this.getViewerID()),this.log(b("SpotlightViewerLoggingEvents").OPEN_BEGIN),this.__displayPhoto()},componentDidMount:function(){this._enableSubscriptions&&this._enableSubscriptions(),this.log(b("SpotlightViewerLoggingEvents").OPEN_COMPLETE)},isOpen:function(){return this.state.open},close:function(){if(!this.isOpen())return;this.log(b("SpotlightViewerLoggingEvents").CLOSE_BEGIN);this.setState({open:!1},function(){this.inform("close"),this.log(b("SpotlightViewerLoggingEvents").CLOSE_COMPLETE)})},componentWillUnmount:function(){this.viewState=null},_onClickViewport:function(a){a?this.viewState.forward():this.viewState.backward()},_getMedia:function(a,c){return b("React").createElement(b("SpotlightViewerImage"),{ref:"image",src:a.uri,dimensions:c.imageDimensions})},_getCurrentFBID:function(){return b("PhotoUtils").getFBIDFromData(this.state.photoData)},_updatePhoto:function(a){this.log(b("SpotlightViewerLoggingEvents").PHOTO_CHANGE_BEGIN),this.setState({photoData:a},function(){this.inform("photo_change",this.state.photoData),this.log(b("SpotlightViewerLoggingEvents").PHOTO_CHANGE_COMPLETE)})},getLogger:function(){return this._logger},log:function(a){this._logger&&this._logger.logEvent(a)}};e.exports=a}),null);
__d("PhotoViewerDimensions",["Event","PhotoUtils","Vector"],(function(a,b,c,d,e,f){__p&&__p();var g={verticalPadding:"number",horizontalPadding:"number",normalResDim:"object"};function a(a){"use strict";__p&&__p();this._verticalPadding=40;this._horizontalPadding=60;this._normalResDim={x:960,y:960};this._photoStripHeight=88;for(var c in a){if(!g[c])throw new Error("Unsupported extraData value '"+c+"' should not be used");typeof a[c]===g[c]&&(this["_"+c]=a[c])}this._listener=b("Event").listen(window,"resize",this._resetMaxStageDimensions.bind(this))}a.prototype.destroy=function(){"use strict";this._listener.remove()};a.prototype.getStageDimensions=function(a){"use strict";var c=this.getMaxStageDimensions();c=new(b("Vector"))(Math.min(a.x,c.x),Math.min(a.y,c.y));var d=c.x/c.y;a=a.x/a.y;d<a?c.y=Math.round(c.x/a):c.x=Math.round(c.y*a);return c};a.prototype.getImageDimensionsForStage=function(a,c){"use strict";__p&&__p();var d=a.x;a=a.y;var e=c.x;c=c.y;if(d>=e||a>=c){var f=d/a,g=e/c;g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c)}return new(b("Vector"))(d,a)};a.prototype.getImageDimensionsForMaxStage=function(a,c){"use strict";var d=a.x;a=a.y;var e=c.x;c=c.y-this._photoStripHeight;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};a.prototype.getMaxStageDimensions=function(){"use strict";this._maxStageDimensions||(this._maxStageDimensions=new(b("Vector"))(b("Vector").getViewportDimensions().x-this._horizontalPadding,b("Vector").getViewportDimensions().y-this._verticalPadding));return this._maxStageDimensions};a.prototype.getMaxStageDimensionsWithoutPadding=function(){"use strict";this._maxStageDimensions||(this._maxStageDimensions=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y));return this._maxStageDimensions};a.prototype._resetMaxStageDimensions=function(){"use strict";this._maxStageDimensions=null};a.prototype.getBestFitImageFromPhoto=function(a,c){"use strict";var d=null;a=b("PhotoUtils").getImagesFromData(a);a=a.sort(function(a,b){return b.width-a.width});window.devicePixelRatio&&window.devicePixelRatio>1&&(c=new(b("Vector"))(c.x*window.devicePixelRatio,c.y*window.devicePixelRatio));for(var e=0;e<a.length;e++)(!d||a[e].width>=c.x||a[e].height>=c.y)&&(d=a[e]);return d};a.prototype.getOriginalDimensionsFromPhoto=function(a){"use strict";a=b("PhotoUtils").getOriginalImageFromData(a);return new(b("Vector"))(a.width,a.height)};a.prototype.getBestFitDimensionsFromPhoto=function(a,c){"use strict";a=this.getBestFitImageFromPhoto(a,c);return new(b("Vector"))(a.width,a.height)};a.prototype.getVerticalPadding=function(){"use strict";return this._verticalPadding};a.prototype.getHorizontalPadding=function(){"use strict";return this._horizontalPadding};e.exports=a}),null);
__d("SpotlightViewerStageResizer",["Event","MessengerEnvironment","SubscriptionsHandler","Vector"],(function(a,b,c,d,e,f){__p&&__p();var g=520;function a(a,c){"use strict";this._subscriptionsHandler=new(b("SubscriptionsHandler"))(),this._subscriptionsHandler.addSubscriptions(b("Event").listen(window,"resize",this._resetStageDimensions.bind(this))),this._dimensions=a,this._minHeight=c.minHeight||g,this._minWidth=c.minWidth||g,this._resetStageDimensions()}a.prototype.destroy=function(){"use strict";this._dimensions=null,this._subscriptionsHandler.release()};a.prototype._resetStageDimensions=function(){"use strict";this._currentStageDimensions=new(b("Vector"))(this._minWidth,this._minHeight)};a.prototype.getImageAndStageDimensions=function(a){"use strict";a=this._dimensions.getBestFitDimensionsFromPhoto(a,this._dimensions.getMaxStageDimensions());var c=b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding(a):this._dimensions.getStageDimensions(a);this._currentStageDimensions=new(b("Vector"))(Math.max(c.x,this._minWidth,this._currentStageDimensions.x),Math.max(c.y,this._minHeight,this._currentStageDimensions.y));c=b("MessengerEnvironment").messengerui?this._dimensions.getImageDimensionsForMaxStage(a,this._currentStageDimensions):this._dimensions.getImageDimensionsForStage(a,this._currentStageDimensions);return{stageDimensions:this._currentStageDimensions,imageDimensions:c}};a.prototype.getCurrentStageDimensions=function(){"use strict";return this._currentStageDimensions};e.exports=a}),null);
__d("SpotlightViewerDimensionMixin",["MessengerEnvironment","PhotoViewerDimensions","SpotlightViewerStageResizer"],(function(a,b,c,d,e,f){__p&&__p();a={getInitialState:function(){this._dimensions=new(b("PhotoViewerDimensions"))({verticalPadding:this.props.verticalPadding,horizontalPadding:this.props.horizontalPadding});this._resizer=new(b("SpotlightViewerStageResizer"))(this._dimensions,{minHeight:this.props.minHeight,minWidth:this.props.minWidth});return{maxStageDimensions:b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()}},componentWillUnmount:function(){this._resizer&&this._resizer.destroy(),this._resizer=null,this._dimensions&&this._dimensions.destroy(),this._dimensions=null},getMedia:function(){if(this.state.photoData){if(this.state.photoData.__typename&&this.state.photoData.__typename==="MessageVideo")return this._getVideo();var a=this._resizer.getImageAndStageDimensions(this.state.photoData),b=this._dimensions.getBestFitImageFromPhoto(this.state.photoData,this.state.maxStageDimensions);return this._getMedia(b,a)}else return null},getDimensions:function(){return this._dimensions},getStageDimensions:function(){if(this.state.photoData)return this._resizer.getImageAndStageDimensions(this.state.photoData).stageDimensions;else return b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()},getImageDimensions:function(){return!this.state.photoData?null:this._resizer.getImageAndStageDimensions(this.state.photoData).imageDimensions},onResize:function(){if(b("MessengerEnvironment").messengerui){var a=this._dimensions.getMaxStageDimensionsWithoutPadding();this.setState({maxStageDimensions:a,width:a.x})}else this.setState({maxStageDimensions:this._dimensions.getMaxStageDimensions()})}};e.exports=a}),null);
__d("SpotlightViewerInit",["DOM","ReactDOM"],(function(a,b,c,d,e,f){a={render:function(a,c){var d=b("DOM").create("div");a=b("ReactDOM").render(a,d);b("DOM").appendContent(document.body,d);a.subscribeOnce("close",function(){b("ReactDOM").unmountComponentAtNode(d),b("DOM").remove(d),c&&c()});return a}};e.exports=a}),null);
__d("SpotlightViewerThumbnailMixin",["PhotoStore","Vector"],(function(a,b,c,d,e,f){__p&&__p();a={_getInitialPhotoData:function(){var a=b("PhotoStore").getIndexForID(this.props.setid,this.props.photoid);a=b("PhotoStore").getByIndexImmediate(this.props.setid,a);return a?a:this._getThumbnailPhotoData()},_getThumbnailPhotoData:function(){if(!this.props.dimensions||!this.props.thumbsrc)return null;var a={id:this.props.photoid};for(var c=0;c<this.props.dimensions.length;++c){var d=b("Vector").deserialize(this.props.dimensions[c]);a["image"+c]={width:d.x,height:d.y,uri:this.props.thumbsrc}}return a}};e.exports=a}),null);
__d("GroupsPollDeleteOptionMutation",["RelayModern","RelayRuntime","GroupsPollDeleteOptionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=b("RelayRuntime").ConnectionHandler,i=function(){return b("GroupsPollDeleteOptionMutation.graphql")};function a(a,b){__p&&__p();var c={input:{actor_id:b.viewer.actor.id,question_option_id:b.optionID}},d=function(a){__p&&__p();var c=a.get(b.questionID);if(!c)return;c=c&&h.getConnection(c,"PollAttachmentComponent_options");if(!c)return;h.deleteNode(c,b.optionID);var d=parseInt(c.getValue("count"),10);c.setValue(d-1,"count");a["delete"](b.optionID)},e=function(){b.callbacks&&b.callbacks.onSuccess()},f=function(a){b.callbacks&&b.callbacks.onFailure(a)};return g(a,{mutation:i,updater:d,optimisticUpdater:d,variables:c,onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("PollAddOptionMutation",["QuestionPollType","RelayModern","PollAddOptionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=0,i=function(){return b("PollAddOptionMutation.graphql")};function a(a,c){__p&&__p();var d=c.imageUpload&&c.imageUpload.fbid;d={input:{actor_id:c.viewer.actor.id,question_id:c.question.id,option_text:c.optionText,option_page_id:c.optionPageID,image_id:d},first:c.numOptionsToShow};var e=function(){var a=c.question.author.id===c.viewer.actor.id,d="client:newOption:"+h++,e=c.imageUpload&&{image:{height:c.imageUpload.thumbnail_height,width:c.imageUpload.thumbnail_width,uri:c.imageUpload.thumbnail_uri}};d={node:{id:d,text_with_entities:{text:c.optionText},associated_image:e,viewer_has_voted:!a,voters:{count:a?0:1,edges:a?[]:[{node:babelHelpers["extends"]({},c.viewer.actor)}]}}};e=c.question.options.edges.map(function(d){var e=babelHelpers["extends"]({},d.node);c.question.response_method===b("QuestionPollType").CHOOSE_ONE&&d.node.viewer_has_voted&&!a&&(e.viewer_has_voted=!1,e.voters={count:d.node.voters.count-1});return{node:e}});e.push(d);return{question_add_option:{question:{id:c.question.id,options:{count:c.question.options.count+1,edges:e}},question_options_edge:d}}},f=function(a){c.callbacks&&c.callbacks.onSuccess()},j=function(a){c.callbacks&&c.callbacks.onFailure(a)};return g(a,{mutation:i,variables:d,optimisticResponse:e,onCompleted:f,onError:j})}e.exports={commit:a}}),null);
__d("PollAttachmentUtils",["QuestionPollType"],(function(a,b,c,d,e,f){"use strict";a={isOpinionPoll:function(a){return a===b("QuestionPollType").CHOOSE_ONE||a===b("QuestionPollType").IMAGE_CHOOSE_ONE},isEigenpoll:function(a){return a===b("QuestionPollType").CHOOSE_MULTIPLE||a===b("QuestionPollType").IMAGE_CHOOSE_MULTIPLE}};e.exports=a}),null);
__d("PollAddVoteMutation",["PollAttachmentUtils","RelayModern","RelayRuntime","PollAddVoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PollAttachmentUtils").isOpinionPoll,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=function(){return b("PollAddVoteMutation.graphql")};function a(a,b){__p&&__p();var c={input:{question_id:b.question.id,option_id:b.option.id,rank:b.rank},first:b.numOptionsToShow},d=function(a){__p&&__p();a=a.get(b.question.id);if(!a)return;a=a&&i.getConnection(a,"PollAttachmentComponent_options");if(!a)return;a=a&&a.getLinkedRecords("edges");if(!a)return;a=a.map(function(a){return a&&a.getLinkedRecord("node")});a.forEach(function(a){if(!a)return;var c=a&&i.getConnection(a,"PollAttachmentComponent_options_voters");if(!c)return;a.getValue("id")===b.option.id?(a.setValue(!0,"viewer_has_voted"),c.setValue(b.option.voters.count+1,"count")):a.getValue("viewer_has_voted")&&(a.setValue(!1,"viewer_has_voted"),c.setValue(parseInt(c.getValue("count"),10)-1,"count"))})},e=function(a){__p&&__p();if(g(b.question.response_method))d(a);else{a=a.get(b.option.id);if(!a)return;var c=a&&i.getConnection(a,"PollAttachmentComponent_options_voters");if(!c)return;a.setValue(!0,"viewer_has_voted");c.setValue(b.option.voters.count+1,"count")}},f=function(){b.callbacks&&b.callbacks.onSuccess()},k=function(a){b.callbacks&&b.callbacks.onFailure(a)};return h(a,{mutation:j,optimisticUpdater:e,variables:c,onCompleted:f,onError:k})}e.exports={commit:a}}),null);
__d("PollRemoveVoteMutation",["RelayModern","RelayRuntime","PollRemoveVoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=b("RelayRuntime").ConnectionHandler,i=function(){return b("PollRemoveVoteMutation.graphql")};function a(a,b){__p&&__p();var c={input:{question_id:b.question.id,option_id:b.option.id},first:b.numOptionsToShow},d=function(a){a=a.get(b.option.id);if(!a)return;var c=a&&h.getConnection(a,"PollAttachmentComponent_options_voters");if(!c)return;a&&a.setValue(!1,"viewer_has_voted");c&&c.setValue(b.option.voters.count-1,"count")},e=function(){b.callbacks&&b.callbacks.onSuccess()},f=function(a){b.callbacks&&b.callbacks.onFailure(a)};return g(a,{mutation:i,optimisticUpdater:d,variables:c,onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("ReportGroupsPollOptionMutation",["RelayModern","ReportGroupsPollOptionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("ReportGroupsPollOptionMutation.graphql")};function a(a,b){var c={input:{actor_id:b.viewer.actor.id,poll_option_id:b.optionID}},d=function(){b.callbacks&&b.callbacks.onSuccess()},e=function(a){b.callbacks&&b.callbacks.onFailure(a)};return g(a,{mutation:h,variables:c,onCompleted:d,onError:e})}e.exports={commit:a}}),null);
__d("SpotlightPollOptionImageViewer",["cx","ArbiterMixin","Facepile.react","React","SpotlightViewer","SpotlightViewerClose","SpotlightViewerCoreMixin","SpotlightViewerDimensionMixin","SpotlightViewerThumbnailMixin","SpotlightViewport","TextWithEntities.react","XUIText.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h=20,i=28,j=10;a=b("React").createClass({displayName:"SpotlightPollOptionImageViewer",mixins:[b("ArbiterMixin"),b("SpotlightViewerCoreMixin"),b("SpotlightViewerThumbnailMixin"),b("SpotlightViewerDimensionMixin")],getViewerID:function(){return this.props.setid},getInitialState:function(){return{photoData:this._getThumbnailPhotoData(),open:!0}},render:function(){var a=this.getMedia(),c=this.getStageDimensions(),d=this.props.useloadingindicator&&!this.state.photoData;return b("React").createElement(b("SpotlightViewer"),{onHide:this.close,open:this.state.open,rootClassName:this.props.rootClassName},b("React").createElement(b("SpotlightViewport"),{className:"_wma",media:a,onClick:this._onClickViewport,showLoadingIndicator:d,snapToPhoto:this.props.snapToPhoto,stageDimensions:c,useWidth:!0},b("React").createElement(b("SpotlightViewerClose"),{onClick:this.close}),this._renderOptionData()))},_renderOptionData:function(){return b("React").createElement("div",{className:"_50-m _wmb"},this._renderOptionText(),this._renderFacepile(),this._renderMore())},_renderOptionText:function(){var a=this.props.optionText.split(/\r?\n/)[0].slice(0,h);a.length<this.props.optionText.length&&(a+="...");return b("React").createElement(b("TextWithEntities.react"),{className:"_wmc",renderEmoticons:!1,renderEmoji:!0,text:a})},_renderFacepile:function(){return b("React").createElement("div",{className:"_wmd"},b("React").createElement(b("Facepile.react"),{onFaceClick:this._onFaceClick,numFaces:j,profiles:this.props.profiles,showHovercard:!1,size:i}))},_renderMore:function(){var a=this.props.voterCount-j;if(a<=0)return null;a="+"+a+" voters";return b("React").createElement("div",{className:"_wme"},b("React").createElement(b("XUIText.react"),null,a))},_onFaceClick:function(){this.close()}});e.exports=a}),null);
__d("GroupsPollOptionActions",[],(function(a,b,c,d,e,f){"use strict";a={REMOVE:"remove",REPORT_TO_GROUP_ADMINS:"reportToGroupAdmins",REPORT_TO_FACEBOOK:"reportToFacebook"};e.exports=a}),null);
__d("GroupsPollOptionStrings",["fbt","invariant","GroupsPollOptionActions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={getLabel:function(a){switch(a){case b("GroupsPollOptionActions").REMOVE:return g._("Remove option");case b("GroupsPollOptionActions").REPORT_TO_GROUP_ADMINS:return g._("Report to group admins");case b("GroupsPollOptionActions").REPORT_TO_FACEBOOK:return g._("Report to Facebook");default:return h(!1,"All menu options must have a UI string")}},getConfirmRemoveDialogTitle:function(){return g._("Delete option")},getConfirmRemoveDialogBody:function(){return g._("Are you sure that you want to delete this option from the poll?")},getConfirmRemoveDialogButtonText:function(){return g._("Delete")},getConfirmReportDialogTitle:function(){return g._("Report to group admins")},getConfirmReportDialogBody:function(){return g._("Are you sure that you want to report this poll option to the group admins?")},getConfirmReportDialogButtonText:function(){return g._("Report")},getReportSuccessfulDialogBody:function(){return g._("Your report has been submitted to the group admins.")}};e.exports=a}),null);
__d("GroupsPollAttachmentDeleteOption.react",["ix","cx","GroupsPollOptionStrings","Image.react","Link.react","React","SimpleXUIDialog","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("SimpleXUIDialog").showConfirm(b("GroupsPollOptionStrings").getConfirmRemoveDialogBody(),b("GroupsPollOptionStrings").getConfirmRemoveDialogTitle(),this.$2,{confirmBtnTxt:b("GroupsPollOptionStrings").getConfirmRemoveDialogButtonText()})}.bind(this),this.$2=function(a){var b=this.props.optionID||"";a&&this.props.onDelete(b)}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",{className:"_1mh_"},b("React").createElement(b("Link.react"),{onClick:this.$1},b("React").createElement(b("Image.react"),{src:g("125920")})))};e.exports=a}),null);
__d("GroupsPollOptionActionMenu.react",["cx","AsyncRequest","ContextualDialogArrow","FRXEntryPoint","FRXURI","GroupsPollOptionActions","GroupsPollOptionStrings","NFXStoryLocation","PopoverMenu.react","React","ReactXUIMenu","SimpleXUIDialog","XUIDotsButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ReactXUIMenu").Item;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={popoverMenuIsShown:!1},this.$4=function(){this.setState(function(a){return{popoverMenuIsShown:!a.popoverMenuIsShown}})}.bind(this),this.$6=function(){b("SimpleXUIDialog").showConfirm(b("GroupsPollOptionStrings").getConfirmRemoveDialogBody(),b("GroupsPollOptionStrings").getConfirmRemoveDialogTitle(),this.$9,{confirmBtnTxt:b("GroupsPollOptionStrings").getConfirmRemoveDialogButtonText()})}.bind(this),this.$9=function(a){a&&this.props.onDelete(this.props.optionID)}.bind(this),this.$8=function(){var a=b("FRXURI").withEntReportable({reportable_ent_token:this.props.optionID,story_location:b("NFXStoryLocation").GROUP,entry_point:b("FRXEntryPoint").GROUPS_POLL});a=new(b("AsyncRequest"))().setURI(a);a.send()}.bind(this),this.$7=function(){b("SimpleXUIDialog").showConfirm(b("GroupsPollOptionStrings").getConfirmReportDialogBody(),b("GroupsPollOptionStrings").getConfirmReportDialogTitle(),this.$10,{confirmBtnTxt:b("GroupsPollOptionStrings").getConfirmReportDialogButtonText()})}.bind(this),this.$10=function(a){a&&this.props.onReportToAdmin(this.props.optionID)}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",{className:this.$1()},b("React").createElement(b("PopoverMenu.react"),{alignh:"right",layerBehaviors:[b("ContextualDialogArrow")],menu:b("React").createElement(b("ReactXUIMenu"),null,this.$2(this.$3())),onShow:this.$4,onHide:this.$4},b("React").createElement(b("XUIDotsButton.react"),null)))};a.prototype.$2=function(a){return a.map(function(a){return b("React").createElement(i,{className:"_6sye",icon:this.$5(a[0]),key:a[0],value:a[0],onClick:a[1]},b("GroupsPollOptionStrings").getLabel(a[0]))}.bind(this))};a.prototype.$5=function(a){switch(a){case b("GroupsPollOptionActions").REMOVE:return b("React").createElement("div",{className:"_6syc _6syd"});case b("GroupsPollOptionActions").REPORT_TO_GROUP_ADMINS:return b("React").createElement("div",{className:"_6syc _6sub"});case b("GroupsPollOptionActions").REPORT_TO_FACEBOOK:return b("React").createElement("div",{className:"_6syc _6suc"});default:return null}};a.prototype.$1=function(){return this.state.popoverMenuIsShown?"_6kx9":"_69c3"};a.prototype.$3=function(){var a=[];this.props.showDelete&&a.push([b("GroupsPollOptionActions").REMOVE,this.$6]);this.props.showReportToAdmin&&a.push([b("GroupsPollOptionActions").REPORT_TO_GROUP_ADMINS,this.$7]);a.push([b("GroupsPollOptionActions").REPORT_TO_FACEBOOK,this.$8]);return a};e.exports=a}),null);
__d("ReactComposerQuestionAttachmentOptionImage.react",["cx","fbt","FileInput.react","Link.react","React","ReactComposerFailedPhotoUploadContainer.react","ReactComposerMediaUploadType","ReactComposerPhotoThumbnail.react","ReactComposerPhotoUploadState","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,k=b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED,l=40;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return this.$1()};a.prototype.$1=function(){return this.props.upload.mediaType==b("ReactComposerMediaUploadType").VIDEO?null:this.$2()};a.prototype.$2=function(){var a=this.props.upload;if(a.state===k)return b("React").createElement(b("ReactComposerFailedPhotoUploadContainer.react"),{error:a.error,filename:a.filename,key:a.id,mediaConfig:this.props.mediaConfig,uploadID:a.id});else if(a.state===j)return b("React").createElement(b("FileInput.react"),{containerClassName:"_348v",accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:"composer_photo",onChange:this.props.onFileSelected,ref:this.props.setFileInput,title:h._("Choose a file to upload"),"data-testid":"add-more-photos"},b("React").createElement(b("Link.react"),{className:"_348w"},b("React").createElement(b("ReactComposerPhotoThumbnail.react"),{bgClassName:"_348x",bgURL:a.fileURL,height:l,width:l})));return b("React").createElement("div",{className:"_348y"},b("React").createElement(b("XUISpinner.react"),{size:"large"}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerQuestionAttachmentOptionImageContainer.react",["cx","fbt","FileInput.react","Link.react","React","ReactComposerMediaUtils","ReactComposerQuestionAttachmentOptionImage.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$3=function(a){if(this.props.onFileSelected){var c=this.props.onFileSelected;c(a,this.fileInput.getFileInput())}b("ReactComposerMediaUtils").clearInput(this.fileInput.getFileInput(),!0)}.bind(this),this.$4=function(a){this.fileInput=a}.bind(this),c}a.prototype.getDefaultProps=function(){return{canUploadMultiplePhotos:!1,upload:null}};a.prototype.render=function(){var a=this.props.upload?this.$1():this.$2();return a};a.prototype.$2=function(){return b("React").createElement("div",{className:"_61kz"},b("React").createElement(b("FileInput.react"),{containerClassName:"_348v",accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:"composer_photo",onChange:this.$3,ref:this.$4,title:h._("Choose a file to upload"),"data-testid":"add-more-photos"},this.$5()))};a.prototype.$1=function(){var a=this.props.upload;return b("React").createElement("div",{key:a.photoID,className:"_61k_"},b("React").createElement(b("ReactComposerQuestionAttachmentOptionImage.react"),{upload:this.props.upload,mediaConfig:this.props.mediaConfig,onFileSelected:this.$3,mediaAcceptParam:this.props.mediaAcceptParam,canUploadMultiplePhotos:this.props.canUploadMultiplePhotos,setFileInput:this.$4}))};a.prototype.$5=function(){return b("React").createElement(b("Link.react"),{"aria-label":h._("Photo upload link"),className:"_348w"})};e.exports=a}),null);
__d("PollAttachmentAddOption.react",["ix","cx","fbt","AbstractTextArea.react","Bootloader","Image.react","Link.react","React","ReactComposerPhotoUploadState","ReactComposerQuestionAttachmentOptionImageContainer.react","TextAreaControl","XUISpinner.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=5,l=b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,m={addImageOptionTextInput:"_4l_h",addImageOptionTextInputRightBorder:"_4l_h _gz4",addOption:"_31qf _31qg",addImageOption:"_31qf _31qg _gz5",addOptionLabel:"_31qi",centerPlus:"_65lo",charCount:"_31qk",addOptionInput:"_4sjs",addOptionImageInput:"_gzh"};c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={text:"",isFocused:!1,isUploading:!1,upload:null},this.$7=function(){this.setState({text:"",isFocused:!1,isUploading:!1,upload:null}),this.$2.release()}.bind(this),this.$8=function(a){a=a.getPayload();a&&a.fbid?this.setState({upload:babelHelpers["extends"]({state:l,fileURL:a.thumbnail_uri},a)}):this.refs.imageContainer.fileInput&&this.refs.imageContainer.fileInput.getFileInput().clear()}.bind(this),this.$9=function(){this.setState({isUploading:!0})}.bind(this),this.$10=function(){this.setState({isUploading:!1})}.bind(this),this.$11=function(){this.setState({isUploading:!1})}.bind(this),this.$4=function(a){if(this.state.isUploading)return;b("Bootloader").loadModules(["PollImageUploader"],function(a){this.$2&&this.$2.release(),this.$2=new a(this.refs.imageContainer.fileInput.getFileInput(),this.$8,this.$9,this.$10,this.$11)}.bind(this),"PollAttachmentAddOption.react")}.bind(this),this.$6=function(a){if(this.state.isUploading)return;this.props.onAdd(this.state.text,this.state.upload);this.setState({text:"",upload:null})}.bind(this),c}a.prototype.componentDidMount=function(){var a=this.refs.textArea.getTextFieldDOM();this.$1=new(b("TextAreaControl"))(a);this.$1.setAutogrow(!0);this.$1.onupdate()};a.prototype.componentDidUpdate=function(){this.$1.onupdate()};a.prototype.componentWillUnmount=function(){this.$1=null};a.prototype.render=function(){var a,c,d,e=m.addOption,f=m.addOptionInput;this.props.hasImageOption&&(e=m.addImageOption,f=this.state.upload?m.addImageOptionTextInput:m.addImageOptionTextInputRightBorder,d=this.$3(),a=b("React").createElement("div",{className:m.addOptionImageInput,onClick:this.$4,role:"presentation"},b("React").createElement(b("ReactComposerQuestionAttachmentOptionImageContainer.react"),{canUploadMultiplePhotos:!1,mediaAcceptParam:"image/*",mediaConfig:{photoLimit:1},ref:"imageContainer",upload:this.state.upload})),this.state.isUploading&&(c=b("React").createElement("div",{className:"_gzi"},b("React").createElement("div",{className:"_g-d"},b("React").createElement(b("XUISpinner.react"),{size:"large"})))));return b("React").createElement("div",null,b("React").createElement("div",{className:m.charCount},d,b("React").createElement("div",{className:this.state.isFocused?"":"_14f8"},this.state.text.length,"/",this.props.maxOptionLength)),b("React").createElement("div",{className:e},b("React").createElement("div",{className:m.addOptionLabel},b("React").createElement(b("Image.react"),{className:m.centerPlus,src:g("126622")})),b("React").createElement("div",{className:f},b("React").createElement(b("AbstractTextArea.react"),{onChange:function(a){return this.$5(a)}.bind(this),onEnter:this.$6,maxLength:this.props.maxOptionLength,disabled:this.props.disabled,onFocus:function(){return this.setState({isFocused:!0})}.bind(this),onBlur:function(){return this.setState({isFocused:!1})}.bind(this),placeholder:i._("Add option"),value:this.state.text,ref:"textArea"})),a,c))};a.prototype.$3=function(){return b("React").createElement("div",{"data-testid":"clear-add-poll-option-button",className:this.state.text||this.state.upload||this.state.isUploading?"":"_14f8"},b("React").createElement(b("Link.react"),{onClick:this.$7},b("React").createElement(b("Image.react"),{src:g("125920")})))};a.prototype.$5=function(a){if(a.target.value.length>this.props.maxOptionLength||a.target.value.split(/\r|\n|\r\n/).length>k)return;this.setState({text:a.target.value})};e.exports=a}),null);
__d("PollAttachmentComponent.react",["cx","fbt","ClickableArea.react","Facepile.react","GroupsPollAttachmentDeleteOption.react","GroupsPollDeleteOptionMutation","GroupsPollOptionActionMenu.react","GroupsPollOptionStrings","Image.react","LeftRight.react","PollAddOptionMutation","PollAddVoteMutation","PollAttachmentAddOption.react","PollAttachmentUtils","PollRemoveVoteMutation","ProfileBrowserLink","React","RelayModern","ReportGroupsPollOptionMutation","ShimButton.react","SimpleXUIDialog","SpotlightPollOptionImageViewer","SpotlightViewerInit","TextWithEntities.react","getURLRanges","randomShuffle","PollAttachmentComponent_viewer.graphql","PollAttachmentComponent_question.graphql","PollAttachmentComponentRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("PollAttachmentUtils").isEigenpoll;c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var k=520,l=660,m=5,n={accessible:"accessible_elem",root:"_3cof",facepileCenter:"_3cog _man",optionContainer:"_61xb",row:"_mb4",optionRow:"_mb4 _1jwy",optionLabel:"_31qh",optionSelector:"_3cok",optionBar:"_3col",optionBarImage:"_eh7",optionBarNonMember:"_6khz",optionBarImageNonMember:"_6kh-",optionImage:"_eh8",optionVotes:"_3com",optionText:"_3con",optionAuthor:"_17ug",optionTextPadded:"_3con _eh9",optionTextImage:"_eha",optionTextSpanImage:"_ehb",optionExpanderLink:"_3coo",optionExpander:"_31qf _3cop",space:"_3coq"};d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isLocked:!1,disableShuffle:!this.props.shouldShuffle,numOptionsToShow:5},this.$4=function(a){this.setState({isLocked:!0}),this.setState(function(a){return{numOptionsToShow:a.numOptionsToShow-1}}),b("GroupsPollDeleteOptionMutation").commit(this.props.relay.environment,{optionID:a,questionID:this.props.question.id,viewer:this.props.viewer,callbacks:{onSuccess:function(){this.setState({isLocked:!1})}.bind(this),onFailure:function(a){this.setState({isLocked:!1}),b("SimpleXUIDialog").show(a&&a.source&&a.source.description,a&&a.source&&a.source.summary)}.bind(this)}})}.bind(this),this.$5=function(a){b("ReportGroupsPollOptionMutation").commit(this.props.relay.environment,{optionID:a,viewer:this.props.viewer,callbacks:{onSuccess:function(){b("SimpleXUIDialog").show(b("GroupsPollOptionStrings").getReportSuccessfulDialogBody(),b("GroupsPollOptionStrings").getConfirmReportDialogTitle())},onFailure:function(a){b("SimpleXUIDialog").show(a&&a.source&&a.source.description,a&&a.source&&a.source.summary)}}})}.bind(this),this.$3=function(a,c){if(a.replace(/\s+/g,"")===""){var d=h._("Add some text to your poll option so people know what it's about."),e=h._("Poll Option Needs Text");b("SimpleXUIDialog").show(d,e)}else this.setState({isLocked:!0,numOptionsToShow:this.props.question.options.count+1}),b("PollAddOptionMutation").commit(this.props.relay.environment,{question:this.props.question,optionText:a,viewer:this.props.viewer,numOptionsToShow:this.props.question.options.count+1,imageUpload:c,callbacks:{onSuccess:function(){this.setState({isLocked:!1})}.bind(this),onFailure:function(a){this.setState({isLocked:!1,numOptionsToShow:this.props.question.options.count}),b("SimpleXUIDialog").show(a&&a.source&&a.source.description,a&&a.source&&a.source.summary)}.bind(this)}})}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=this.props.question;if(!a)return b("React").createElement("div",null);var c=this.state.isLocked,d=a.can_viewer_post,e=this.state.numOptionsToShow,f=a.options.edges.reduce(function(a,b){return Math.max(a,b.node.voters.count)},1),g=[].concat(a.options.edges);this.props.shouldShuffle&&!this.state.disableShuffle&&(g=b("randomShuffle")(g));var i=g.some(function(a){return!!a.node.associated_image});g=g.slice(0,e).map(function(g){__p&&__p();var o=g.node.voters.edges;o=o.filter(function(a){return a.node.id!==this.props.viewer.actor.id}.bind(this));o=o.slice(0,10).map(function(a){return a.node});g.node.viewer_has_voted&&o.unshift(this.props.viewer.actor);var p=o.map(function(a){return{URL:a.url,name:a.name,uniqueID:parseInt(a.id,10),profilePicURI:a.profile_picture.uri}});o=b("ProfileBrowserLink").constructPageURI("option_voters",{option_id:g.node.id}).toString();var q=b("ProfileBrowserLink").constructDialogURI("option_voters",{option_id:g.node.id}).toString(),r=function(f){if(!(d&&!c))return;this.setState({isLocked:!0});f=g.node.viewer_has_voted?b("PollRemoveVoteMutation"):b("PollAddVoteMutation");f.commit(this.props.relay.environment,{question:a,option:g.node,viewer:this.props.viewer,numOptionsToShow:e,callbacks:{onSuccess:function(){this.setState({isLocked:!1})}.bind(this),onFailure:function(a){this.setState({isLocked:!1}),b("SimpleXUIDialog").show(a&&a.source&&a.source.description,a&&a.source&&a.source.summary)}.bind(this)}})}.bind(this),s=function(a){b("SpotlightViewerInit").render(b("React").createElement(b("SpotlightPollOptionImageViewer"),{setid:"poll-option-message",optionText:g.node.text_with_entities.text,photoid:g.node.associated_image.id,thumbsrc:g.node.associated_image.image.uri,profiles:p,voterCount:g.node.voters.count,clearcache:!0,dimensions:[[g.node.associated_image.image.width,g.node.associated_image.image.height].join(",")],minHeight:k,minWidth:l}))},t=d?n.optionBar:n.optionBarNonMember,u=n.optionText,v=n.optionAuthor,w=null,x,y;i&&(u=n.optionTextPadded,g.node.associated_image&&(t=d?n.optionBarImage:n.optionBarImageNonMember,u=n.optionTextImage,w=n.optionTextSpanImage,x=b("React").createElement("div",{className:"_ehe"},b("React").createElement("div",{className:"_eh8"},b("React").createElement(b("ShimButton.react"),{onClick:s},b("React").createElement(b("Image.react"),{"aria-label":"View image",height:40,width:40,src:g.node.associated_image.image.uri}))))));p.length&&(y=b("React").createElement("div",{className:n.accessible},h._("Voters for this option")));s=a.options.count>1&&g.node.can_viewer_delete_groups_poll_option;s=this.$1(s,g.node.can_viewer_report,g.node.can_viewer_report_to_group_admin,g.node.id);var z=null;s!==null&&this.props.isShared?z=m-2:s!==null||this.props.isShared?z=m-1:z=m;var A=g.node.groups_poll_option_author_description;return b("React").createElement("div",{key:g.node.id,className:n.optionContainer},b("React").createElement("div",{className:d?n.optionRow:n.row},b("React").createElement("div",{className:"_mb5"},d?b("React").createElement("div",{className:n.optionLabel},b("React").createElement("input",{"aria-label":g.node.text_with_entities.text,type:j(a.response_method)?"checkbox":"radio",disabled:!(d&&!c),className:n.optionSelector,checked:g.node.viewer_has_voted,onChange:r})):null,b("React").createElement("div",{className:t},b("React").createElement("div",{className:n.optionVotes,style:{width:100*g.node.voters.count/f+"%"}}),b("React").createElement(b("ClickableArea.react"),{onClick:r},b("React").createElement("div",{className:u},b("React").createElement(b("TextWithEntities.react"),{className:w,ranges:b("getURLRanges")(g.node.text_with_entities.text),renderEmoticons:!1,renderEmoji:!0,text:g.node.text_with_entities.text}),A!=null&&A.text.length>0?b("React").createElement("div",{className:v},b("React").createElement(b("TextWithEntities.react"),{className:w,ranges:A.ranges,text:A.text})):null)),x)),y,b("React").createElement("div",{className:"_mb6"},b("React").createElement("div",{className:n.facepileCenter},b("React").createElement(b("LeftRight.react"),{direction:"right"},b("React").createElement(b("Facepile.react"),{moreColor:"gray",moreCount:g.node.voters.count-Math.min(z,p.length),moreDialogLink:q,morePageLink:o,numFaces:z,profiles:p,showHovercard:!0,size:28}),b("React").createElement("div",{className:"_6nh8"},s))))))}.bind(this));var o=null,p=null;if(a.options.count>e){var q=a.options.count-e,r=h._({"*":"{options} more options..."},[h._param("options",q,[0])]),s=h._("1 more option...");o=b("React").createElement("div",{className:n.optionContainer},b("React").createElement("div",{className:n.space}),b("React").createElement(b("ShimButton.react"),{className:n.optionExpanderLink,form:"link",onClick:function(){return this.$2()}.bind(this)},b("React").createElement("div",{className:n.optionExpander},q>1?r:s)))}else a.can_viewer_add_poll_options&&(p=b("React").createElement("div",{className:n.optionContainer},b("React").createElement(b("PollAttachmentAddOption.react"),{onAdd:this.$3,maxOptionLength:this.props.maxOptionLength,disabled:this.state.isLocked,hasImageOption:i})));return b("React").createElement("div",{className:n.root},g,o,p)};a.prototype.$1=function(a,c,d,e){return c?b("React").createElement(b("GroupsPollOptionActionMenu.react"),{onDelete:this.$4,onReportToAdmin:this.$5,optionID:e,showDelete:a,showReportToAdmin:d}):a?b("React").createElement(b("GroupsPollAttachmentDeleteOption.react"),{onDelete:this.$4,optionID:e}):null};a.prototype.$2=function(){this.setState({disableShuffle:!0,numOptionsToShow:this.props.question.options.count}),this.props.relay.refetch({actorID:this.props.actorID,first:this.props.question.options.count,questionID:this.props.question.id})};e.exports=c(a,{viewer:function(){return b("PollAttachmentComponent_viewer.graphql")},question:function(){return b("PollAttachmentComponent_question.graphql")}},function(){return b("PollAttachmentComponentRefetchQuery.graphql")})}),null);
__d("PollAttachment.react",["PollAttachmentComponent.react","React","RelayFBEnvironment","RelayModern","PollAttachmentQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){__p&&__p();var a=this.props.shouldShuffle?200:5;return b("React").createElement(i,{environment:b("RelayFBEnvironment"),variables:{actorID:this.props.actorID,first:a,questionID:this.props.questionID},query:h||(h=function(){return b("PollAttachmentQuery.graphql")}),render:function(a){var c=a.error;a=a.props;if(c)return b("React").createElement("div",null,c.message);else if(a)return b("React").createElement(b("PollAttachmentComponent.react"),babelHelpers["extends"]({},this.props,a));return b("React").createElement("div",null,"Loading")}.bind(this)})};function a(){g.apply(this,arguments)}e.exports=a}),null);