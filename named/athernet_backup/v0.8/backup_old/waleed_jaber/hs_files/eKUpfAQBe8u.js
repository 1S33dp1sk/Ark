if (self.CavalryLogger) { CavalryLogger.start_js(["ozsLF"]); }

__d("wrapNullableForReact",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!=null)return a;else return void 0}e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_game.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_game",type:"Application",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_group",type:"MessageThread",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},a,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:250)",args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null}]}]}]}]}]}]}}();e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null}]};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},a,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},b,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[b]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}}();e.exports=a}),null);
__d("MessengerGraphQLTypeaheadViewQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"queryString",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"canViewerSendMoneyFilter",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"localEntryIDs",type:"[ID]",defaultValue:null},{kind:"LocalArgument",name:"maxThreadResults",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryGroups",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryPages",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryThreadName",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryParticipantIDs",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryParticipantNames",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryVCEndpoint",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryInternalBot",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryRoomsAudience",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldSkipQueryUsers",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"forGroup",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"threadFBID",type:"ID",defaultValue:0}],b=[{kind:"Variable",name:"query",variableName:"queryString",type:"String!"}],c=[{kind:"Variable",name:"id",variableName:"threadFBID",type:"ID!"}],d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"Literal",name:"first",value:20,type:"Int"},f={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},h=[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}],i={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:h},j={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},l={kind:"InlineFragment",type:"Page",selections:[g,i,j,k,{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},m=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,l]}]}],n={kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},o={kind:"Literal",name:"first",value:10,type:"Int"};i=[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null},d]},{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},n,{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},i,g,j,k,{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null},d]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[g,d]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[o],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}];j={kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"};h=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ViewerMessageThreadsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},g,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:h},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:250)",args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,g,{kind:"InlineFragment",type:"User",selections:[k,n]}]},d]}]}]},d]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessengerGraphQLTypeaheadViewQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"profiles",name:"entities_named",storageKey:null,args:b,concreteType:"SearchableEntitiesQuery",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_profiles",args:null}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",name:"message_thread",storageKey:null,args:c,concreteType:"MessageThread",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_roomAudience",args:null}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryGroups",selections:[{kind:"LinkedField",alias:"groups",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_groups",args:null}]}]}]},operation:{kind:"Operation",name:"MessengerGraphQLTypeaheadViewQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"profiles",name:"entities_named",storageKey:null,args:b,concreteType:"SearchableEntitiesQuery",plural:!1,selections:[d,{kind:"Condition",passingValue:!0,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",name:"search_results",storageKey:"search_results(first:20,internal_bot:true)",args:[e,{kind:"Literal",name:"internal_bot",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:m}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",name:"search_results",storageKey:"search_results(first:20,vc_endpoint:true)",args:[e,{kind:"Literal",name:"vc_endpoint",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:m}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",name:"search_results",storageKey:null,args:[{kind:"Literal",name:"first",value:5,type:"Int"},{kind:"Variable",name:"for_group",variableName:"forGroup",type:"Boolean"},{kind:"Literal",name:"include_games",value:!0,type:"Boolean"},{kind:"Literal",name:"messenger_commerce",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"InlineFragment",type:"Application",selections:[g,{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]},l]}]}]}]},{kind:"Condition",passingValue:!1,condition:"shouldSkipQueryUsers",selections:[{kind:"LinkedField",alias:"user_results",name:"search_results",storageKey:null,args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter",type:"Boolean"},e,{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:!0,type:"Boolean"},{kind:"Literal",name:"of_type",value:["user"],type:"[SearchEntityType]"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:i}]}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",name:"message_thread",storageKey:null,args:c,concreteType:"MessageThread",plural:!1,selections:[d,{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",name:"messaging_audience_list",storageKey:null,args:[o,{kind:"Variable",name:"named",variableName:"queryString",type:"String"}],concreteType:"AllAudienceListOfMessageThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",plural:!0,selections:i}]}]}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryGroups",selections:[{kind:"LinkedField",alias:"groups",name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",name:"message_threads",storageKey:null,args:[j,{kind:"Literal",name:"with_group",value:!0,type:"Boolean"},{kind:"Variable",name:"with_participants",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",name:"message_threads",storageKey:null,args:[j,{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs",type:"[ID]"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",name:"message_threads",storageKey:null,args:[j,{kind:"Variable",name:"with_thread_name",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:h}]}]},{kind:"LinkedHandle",alias:"groups",name:"viewer",args:null,handle:"viewer",key:"",filters:null}]}]},params:{operationKind:"query",name:"MessengerGraphQLTypeaheadViewQuery",id:"2427290873955613",text:null,metadata:{}}}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_groups.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};b=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ViewerMessageThreadsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},b,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:250)",args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null}]}]}]}]}]}]}]}];return{kind:"Fragment",name:"MessengerTypeaheadResultView_groups",type:"Viewer",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"maxThreadResults",type:"Int"},{kind:"RootArgument",name:"shouldQueryThreadName",type:"Boolean!"},{kind:"RootArgument",name:"localEntryIDs",type:"[ID]"},{kind:"RootArgument",name:"shouldQueryParticipantIDs",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryParticipantNames",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",name:"message_threads",storageKey:null,args:[a,{kind:"Literal",name:"with_group",value:!0,type:"Boolean"},{kind:"Variable",name:"with_participants",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",name:"message_threads",storageKey:null,args:[a,{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs",type:"[ID]"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",name:"message_threads",storageKey:null,args:[a,{kind:"Variable",name:"with_thread_name",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]}]}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_profiles.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"first",value:20,type:"Int"},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},e={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},g={kind:"InlineFragment",type:"Page",selections:[b,c,d,e,f,{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},h=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g]}]}];return{kind:"Fragment",name:"MessengerTypeaheadResultView_profiles",type:"SearchableEntitiesQuery",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"RootArgument",name:"shouldSkipQueryUsers",type:"Boolean!"},{kind:"RootArgument",name:"forGroup",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryPages",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryVCEndpoint",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryInternalBot",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",name:"search_results",storageKey:"search_results(first:20,internal_bot:true)",args:[a,{kind:"Literal",name:"internal_bot",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",name:"search_results",storageKey:"search_results(first:20,vc_endpoint:true)",args:[a,{kind:"Literal",name:"vc_endpoint",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",name:"search_results",storageKey:null,args:[{kind:"Literal",name:"first",value:5,type:"Int"},{kind:"Variable",name:"for_group",variableName:"forGroup",type:"Boolean"},{kind:"Literal",name:"include_games",value:!0,type:"Boolean"},{kind:"Literal",name:"messenger_commerce",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Application",selections:[b,c,{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]},g]}]}]}]},{kind:"Condition",passingValue:!1,condition:"shouldSkipQueryUsers",selections:[{kind:"LinkedField",alias:"user_results",name:"search_results",storageKey:null,args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter",type:"Boolean"},a,{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:!0,type:"Boolean"},{kind:"Literal",name:"of_type",value:["user"],type:"[SearchEntityType]"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},b,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},d,c,e,f,{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[c]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}]}]}]}]}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_roomAudience.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"first",value:10,type:"Int"},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerTypeaheadResultView_roomAudience",type:"MessageThread",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"shouldQueryRoomsAudience",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",name:"messaging_audience_list",storageKey:null,args:[a,{kind:"Variable",name:"named",variableName:"queryString",type:"String"}],concreteType:"AllAudienceListOfMessageThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},b,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},c,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[c]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[a],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}]}]}]}]}}();e.exports=a}),null);
__d("MessengerContactAdapters",["ImmutableObject","MercuryTypeaheadConstants","immutable"],(function(a,b,c,d,e,f){__p&&__p();a={fromSearchableEntry:function(a){var c=a.getType(),d={alias:null,isMessengerUser:null,isWorkUser:null,isVerified:null,workForeignEntityInfo:null,participants:null,photo:a.getPhoto(),subtitle:a.getSubtitle(),thread:null,title:a.getTitle(),type:c,uid:a.getUniqueID()};d.photo||(d.photo=null);var e=a.getAuxiliaryData();e&&(c===b("MercuryTypeaheadConstants").THREAD_TYPE?(d.thread=new(b("ImmutableObject"))(e.thread),d.participants=b("immutable").Map().withMutations(function(a){e.participantsToRender.forEach(function(b){a.set(b.id,b)})})):(d.isMessengerUser=e.isMessengerUser,d.isWorkUser=e.isWorkUser,d.isVerified=e.isVerified,d.workForeignEntityInfo=e.workForeignEntityInfo,d.alias=e.alias));return new(b("ImmutableObject"))(d)},fromMercuryParticipant:function(a){return new(b("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:a.name,subtitle:a.title?a.title:"",type:a.type,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isCoworker:a.is_coworker,href:a.href,timezone:a.timezone,workForeignEntityInfo:a.work_foreign_entity_info})}};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadHighlighter",["Keys","MercuryTypeaheadConstants","MessengerTypeaheadUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getNextHighlightedEntry:function(a,c,d,e){__p&&__p();var f=[];b("MessengerTypeaheadUtils").getEntryOrder(d).forEach(function(a){return f.push.apply(f,c.filter(function(c){return b("MessengerTypeaheadUtils").areSectionsEqual(c.getType(),a)}))});if(!e){if(f.length===0)return null;if(a===b("Keys").DOWN){d=f[0];return d.getType()===b("MercuryTypeaheadConstants").SEARCH_TYPE&&f.length>1?f[1]:d}return a===b("Keys").UP?f[f.length-1]:null}var g=e.getUniqueID();d=f.findIndex(function(a){return a.getUniqueID()===g});if(d===-1)return null;a===b("Keys").DOWN?(d+=1,d>=f.length&&(d=0)):a===b("Keys").UP&&(d-=1,d<0&&(d=f.length-1));return f[d]}};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter",["MercuryIDs","MercuryParticipantTypes","MercuryTypeaheadConstants","RelayModern","SearchableEntry","WorkForeignEntityType","MessengerGraphQLTypeaheadAdapter_user.graphql","MessengerGraphQLTypeaheadAdapter_page.graphql","MessengerGraphQLTypeaheadAdapter_group.graphql","MessengerGraphQLTypeaheadAdapter_game.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;function g(a){return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function h(a){var b=a.scim_company_user&&a.scim_company_user.company_title;a=a.is_viewer_coworker?null:a.work_info&&a.work_info.work_community&&a.work_info.work_community.name;if(a&&b)return a+" \u2022 "+b;else if(a)return a;else if(b)return b;return null}function i(a,b){var c=null;a.members&&a.members.edges&&a.members.edges.length>0?c=a.members.edges.map(function(a){return a.node.name}).join(", "):a.is_work_user?c=h(a):b&&a.is_viewer_friend===!1&&(c=b);return c}a={convertProfileToEntry:function(a,c){var d;if(!a||!a.id||!a.name)return null;var e=b("MercuryParticipantTypes").NON_FRIEND;d=a.is_viewer_coworker||((d=a.work_foreign_entity_info)!=null?d.type:d)===b("WorkForeignEntityType").NOT_FOREIGN;a.is_work_user&&d?e=b("MercuryParticipantTypes").FB4C:(a.is_viewer_friend||a.messenger_contact.is_on_viewer_contact_list||d&&a.viewer_affinity>0)&&(e=b("MercuryParticipantTypes").FRIEND);d=i(a,c);return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:e,subtitle:d,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMemorializedUser:a.is_memorialized,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,workForeignEntityInfo:a.work_foreign_entity_info,alias:a.username},order:-a.viewer_affinity})},convertPageToEntry:function(a,c){if(!a||!a.id||!a.name)return null;return a.instant_game_info?this.convertGameToEntry(a,c):new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:c,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,canViewerMessage:a.can_viewer_message,canViewerAddToGroupChat:a.can_viewer_add_to_group_chat},order:0})},convertGameToEntry:function(a,c){return!a||!a.id||!a.name||!a.instant_game_info?null:new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:b("MercuryTypeaheadConstants").GAME_TYPE,photo:a.instant_game_info&&a.instant_game_info.icon_uri,uri:a.instant_game_info&&a.instant_game_info.game_uri,order:0})},convertGroupToEntry:function(a,c){__p&&__p();if(!a||!a.thread_key||!a.is_group_thread)return null;var d=a.thread_key.thread_fbid;if(!d)return null;var e=a.image&&a.image.uri,f=a.other_participants.edges.map(function(a){return a.node.messaging_actor.name}).join(", "),h=a.name,i=null;!h?h=f:i=f;if(!h)return null;f={};f.thread={thread_id:d,other_user_fbid:null,image_src:e,participants:a.other_participants.edges.map(function(a){return g(a.node.messaging_actor.id)})};f.participantsToRender=a.other_participants.edges.map(function(a){return{id:g(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:d,order:c,photo:e,title:h,subtitle:i,type:b("MercuryParticipantTypes").THREAD,auxiliaryData:f})},userFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_user.graphql")},pageFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_page.graphql")},groupFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_group.graphql")},gameFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_game.graphql")}};e.exports=a}),null);
__d("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2339215389425518"};c.getQueryID=function(){"use strict";return"339708329890231"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerNewGroupParticipantSuggestionLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){this.entriesPromise=null,this.orderedFriendEntries=null,this.alreadyParticipatingIDs=null,this.shouldRefetch=!1,this.cursor=null,this.threadFBID=a,this.alreadyParticipatingIDs=c,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}g.prototype.onEntriesLoaded=function(a){__p&&__p();if(this.orderedFriendEntries!==null&&!this.shouldRefetch){a(this.orderedFriendEntries);return}if(this.entriesPromise===null||this.shouldRefetch){var c=this.alreadyParticipatingIDs?this.alreadyParticipatingIDs.toArray():null;c=b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getURI({original_participant_ids:c,count:50});this.entriesPromise=new(b("AsyncRequest"))(c).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload().data}).then(function(a){var c=a.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});this.callbackManager.addLocalEntries(c);this.orderedFriendEntries=c;c=(c=a)!=null?(c=c.viewer)!=null?(c=c.messenger_contextual_ranked_users)!=null?(c=c.page_info)!=null?c.has_next_page:c:c:c:c;c&&(this.cursor=a.viewer.messenger_contextual_ranked_users.page_info.end_cursor)}.bind(this))}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(this.orderedFriendEntries),this.loadMoreFriends(),this.shouldRefetch=!1}.bind(this),b("emptyFunction"))};g.prototype.loadMoreFriends=function(){if(this.cursor==null)return;var a=this.cursor;this.cursor=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getLegacyURI({cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){this.callbackManager.addLocalEntries(a.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))}.bind(this))};g.prototype.search=function(a,b){this.onEntriesLoaded(function(){this.callbackManager.search(a,function(c){b(c,a)})}.bind(this))};g.prototype.participantsSame=function(a){return this.twoIDsListEquals(this.alreadyParticipatingIDs,a)};g.prototype.twoIDsListEquals=function(a,b){return a?b.size!==a.size?!1:b.isSuperset(a):b.size==0};g.prototype.setRefetchAndRefreshData=function(a){this.shouldRefetch=!0,this.alreadyParticipatingIDs=a};g.prototype.isBootstrapped=function(a){return this.orderedFriendEntries!==null&&this.participantsSame(a)};a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}a.prototype.onEntriesLoaded=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);!d?(d=new g(a,b),this.threadFBIDToCacheMap.set(a,d)):d.participantsSame(b)||d.setRefetchAndRefreshData(b);d.onEntriesLoaded(c)};a.prototype.search=function(a,b,c,d){var e=this.threadFBIDToCacheMap.get(a);!e?(e=new g(a,b),this.threadFBIDToCacheMap.set(a,e)):e.participantsSame(b)||e.setRefetchAndRefreshData(b);e.search(c,d)};a.prototype.isBootstrapped=function(a,b){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped(b):!1};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2046569042080039"};c.getQueryID=function(){"use strict";return"2118248735074331"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerRoomWithAssocObjectAudienceLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerRoomWithAssocObjectAudienceWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){this.entriesPromise=null,this.audienceEntries=null,this.threadFBID=a,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}g.prototype.onEntriesLoaded=function(a){__p&&__p();if(this.audienceEntries!==null){a(this.audienceEntries,!0);return}if(this.entriesPromise===null){var c=b("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery").getURI({thread_fbid:this.threadFBID,first:30});this.entriesPromise=new(b("AsyncRequest"))(c).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){a=a.data.message_thread.messaging_audience_list.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});this.callbackManager.addLocalEntries(a);this.audienceEntries=a}.bind(this))}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(this.audienceEntries,!0)}.bind(this),b("emptyFunction"))};g.prototype.search=function(a,b){this.onEntriesLoaded(function(){this.callbackManager.search(a,function(c){b(c,a)})}.bind(this))};g.prototype.isBootstrapped=function(){return this.audienceEntries!==null};a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}a.prototype.onEntriesLoaded=function(a,b){var c=this.threadFBIDToCacheMap.get(a);c||(c=new g(a),this.threadFBIDToCacheMap.set(a,c));c.onEntriesLoaded(b)};a.prototype.search=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);d||(d=new g(a),this.threadFBIDToCacheMap.set(a,d));d.search(b,c)};a.prototype.isBootstrapped=function(a){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped():!1};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("BadgeReact.bs",["Badge.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("Badge.react"),{size:b("bs_js_null_undefined").fromOption(a),type:b("bs_js_null_undefined").fromOption(c)},d)}f.make=a}),null);
__d("ImageBlockReact.bs",["ReasonReact.bs","ImageBlock.react","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("ImageBlock.react"),{className:b("bs_js_null_undefined").fromOption(a),contentClassName:b("bs_js_null_undefined").fromOption(c),imageClassName:b("bs_js_null_undefined").fromOption(d),spacing:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("MessengerLocalTimeReact.bs",["cx","fbt","React","ReasonReact.bs","joinClasses","MercuryThreadTimestampReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("RMessengerLocalTimeReact");function a(a,c,d){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();if(c!==void 0){var d=c-new Date().getTimezoneOffset()*-60;if(d===0)return null;else{d=new Date(Date.now()+d*1e3);var e=d.getHours();e=e<6||e>22;var f=b("joinClasses")("_10rk",a);return b("React").createElement("span",{className:f},b("React").createElement("span",{className:e?"_2f3x":""},"(",b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadTimestampReact.bs").make(d.getTime(),void 0,void 0,void 0,[]))," ",h._("local time"),")"))}}else return null},i[9],i[10],i[11],i[12]]}c=22;d=6;f.component=i;f.nightStartHour=c;f.nightEndHour=d;f.make=a}),null);
__d("MessengerTextWithEntitiesReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerTextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerTextWithEntities.react"),{renderEmoji:b("bs_js_null_undefined").fromOption(a),renderEmoticons:b("bs_js_null_undefined").fromOption(c),text:b("bs_js_null_undefined").fromOption(d)},e)}f.make=a}),null);
__d("MessengerContactListRowReact.bs",["cx","ix","fbt","FBID.bs","bs_block","bs_curry","Image.bs","React","Utils.bs","BadgeReact.bs","Link.react","MercuryIDs","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","PresenceStatus","ImageBlockReact.bs","bs_js_null_undefined","WorkForeignEntityInfo.bs","AvailableListConstants","MercuryParticipantTypes","MessengerContactActions.bs","MessengerLocalTimeReact.bs","MessengerAdminGroupUtils","MessengerThreadImageReact.bs","MessengerContactImageReact.bs","MessengerTextWithEntitiesReact.bs","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c){if(a!==void 0)return b("bs_js_primitive").valFromOption(a).contains(c);else return!1}function k(a,c,d){var e=d.thread,f=d.participants,g=d.type===b("MercuryParticipantTypes").THREAD,h=d.photo,i,j,k;c!==void 0?f==null||!g?i=1:(j=b("bs_js_primitive").valFromOption(c),k=f,i=2):e==null||f==null||!g?i=1:(j=e,k=f,i=2);switch(i){case 1:if(h==null)return b("React").createElement("div",{className:"_5l39"});else{c=!b("WorkForeignEntityInfo.bs").isContactCoworker(d);return b("ReasonReact.bs").element(void 0,void 0,b("MessengerContactImageReact.bs").make("_5l39 _5rmm",void 0,b("bs_js_primitive").nullable_to_opt(d.isMessengerUser),void 0,32,h,c,[]))}case 2:return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadImageReact.bs").make("_5l39",void 0,void 0,void 0,32,k,j,a,[]))}}function l(a){var c=a.type===b("MercuryParticipantTypes").PAGE;a=b("WorkForeignEntityInfo.bs").isContactCoworker(a);if(c&&a)return b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","bot",[]));else return null}function m(a){a=a.isVerified;a=a==null?!1:a;if(a)return b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","verified",[]));else return null}function n(a){var c=a.subtitle,d;if(c==null||c==="")d=1;else return b("React").createElement("div",void 0,b("React").createElement("div",{className:"_3q34"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEntitiesReact.bs").make(!0,!0,a.title,[])),l(a),m(a)),b("React").createElement("div",{className:"_3q35"},c));if(d===1)return b("React").createElement("div",{className:"_364g"},a.title,b("ReasonReact.bs").element(void 0,void 0,b("MessengerLocalTimeReact.bs").make("_5ywd",b("bs_js_primitive").nullable_to_opt(a.timezone),[])),l(a),m(a))}function o(a,c){var d=c.type;if(a!==void 0&&a&&!(d==null||!(d===b("MercuryParticipantTypes").FRIEND||d===b("MercuryParticipantTypes").USER))){a=b("MercuryIDs").getUserIDFromParticipantID(c.uid);if(a==null)return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE}else return!1}var p=b("React").createElement("span",{className:"_5rh4"},i._("Added")),q=b("React").createElement("span",{className:"_5rh4"},i._("Invited")),r=b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_1kqm",void 0,void 0,void 0,h("86852"),void 0,void 0,void 0,void 0,[]));function s(a,c){c[1][2][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function t(a){__p&&__p();a=a[1];var c=a[4],d=a[5],e=a[2][0];if(c!==void 0&&c&&d!==void 0&&e!==void 0){c=b("bs_js_primitive").valFromOption(e);b("bs_curry")._1(d,c);e=a[6];if(e!==void 0)return b("bs_curry")._1(e,c);else return 0}else return 0}function u(a){__p&&__p();var c=a[1],d=c[1][4];a=a[0][1][5];var e=c[1][2][0];if(d!==void 0&&d&&a!==void 0&&e!==void 0){d=b("bs_js_primitive").valFromOption(e);b("bs_curry")._1(a,d);e=c[1][6];if(e!==void 0)return b("bs_curry")._1(e,d);else return 0}else return 0}function a(){__p&&__p();var a=b("ReasonReact.bs").reducerComponent("MessengerContactListRowReact"),c=function(c,d,e,f,g,h,l,m,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J){__p&&__p();var K=C!==void 0?C:"",L=function(a){if(h!==void 0)return 0;else{a.stopPropagation();a.preventDefault();return 0}},M=function(a,c){if(a===b("MessengerContactActions.bs").actions.SELECT)if(f!==void 0)return b("bs_js_primitive").valFromOption(f)(d,c);else return 0;else if(g!==void 0)return b("bs_curry")._2(g,a,d);else return 0},N=function(){var a=b("Utils.bs").isSomeTrue(w);if(a&&e!==void 0)return b("bs_curry")._1(e,d);else return 0},O=function(a){a.stopPropagation();return M(b("MessengerContactActions.bs").actions.SELECT,a)},P=function(a){__p&&__p();var c=a[3];a=a[1];if(D!==void 0){var d=b("bs_js_primitive").valFromOption(D).get(a[0].uid);d=d==null?[null,!0]:[d,!0]}else d=[null,!1];if(j(B,a[0].uid))return p;else if(j(x,a[0].uid))return q;else if(j(E,a[0].uid))return r;else if(d[1])return d[0];else if(o(F,a[0]))return b("React").createElement("div",{className:"_jg2"});else{d=b("bs_js_null_undefined").fromOption(l);var e=a[0].thread;e=G!==void 0?b("MessengerAdminGroupUtils").isAdminRequired(b("bs_js_primitive").valFromOption(G)):e==null?!1:b("MessengerAdminGroupUtils").isAdminRequired(e);var f=a[0].thread,g,k=0,m;G!==void 0?(m=b("bs_js_primitive").valFromOption(G),k=1):f==null?g=!1:(m=f,k=1);if(k===1){f=b("MercuryIDs").isValid(a[0].uid);k=f?b("bs_js_primitive").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a[0].uid)):b("FBID.bs").ofString(a[0].uid);f=k!==void 0?b("MessengerAdminGroupUtils").isAdmin(d,b("bs_js_primitive").valFromOption(k)):!1;g=b("MessengerAdminGroupUtils").isOwner(f,m)}k=g?b("React").createElement("span",{className:"_5qsj"},i._("Admin")):null;if(h!==void 0)return b("React").createElement("div",void 0,k,b("React").createElement(b("bs_js_primitive").valFromOption(h),{className:"_rwo",admins:d,contact:a[0],extrasEnabled:v,isAdminRequired:e,isOpen:a[1],onAction:M,onToggle:function(a){return b("bs_curry")._1(c,[a])},viewer:I}));else return k}};return[a[0],a[1],a[2],function(a){var e=d===a[3];if(e)return a;else return[b("bs_curry")._1(c,d),a[1],a[2],d,a[4],a[5],a[6]]},t,u,a[6],a[7],function(a){var c=a[1],d=b("joinClasses")(K,"_5l37"+(b("Utils.bs").optionBoolToBool(y)?" _1k1p":"")+(c[1]?" _rwn":"")),e=h!==void 0?-1:0,f=H!==void 0?b("TooltipData").propsFor(H,"left"):{},g=y!==void 0?!y:void 0,i=b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CONTACT_LIST_ITEM;e={className:"_5f0v",onClick:O,onMouseDown:L,onMouseEnter:N,tabIndex:e,children:b("ReasonReact.bs").element(void 0,void 0,b("ImageBlockReact.bs").make(void 0,"_5l38",void 0,"medium",[k(I,G,c[0]),n(c[0]),P(a)]))};g!==void 0&&(e["aria-hidden"]=b("bs_js_primitive").valFromOption(g));g=b("React").createElement(b("Link.react"),e);e=b("React").cloneElement(g,{"data-testid":i+c[0].uid});g=b("Utils.bs").isSomeTrue(m);if(g)return b("React").createElement("li",{ref:b("bs_curry")._1(a[0],s),className:d},e);else return b("React").cloneElement(b("React").createElement("li",{ref:b("bs_curry")._1(a[0],s),className:d,role:"option"}),f,e)},function(){return[b("bs_curry")._1(c,d),!1,[void 0],d,y,A,z]},a[10],function(a,c){return b("bs_block").__(0,[[c[0],a[0],c[2],c[3],c[4],c[5],c[6]]])},a[12]]},d=b("ReasonReact.bs").wrapReasonForJs(a,function(a){return c(a.contactAdapter,a.rawContact,b("bs_js_primitive").nullable_to_opt(a.onHighlight),b("bs_js_primitive").nullable_to_opt(a.onSelect),b("bs_js_primitive").nullable_to_opt(a.onAction),b("bs_js_primitive").nullable_to_opt(a.actionsClass),b("bs_js_primitive").nullable_to_opt(a.admins),b("bs_js_primitive").nullable_to_opt(a.disableRole),a.extraActionsEnabled,b("bs_js_primitive").nullable_to_opt(a.hasHoverState),b("bs_js_primitive").nullable_to_opt(a.invitedEntryIDs),b("bs_js_primitive").nullable_to_opt(a.isHighlighted),b("bs_js_primitive").nullable_to_opt(a.onRenderHighlight),b("bs_js_primitive").nullable_to_opt(a.onScrollIntoView),b("bs_js_primitive").nullable_to_opt(a.originalEntryIDs),b("bs_js_primitive").nullable_to_opt(a.rowClassName),b("bs_js_primitive").nullable_to_opt(a.rowElements),b("bs_js_primitive").nullable_to_opt(a.selectedEntryIDs),b("bs_js_primitive").nullable_to_opt(a.showPresence),b("bs_js_primitive").nullable_to_opt(a.thread),b("bs_js_primitive").nullable_to_opt(a.tooltipContent),a.viewer,[])});return[d,c]}c=32;f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.imageSize=c;f.idsContain=j;f.renderContactImage=k;f.renderBotBadge=l;f.renderVerifiedBadge=m;f.renderContactText=n;f.getPresenceStatus=o;f.isOriginal=p;f.isInvited=q;f.isSelected=r;f.setThisRef=s;f.didMount=t;f.didUpdate=u;f.createMake=a}),null);
__d("MessengerContactList.react",["cx","fbt","MessengerContactListRowReact.bs","ImageBlock.react","ImmutableObject","MessengerDotComAndInboxM4Check.bs","MessengerSpinner.react","MessengerTypeaheadUtils","React","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("MessengerContactListRowReact.bs").createMake();var j=c[0];c[1];d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").PureComponent);i=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){return b("React").createElement("div",{key:c,className:"_29hk"},this.$4(c),b("React").createElement("ul",{id:this.props.controlleeID,role:this.props.disableRole?void 0:"listbox",className:"_29hl"},a.map(function(a,c){c=c===0?b("joinClasses")(this.props.rowClassName,"_3h3c"):this.props.rowClassName;return b("React").createElement(j,{actionsClass:this.props.actionsClass,admins:this.props.admins,contactAdapter:this.props.contactAdapter,disableRole:this.props.disableRole,extraActionsEnabled:!!this.props.extraActionsEnabled,hasHoverState:this.props.hasHoverState,invitedEntryIDs:this.props.invitedEntryIDs,isHighlighted:this.props.highlightedEntry&&this.props.highlightedEntry.getUniqueID()===a.getUniqueID(),key:a.id||a.getUniqueID(),onAction:this.props.onAction,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,rawContact:a,rowClassName:c,rowElements:this.props.rowElements,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:this.props.showPresence,thread:this.props.thread,tooltipContent:a.getAuxiliaryData&&a.getAuxiliaryData().tooltipContent,viewer:this.props.viewer})}.bind(this))))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className},this.props.listSections.map(this.$1).toArray(),this.$2(),this.$3())};a.prototype.$4=function(a){if(!a)return null;var c=b("MessengerDotComAndInboxM4Check.bs").yes?"_225b _6ybl":"_225b";return b("React").createElement("div",{className:c},a)};a.prototype.$2=function(){return!this.props.isLoading?null:b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Searching...")))};a.prototype.$3=function(){if(this.props.queryString&&this.props.queryString.length>0&&!this.props.isLoading){var a=this.props.listSections.filter(function(a){return a.length!=1||!b("MessengerTypeaheadUtils").isMessageSearchEntry(a[0])}).size;if(a<1)return b("React").createElement("div",{className:"_3xcx"},h._("No results found"))}return null};a.propTypes={actionsClass:d.func,admins:d.object,controlleeID:d.string,contactAdapter:d.func.isRequired,disableRole:d.bool,extraActionsEnabled:d.bool,hasHoverState:d.bool,highlightedEntry:d.object,invitedEntryIDs:d.instanceOf(b("immutable").Set),isLoading:d.bool,listSections:d.instanceOf(b("immutable").OrderedMap).isRequired,onAction:d.func,onHighlight:d.func,onRenderHighlight:d.func,onScrollIntoView:d.func,onSelect:d.func,originalEntryIDs:d.instanceOf(b("immutable").Set),queryString:d.string,rowClassName:d.string,rowElements:d.instanceOf(b("immutable").Map),selectedEntryIDs:d.instanceOf(b("immutable").Set),showPresence:d.bool,thread:d.instanceOf(b("ImmutableObject")),viewer:d.string.isRequired};e.exports=a}),null);
__d("MessengerPaymentFriendsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1959479940789272"};c.getQueryID=function(){"use strict";return"2171073576453933"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerPaymentFriendsLocalCache",["AsyncRequest","MessengerGraphQLTypeaheadAdapter","MessengerPaymentFriendsQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null;a=null;var j={onEntriesLoaded:function(c){__p&&__p();if(i){c(i);return}if(!h){var d=b("MessengerPaymentFriendsQueryWebGraphQLQuery").getURI({first:50});h=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(c){var d=c.data.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});g.addLocalEntries(d);i=d;a=c.data.viewer.all_friends.page_info.end_cursor})}b("promiseDone")(h,function(){c(i)},b("emptyFunction"))},search:function(a,b){j.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return i!==null}};e.exports=j}),null);
__d("MessengerGroupSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1772876636104263"};c.getQueryID=function(){"use strict";return"384655052049205"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerPageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1746741182112617"};c.getQueryID=function(){"use strict";return"193065388231017"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerProfileSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2158861907541225"};c.getQueryID=function(){"use strict";return"1392868714183895"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2387849594621061"};c.getQueryID=function(){"use strict";return"1614226555345720"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerSearchWebGraphQLFetcherUtils",["MessengerGroupSearchResultsQueryWebGraphQLQuery","MessengerPageSearchResultsQueryWebGraphQLQuery","MessengerProfileSearchResultsQueryWebGraphQLQuery","MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={formSearchRequests:function(a,c,d){__p&&__p();var e={profiles:[],pages:[],rooms:[]};a.forEach(function(a){switch(a){case"users":a=Math.floor(Math.random()*65536);e.profiles.push(new(b("MessengerProfileSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,can_viewer_send_money:d.canViewerSendMoneyFilter,session:a.toString(),exclude_ids:d.localEntryIDs}));break;case"groups":e.profiles.push(new(b("MessengerGroupSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.groupLimit,exclude_ids:d.localEntryIDs}));break;case"pages":e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!0,include_games:!0,internal_bot:!1,vc_endpoint:!1}));break;case"rooms":d.threadFBID!=null&&e.rooms.push(new(b("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,thread_fbid:d.threadFBID}))}});return e}};e.exports=a}),null);
__d("MessengerSearchWebGraphQLFetcher",["Promise","Bootloader","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerGraphQLTypeaheadAdapter","MessengerPagesSearchSettings","MessengerSearchWebGraphQLFetcherUtils","PromiseUtil","QE2Logger","WebGraphQL","compactArray","qex"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:b("MercuryTypeaheadConstants").COMPOSER_NON_FRIENDS_MAX,h=3,i="messenger_business_search_qe";function a(a){"use strict";this.$1=[],this.$2=0,this.$3=0,this.$4=0,this.$1=[],this.$2=0,this.$3=0,this.$4=0,this.$5=a}a.prototype.fetchEntries=function(a,c,d,e,f){"use strict";__p&&__p();c=b("MessengerSearchWebGraphQLFetcherUtils").formSearchRequests(c,a,d);var g=c.pages,h=c.profiles,i=c.rooms;if(g.length>0){this.$6("pages",a);this.$3=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(g))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){return this.$7(b,a,e)}.bind(this),function(b){return this.$8(b,a,f)}.bind(this))()}if(h.length>0){this.$6("users_groups",a);this.$2=0;c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(h))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){this.$9(b,a,e)}.bind(this),function(b){return this.$10(b,a,f)}.bind(this))()}if(i.length>0){this.$6("rooms",a);this.$4=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(i))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){this.$11(b,a,e)}.bind(this),function(b){return this.$12(b,a,f)}.bind(this))()}};a.prototype.$11=function(a,c,d){if(this.$5()!==c)return;a=(a=a[0])!=null?(a=a.message_thread)!=null?(a=a.messaging_audience_list)!=null?a.nodes:a:a:a;if(a){a=b("compactArray")(a.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a)}));d(a,"usersGroups");this.$13("rooms",c,a)}};a.prototype.$9=function(a,c,d){"use strict";__p&&__p();if(this.$5()!==c)return;var e=[],f=[],g=b("qex")._("824278");for(var a=a,h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;j=(j=j)!=null?(j=j.entities_named)!=null?(j=j.search_results)!=null?j.edges:j:j:j;j&&j.length>0&&j[0].node&&(j[0].node.is_group_thread!=null?e=j.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}):j[0].node.is_messenger_user!=null&&(f=j.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,g?a.subtext:null)}),f=this.$14(b("compactArray")(f))))}j=b("compactArray")(f.concat(e));d(j,"usersGroups");this.$13("users_groups",c,j)};a.prototype.$14=function(a){"use strict";__p&&__p();var c=[],d=[];for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=a.length)break;h=a[f++]}else{f=a.next();if(f.done)break;h=f.value}h=h;if(!h)continue;h.getType()===b("MercuryParticipantTypes").FRIEND&&c.length<b("MercuryTypeaheadConstants").COMPOSER_FRIENDS_MAX?c.push(h):h.getType()===b("MercuryParticipantTypes").NON_FRIEND&&d.length<g&&d.push(h)}return c.concat(d)};a.prototype.$7=function(a,c,d){if(this.$5()!==c)return;a=(a=a[0])!=null?(a=a.entities_named)!=null?(a=a.search_results)!=null?a.edges:a:a:a;a=a?a.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").PAGE_TYPE)}):[];a=b("compactArray")(b("MessengerPagesSearchSettings").separate_game_count?a:a.slice(0,b("MessengerPagesSearchSettings").page_number));b("MessengerPagesSearchSettings").should_log_exposure&&b("QE2Logger").logExposureForUser(i);d(a,"pages");this.$13("pages",c,a)};a.prototype.$10=function(a,b,c){"use strict";if(b===this.$5()){if(this.$2<h){this.$2+=1;return!0}c(a,"usersGroups")}return!1};a.prototype.$8=function(a,b,c){"use strict";if(b===this.$5()){if(this.$3<h){this.$3+=1;return!0}c(a,"pages")}return!1};a.prototype.$12=function(a,b,c){"use strict";if(b===this.$5()){if(this.$4<h){this.$4+=1;return!0}c(a,"rooms")}return!1};a.prototype.$15=function(a){"use strict";__p&&__p();var c="";b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLoggerConstants"],function(b){switch(a){case"users_groups":c=b.SOURCES.SERVER_USERS_GROUPS;break;case"pages":c=b.SOURCES.SERVER_PAGES;break;case"rooms":c=b.SOURCES.SERVER_ROOMS;break;default:c=""}},"MessengerSearchWebGraphQLFetcher");return c};a.prototype.$6=function(a,c){"use strict";b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(b,d){d=this.$15(a);b.logSourceStarted(c,d)}.bind(this),"MessengerSearchWebGraphQLFetcher")};a.prototype.$13=function(a,c,d){"use strict";b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(b,e){var f=this.$15(a);b.logSourceEnded(c,f,d.length,e.QUERY_PROGRESS.FINISHED,this.$5()===c)}.bind(this),"MessengerSearchWebGraphQLFetcher")};e.exports=a}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1720594534660350"};c.getQueryID=function(){"use strict";return"1852062858177546"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1978892428852690"};c.getQueryID=function(){"use strict";return"127838424757019"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerTypeaheadLocalCache",["AsyncRequest","MessengerConfig","MessengerFriendsWebGraphQLQuery","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","TopMessengerFriendsAndGroupsWebGraphQLQuery","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null,j=null,k=null;function l(){if(b("MessengerConfig").BootstrapTypeaheadFromBuddylist||!j)return;var a=j;j=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerFriendsWebGraphQLQuery").getLegacyURI({cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){g.addLocalEntries(a.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))})}var m={onEntriesLoaded:function(a){if(h!==null&&i!==null){a(h,i,!1);return}k===null&&(k=m.fetchEntriesFromServer());b("promiseDone")(k,function(){a(h,i,!0),l()},function(a){throw a})},fetchEntriesFromServer:function(){var a=b("MessengerConfig").BootstrapTypeaheadFromBuddylist;a=b("TopMessengerFriendsAndGroupsWebGraphQLQuery").getLegacyURI({use_buddylist:a,first:100});a=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){return m.handlePayload(a)});return a},handlePayload:function(a){__p&&__p();var c=b("MessengerConfig").BootstrapTypeaheadFromBuddylist,d=(c?a.viewer.chat_buddylist:a.viewer.all_friends.edges).map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(c?a.represented_profile:a.node)}).filter(function(a){if(a===null)return!1;a=a.getAuxiliaryData();a=a&&a.isMemorializedUser;return!a}),e=a.viewer.message_threads.edges.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}).filter(function(a){return a!==null});g.addLocalEntries(d);g.addLocalEntries(e);h=d;i=e;a.viewer.all_friends&&a.viewer.all_friends.page_info&&a.viewer.all_friends.page_info.has_next_page&&(j=a.viewer.all_friends.page_info.end_cursor)},search:function(a,b){m.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return h!==null&&i!==null}};e.exports=m}),null);
__d("MessengerTypeaheadResultRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="MessengerTypeaheadResultRoute";a.paramDefinition={queryString:{required:!0,type:"String"},canViewerSendMoneyFilter:{required:!1,type:"Boolean"},localEntryIDs:{required:!0,type:"Array"},shouldQueryPages:{required:!0,type:"Boolean"},shouldQueryThreadName:{required:!0,type:"Boolean"},shouldQueryParticipantIDs:{required:!0,type:"Boolean"},shouldQueryParticipantNames:{required:!0,type:"Boolean"},shouldQueryVCEndpoint:{required:!0,type:"Boolean"},shouldQueryInternalBot:{required:!0,type:"Boolean"},shouldQueryRoomsAudience:{required:!0,type:"Boolean"},threadFBID:{required:!1,type:"String"}};a.queries={profiles:function(a,c){var d=c.canViewerSendMoneyFilter,e=c.shouldQueryPages,f=c.shouldQueryVCEndpoint,g=c.shouldQueryInternalBot;c=c.shouldQueryRoomsAudience;return function(a){return{calls:[{kind:"Call",metadata:{type:"String!"},name:"query",value:{kind:"CallVariable",callVariableName:"queryString"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"entities_named",kind:"Query",metadata:{identifyingArgName:"query",identifyingArgType:"String!"},name:"MessengerTypeaheadResultRoute",type:"SearchableEntitiesQuery"}}(a.getFragment("profiles",{canViewerSendMoneyFilter:d,shouldQueryPages:e,shouldQueryVCEndpoint:f,shouldQueryInternalBot:g,shouldQueryRoomsAudience:c}))},groups:function(a,c){var d=c.queryString,e=c.localEntryIDs,f=c.shouldQueryThreadName,g=c.shouldQueryParticipantIDs;c=c.shouldQueryParticipantNames;return function(a){return{children:[].concat.apply([],[b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"viewer",kind:"Query",metadata:{},name:"MessengerTypeaheadResultRoute",type:"Viewer"}}(a.getFragment("groups",{queryString:d,localEntryIDs:e,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:c}))},roomAudience:function(a,c){var d=c.queryString;c=c.shouldQueryRoomsAudience;return function(a){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"threadFBID"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"message_thread",kind:"Query",metadata:{identifyingArgName:"id",identifyingArgType:"ID!"},name:"MessengerTypeaheadResultRoute",type:"MessageThread"}}(a.getFragment("roomAudience",{queryString:d,shouldQueryRoomsAudience:c}))}};e.exports=a}),null);
__d("MessengerTypeaheadResultView.react",["cx","Bootloader","CurrentUser","Keys","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadAdapter","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","RelayModern","SearchableEntry","gkx","immutable","joinClasses","wrapNullableForReact","MessengerTypeaheadResultView_profiles.graphql","MessengerTypeaheadResultView_groups.graphql","MessengerTypeaheadResultView_roomAudience.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=50,j=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:b("MercuryTypeaheadConstants").COMPOSER_NON_FRIENDS_MAX,k=!b("CurrentUser").isWorkUser();d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").Component);h=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.onKeyDown=function(a,c){if(a===b("Keys").RETURN){this.props.onSelectHighlighted(c);return}if(!this.$1)return;c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,this.$1,this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(c)}.bind(this),this.$3=function(a){this.props.onNextHighlighted(a)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){this.$1=this.$2(this.props)};a.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown,function(){return this.$1}.bind(this))};a.prototype.UNSAFE_componentWillUpdate=function(a){this.$1=this.$2(a)};a.prototype.componentWillUnmount=function(){this.props.onUnmount()};a.prototype.render=function(){var a=this.$1;if(!a)return null;var c;k&&(c=[b("MercuryTypeaheadConstants").SEARCH_TYPE,b("MercuryTypeaheadConstants").FRIEND_TYPE,b("MercuryTypeaheadConstants").FB4C_TYPE,b("MercuryTypeaheadConstants").THREAD_TYPE,b("MercuryTypeaheadConstants").NON_FRIEND_TYPE,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE,b("MercuryTypeaheadConstants").PAGE_TYPE,b("MercuryTypeaheadConstants").GAME_TYPE]);a=b("MessengerTypeaheadUtils").buildListSections(a,this.props.queryString,c);return b("React").createElement(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!1,listSections:a,onHighlight:this.$3,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer})};a.prototype.$2=function(a){__p&&__p();var c=a.localEntries,d={};c.forEach(function(a){d[a.getUniqueID()]=!0});var e=b("MessengerTypeaheadUtils").sortEntries(this.$4(a,d),a.queryString),f=null;if(b("gkx")("678616")){var g=Date.now(),h=function(a){return a.map(function(a){return[a.getUniqueID(),a]})};f=b("immutable").OrderedMap(h(c)).merge(h(e)).filter(function(b){return!a.selectedEntryIDs.contains(b.getUniqueID())}).slice(0,i).toArray();var j=Date.now()-g;b("Bootloader").loadModules(["MessengerSearchWWWTypedLogger"],function(a){new a().setStage("messenger_rendering_dedup").setLatency(j).log()},"MessengerTypeaheadResultView.react")}else f=c.concat(e).filter(function(b){return!a.selectedEntryIDs.contains(b.getUniqueID())}).slice(0,i);this.$5(a.queryString,f,a.localEntryIDs);return f};a.prototype.$4=function(a,c){__p&&__p();var d=[];k&&(d=a.serverResults.filter(function(a){return a&&!c[a.getUniqueID()]}));if(a.profiles){var e;e=(e=a)!=null?(e=e.profiles)!=null?(e=e.user_results)!=null?e.edges:e:e:e;if(e){d=e.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)});e=[];var f=[],g=[];for(var h=d,i=Array.isArray(h),l=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(i){if(l>=h.length)break;m=h[l++]}else{l=h.next();if(l.done)break;m=l.value}m=m;if(!m||c[m.getUniqueID()])continue;m.getType()===b("MercuryParticipantTypes").FRIEND&&e.length<b("MercuryTypeaheadConstants").COMPOSER_FRIENDS_MAX?e.push(m):m.getType()===b("MercuryParticipantTypes").FB4C&&f.length<b("MercuryTypeaheadConstants").COMPOSER_FB4C_MAX?f.push(m):m.getType()===b("MercuryParticipantTypes").NON_FRIEND&&g.length<j&&g.push(m)}d=e.concat(f).concat(g)}}else if(a.roomAudience){l=(m=a)!=null?(m=m.roomAudience)!=null?(m=m.user_results)!=null?m.edges:m:m:m;l&&(d=d.concat(l.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)})))}a.profiles&&a.profiles.page_results&&(d=d.concat(a.profiles.page_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,this.$6(a.node))}.bind(this)).filter(function(a){return a&&!c[a.getUniqueID()]}).slice(0,b("MercuryTypeaheadConstants").COMPOSER_PAGES_MAX)));i=[];h=[];a.groups&&a.groups.threads_matching_name&&(h=h.concat(a.groups.threads_matching_name.edges));a.groups&&a.groups.threads_matching_participant_ids&&(h=h.concat(a.groups.threads_matching_participant_ids.edges));a.groups&&a.groups.threads_matching_participant_names&&(h=h.concat(a.groups.threads_matching_participant_names.edges));for(var e=0;e<h.length;e++){f=h[e];g=b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(f.node,e);if(!g||c[g.getUniqueID()])continue;i.push(g);c[g.getUniqueID()]=!0}d=d.concat(i);a.profiles&&a.profiles.vc_results&&(d=d.concat(a.profiles.vc_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE)})));a.profiles&&a.profiles.internal_bot_results&&(d=d.concat(a.profiles.internal_bot_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE)})));return d};a.prototype.$6=function(a){if(!a||!a.category_type)return b("MercuryParticipantTypes").PAGE;return a.category_type===b("MercuryTypeaheadConstants").WORKPLACE_BOT_CATEGORY_TYPE?b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE:b("MercuryTypeaheadConstants").PAGE_TYPE};a.prototype.$5=function(a,c,d){b("Bootloader").loadModules(["MessengerSearchLoggerUtil","MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(e,f,g){var h=b("immutable").OrderedMap();c.forEach(function(a){var b=a.getUniqueID();a={result_fbid:b,result_type:e.getLoggingTypeFromMercuryType(a.getType()),rank_section:g.SOURCES.LOCAL_AND_SERVER,data_source:[d.includes(b)?g.SOURCES.LOCAL:g.SOURCES.LOCAL_AND_SERVER]};h=h.set(b,a)});f.logImpressions(h,a,g.RESULT_SURFACES.TYPEAHEAD,g.SOURCES.LOCAL_AND_SERVER)},"MessengerTypeaheadResultView.react")};a.propTypes={controlleeID:d.string.isRequired,canViewerSendMoneyFilter:d.bool,className:d.string.isRequired,localEntries:d.arrayOf(d.instanceOf(b("SearchableEntry"))).isRequired,localEntryIDs:d.arrayOf(d.string.isRequired).isRequired,hasHoverState:d.bool.isRequired,highlightedEntry:d.object,onMount:d.func.isRequired,onNextHighlighted:d.func.isRequired,onScrollIntoView:d.func.isRequired,onSelect:d.func.isRequired,onSelectHighlighted:d.func.isRequired,onUnmount:d.func.isRequired,originalEntryIDs:d.instanceOf(b("immutable").Set).isRequired,queryString:d.string.isRequired,selectedEntryIDs:d.instanceOf(b("immutable").Set).isRequired,serverResults:d.arrayOf(d.instanceOf(b("SearchableEntry"))).isRequired,shouldQueryInternalBot:d.bool.isRequired,shouldQueryPages:d.bool.isRequired,shouldQueryVCEndpoint:d.bool.isRequired,viewer:d.string.isRequired,forGroup:d.bool};a.defaultProps={controlleeID:"",className:""};e.exports=k?a:c(a,{profiles:function(){return b("MessengerTypeaheadResultView_profiles.graphql")},groups:function(){return b("MessengerTypeaheadResultView_groups.graphql")},roomAudience:function(){return b("MessengerTypeaheadResultView_roomAudience.graphql")}})}),null);
__d("MessengerTypeaheadTopFriendsView.react",["cx","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","immutable","joinClasses","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.onKeyDown=function(a,c){if(a===b("Keys").RETURN){this.props.onSelectHighlighted(c);return}c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,this.props.entries.toArray(),this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(c)}.bind(this),this.$1=function(a){this.props.onNextHighlighted(a)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){this.props.hasHoverState&&(this.props.entries.size>0&&this.props.onNextHighlighted(this.props.entries.first()))};a.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown,function(){return this.props.entries.toArray()}.bind(this))};a.prototype.componentWillUnmount=function(){this.props.onUnmount()};a.prototype.render=function(){return b("React").createElement(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:b("MessengerTypeaheadUtils").buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer})};a.propTypes={controlleeID:c.string.isRequired,className:c.string.isRequired,entries:c.instanceOf(b("immutable").List).isRequired,hasHoverState:c.bool.isRequired,highlightedEntry:c.object,onNextHighlighted:c.func.isRequired,onMount:c.func.isRequired,onScrollIntoView:c.func.isRequired,onSelect:c.func.isRequired,onSelectHighlighted:c.func.isRequired,onUnmount:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,viewer:c.string.isRequired};a.defaultProps={controlleeID:"",className:""};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadView.react",["cx","fbt","Bootloader","CurrentUser","ImageBlock.react","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerNewGroupParticipantSuggestionLocalCacheManager","MessengerPaymentFriendsLocalCache","MessengerRoomPrivacyMode","MessengerRoomWithAssocObjectAudienceLocalCacheManager","MessengerSearchWebGraphQLFetcher","MessengerSpinner.react","MessengerTypeaheadLocalCache","MessengerTypeaheadResultRoute","MessengerTypeaheadResultView.react","MessengerTypeaheadTopFriendsView.react","MessengerTypeaheadUtils","React","RelayFBEnvironment","RelayModern","createCancelableFunction","debounce","immutable","gkx","MessengerGraphQLTypeaheadViewQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;c=b("React").PropTypes;var l=!b("CurrentUser").isWorkUser(),m=function(a){if(!a||a.length===0)return null;var c=a[0];return c.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE?c:a.length>1?a[1]:null},n=5;d=100;f=babelHelpers.inherits(a,b("React").Component);i=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={route:null,localEntries:b("immutable").List(),queryCompleteStatus:{usersGroups:!l,pages:!l},serverResults:[],highlightedEntry:null},this.$1=null,this.$2=null,this.$3=null,this.$4=0,this.$5=0,this.$6=null,this.$7=null,this.$8=!0,this.$9=b("MessengerRoomWithAssocObjectAudienceLocalCacheManager").get(),this.$10=b("MessengerNewGroupParticipantSuggestionLocalCacheManager").get(),this.$11=null,this.$12=!1,this.$13=null,this.$17=function(a,c,d,e,f,g){__p&&__p();this.$8&&this.setState({serverResults:[]});c=this.state.localEntries.toArray().filter(function(a){return a.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).map(function(a){return a.getUniqueID()});var h=[];d||h.push("groups");e||h.push("pages");f===null?h.push("users"):h.push("rooms");d={userLimit:10,groupLimit:b("MercuryConfig").MaxThreadResults,pageLimit:5,getQueryString:this.$16,canViewerSendMoneyFilter:g,localEntryIDs:c,threadFBID:f};this.$13!==null&&this.$13.fetchEntries(a,h,d,this.$31,this.$32)}.bind(this),this.$31=function(a,b){if(this.$8){this.setState(function(c){return{serverResults:c.serverResults.concat(a),queryCompleteStatus:Object.assign({},c.queryCompleteStatus,(c={},c[b]=!0,c))}});return}}.bind(this),this.$32=function(a,b){this.setState(function(a){return{queryCompleteStatus:Object.assign({},a.queryCompleteStatus,(a={},a[b]=!0,a))}})}.bind(this),this.$16=function(){return this.props.queryString}.bind(this),this.$23=function(a,b){this.$6=a,this.$7=b,this.$18()}.bind(this),this.$25=function(){this.$6=null,this.$7=null}.bind(this),this.$19=function(a){this.setState({highlightedEntry:a})}.bind(this),this.$24=function(a){this.state.highlightedEntry&&this.props.onSelect(this.state.highlightedEntry,a)}.bind(this),c}a.prototype.componentDidMount=function(){this.$14(),this.$2=b("debounce")(function(){if(!l&&this.$8){var a=this.$15();a=new(b("MessengerTypeaheadResultRoute"))(a);this.setState({route:a})}}.bind(this),150,this,!0),l&&(this.$13=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return this.$16()}.bind(this)),this.$3=b("debounce")(this.$17,150,this,!0))};a.prototype.componentDidUpdate=function(a){this.props!==a&&this.$18()};a.prototype.$18=function(){__p&&__p();if(!this.$7)return;var a=this.$7(),b=m(this.$11);this.$11=a;a=m(a);if(!a)return;if(this.state.highlightedEntry&&this.state.highlightedEntry.getUniqueID()===a.getUniqueID())return;b=!b||b.getUniqueID()!==a.getUniqueID();(b||!this.state.highlightedEntry||this.$12)&&this.$19(a);this.$12=!1};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();this.setState({highlightedEntry:null});if(!a.queryString)this.$14();else if(a.queryString!==this.props.queryString){this.$12=!0;this.setState({queryCompleteStatus:{userGroupQueryFinished:!1,pagesQueryFinished:!1},serverResults:[]});this.$2&&this.$2();var c=a.roomAssociatedObject&&a.roomAssociatedObject.privacy_mode;this.$3&&this.$3(a.queryString,b("MercuryConfig").MaxThreadResults,a.excludeGroups,a.excludePages,c===b("MessengerRoomPrivacyMode").WHITELISTED_MODE?a.threadFBID:null,a.canViewerSendMoneyFilter);if(c===b("MessengerRoomPrivacyMode").WHITELISTED_MODE){this.$20(a);return}if(this.props.canViewerSendMoneyFilter){this.$21(a);return}if(this.props.includeExistingParticipantIDs){this.$22(a);return}b("MessengerTypeaheadLocalCache").search(a.queryString,function(c,d){__p&&__p();if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);var e=this.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(d):null;e&&c.unshift(e);var f=b("immutable").List(c).filter(function(a){if(this.props.excludeGroups&&a.getType()===b("MercuryParticipantTypes").THREAD)return!1;return this.props.excludePages&&a.getType()===b("MercuryParticipantTypes").PAGE?!1:!0}.bind(this));b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants","MessengerSearchLoggerUtil"],function(c,e,g){var a=f;if(this.props.queryString===d){var h=b("immutable").OrderedMap();a.forEach(function(a){var b=a.getUniqueID();a={result_fbid:b,result_type:g.getLoggingTypeFromMercuryType(a.getType()),rank_section:e.SOURCES.LOCAL,data_source:[e.SOURCES.LOCAL]};h=h.set(b,a)});c.logImpressions(h,d)}}.bind(this),"MessengerGraphQLTypeaheadView.react");this.setState({localEntries:f})}}.bind(this))}};a.prototype.shouldComponentUpdate=function(a,b){return a.queryString!==this.props.queryString||a.isFocused!==this.props.isFocused||a.excludeGroups!==this.props.excludeGroups||a.excludePages!==this.props.excludePages||b.localEntries!==this.state.localEntries||b.queryCompleteStatus!==this.state.queryCompleteStatus||b.route!==this.state.route||b.highlightedEntry!==this.state.highlightedEntry};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.cancel(),this.$3&&this.$3.reset(),this.$2&&this.$2.reset(),this.$8=!1};a.prototype.render=function(){__p&&__p();if(!this.props.isFocused&&!this.props.queryString||!b("MessengerTypeaheadLocalCache").isBootstrapped()&&!this.$9.isBootstrapped(this.props.threadFBID)&&!b("MessengerPaymentFriendsLocalCache").isBootstrapped()&&!this.$10.isBootstrapped(this.props.threadFBID,this.props.originalEntryIDs))if(b("gkx")("678607"))return b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Searching...")));else return null;if(!this.props.queryString||!l&&!this.state.route)return b("React").createElement(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$23,onNextHighlighted:this.$19,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$24,onUnmount:this.$25,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer});if(l){var a=this.state.queryCompleteStatus.usersGroups&&(this.props.excludePages||this.state.queryCompleteStatus.pages);return b("React").createElement("div",null,this.state.queryCompleteStatus.usersGroups?this.$26():this.$27(),this.state.queryCompleteStatus.usersGroups&&!a?this.$28():null)}return b("React").createElement(k,{environment:b("RelayFBEnvironment"),query:j||(j=function(){return b("MessengerGraphQLTypeaheadViewQuery.graphql")}),render:function(a){var b=a.error;a=a.props;if(b)return this.$29(b);else if(a)return this.$26(a);return this.$27()}.bind(this),variables:this.$15()})};a.prototype.$27=function(){var a=this.state.localEntries.slice(0,n);return b("React").createElement(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.$30(a,this.props.queryString),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$19,onMount:this.$23,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$24,onUnmount:this.$25,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer})};a.prototype.$28=function(){return b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Searching...")))};a.prototype.$26=function(a){var c=this.$15(),d=this.state.localEntries.slice(0,n);return b("React").createElement(b("MessengerTypeaheadResultView.react"),babelHelpers["extends"]({},a,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,localEntries:d.toArray(),onMount:this.$23,onNextHighlighted:this.$19,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$24,onUnmount:this.$25,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,serverResults:this.state.serverResults,viewer:this.props.viewer},c))};a.prototype.$29=function(a){return b("React").createElement("div",null,h._("There was an issue. Please try again."))};a.prototype.$30=function(a,b){b=a.filter(function(a){return!this.props.selectedEntryIDs.contains(a.getUniqueID())}.bind(this));return b};a.prototype.onKeyDown=function(a,b){this.$6&&this.$6(a,b)};a.prototype.$20=function(a){this.$9.search(a.threadFBID,a.queryString,function(c,d){if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);this.setState({localEntries:b("immutable").List(c)})}}.bind(this))};a.prototype.$33=function(){this.setState({localEntries:b("immutable").List()}),this.$1=b("createCancelableFunction")(function(a){a=a.slice(0,30);this.setState({localEntries:b("immutable").List(a)})}.bind(this)),this.$9.onEntriesLoaded(this.props.threadFBID,function(a){this.$1&&this.$1(a),this.$1=null}.bind(this))};a.prototype.$22=function(a){this.$10.search(a.threadFBID,a.originalEntryIDs,a.queryString,function(c,d){if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);this.setState({localEntries:b("immutable").List(c)})}}.bind(this))};a.prototype.$34=function(){this.setState({localEntries:b("immutable").List()}),this.$1=b("createCancelableFunction")(function(a){this.setState({localEntries:b("immutable").List(a.slice(0,50))})}.bind(this)),this.$10.onEntriesLoaded(this.props.threadFBID,this.props.originalEntryIDs,function(a){this.$1&&this.$1(a),this.$1=null}.bind(this))};a.prototype.$21=function(a){b("MessengerPaymentFriendsLocalCache").search(a.queryString,function(c,d){if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);this.setState({localEntries:b("immutable").List(c)})}}.bind(this))};a.prototype.$35=function(){this.setState({localEntries:b("immutable").List()}),this.$1=b("createCancelableFunction")(function(a){this.setState({localEntries:b("immutable").List(a)})}.bind(this)),b("MessengerPaymentFriendsLocalCache").onEntriesLoaded(function(a){this.$1&&this.$1(a),this.$1=null}.bind(this))};a.prototype.$14=function(){__p&&__p();var a=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(a===b("MessengerRoomPrivacyMode").WHITELISTED_MODE){this.$33();return}if(this.props.canViewerSendMoneyFilter){this.$35();return}if(this.props.includeExistingParticipantIDs){this.$34();return}this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(a,c,d){a=a.slice(0,50);this.props.excludeGroups||(a=a.concat(c));if(!d||!this.props.queryString){c=this.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(this.props.queryString):null;c&&a.unshift(c);this.props.queryString===""&&this.$36(a);this.setState({localEntries:b("immutable").List(a)})}}.bind(this));b("MessengerTypeaheadLocalCache").onEntriesLoaded(function(a,b,c){this.$1&&this.$1(a,b,c),this.$1=null}.bind(this))};a.prototype.$15=function(){var a=this.props.canViewerSendMoneyFilter,c=this.state.localEntries.toArray();c=c.filter(function(a){return a.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).map(function(a){return a.getUniqueID()});var d=b("MercuryConfig").MaxThreadResults,e=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;e=e===b("MessengerRoomPrivacyMode").WHITELISTED_MODE;var f=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1&&!e,g=!this.props.excludeGroups&&c.length>0&&!e,h=!this.props.excludeGroups&&(!g||b("CurrentUser").isEmployee())&&!e,i=!l,j=!this.props.excludePages&&!e,k=this.props.shouldQueryVCEndpoint&&(b("CurrentUser").isEmployee()||b("CurrentUser").isWorkUser())&&!e,m=this.props.shouldQueryInternalBot&&b("CurrentUser").isEmployee()&&b("CurrentUser").isWorkUser()&&!e,n=e,o=this.props.threadFBID;return{queryString:this.props.queryString,canViewerSendMoneyFilter:a,localEntryIDs:c,maxThreadResults:d,shouldQueryGroups:i,shouldQueryPages:j,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:h,shouldQueryVCEndpoint:k,shouldQueryInternalBot:m,shouldQueryRoomsAudience:e,shouldSkipQueryUsers:n,threadFBID:o,forGroup:this.props.forGroup}};a.prototype.$36=function(a){b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(b){b.logNullStateImpressions(a,a.length)},"MessengerGraphQLTypeaheadView.react")};a.propTypes={includeExistingParticipantIDs:c.bool,canViewerSendMoneyFilter:c.bool,enableMessageSearch:c.bool.isRequired,excludeGroups:c.bool.isRequired,excludePages:c.bool.isRequired,forGroup:c.bool,isFocused:c.bool.isRequired,hasHoverState:c.bool.isRequired,maxEntries:c.number.isRequired,onScrollIntoView:c.func.isRequired,onSelect:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,roomAssociatedObject:c.object,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,threadFBID:c.string,typeaheadViewClassName:c.string.isRequired,viewer:c.string.isRequired};a.defaultProps={maxEntries:d,typeaheadViewClassName:""};e.exports=a}),null);
__d("MessengerGraphQLSearchTypeahead.react",["fbt","cx","ix","Bootloader","BootloadOnRender.react","ContextualLayer.react","CurrentUser","Event","Image.react","InstantGameContextType","JSResource","Keys","LazyComponent.react","MercuryIDs","gkx","immutable","MercuryThreadIDMap","MercuryTypeaheadConstants","MercuryVanityIDMap.bs","MessagingSourceEnum","MessengerActions","MessengerGraphQLTypeaheadView.react","MessengerScrollableArea.react","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","MNPlatformTagsDataManager","QuicksilverSources","React","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","clearImmediate","emptyFunction","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadIDMap").get();a=b("React").PropTypes;var k=i("86933"),l=30,m=100;c=b("React").createClass({displayName:"MessengerGraphQLSearchTypeahead",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_input:null,_timer:null,_view:null,propTypes:{includeExistingParticipantIDs:a.bool,canViewerSendMoneyFilter:a.bool,className:a.string.isRequired,context:a.object,enableMessageSearch:a.bool.isRequired,excludeGroups:a.bool.isRequired,excludePages:a.bool.isRequired,forGroup:a.bool,hasHoverState:a.bool.isRequired,hideClearButton:a.bool.isRequired,hideResults:a.bool,isFacebookChat:a.bool.isRequired,isFocused:a.bool.isRequired,isTokenizer:a.bool.isRequired,onBackspace:a.func.isRequired,onBlur:a.func.isRequired,onChange:a.func.isRequired,onClear:a.func.isRequired,onClearAndRefocus:a.func.isRequired,onClick:a.func.isRequired,onFocus:a.func.isRequired,onScrollIntoView:a.func.isRequired,onSelect:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,placeholder:a.string.isRequired,queryString:a.string.isRequired,roomAssociatedObject:a.object,scrollableViewClassName:a.string.isRequired,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,tabIndex:a.number,threadFBID:a.string,typeaheadViewClassName:a.string.isRequired,useLayer:a.bool.isRequired,viewer:a.string.isRequired,width:a.number},getInitialState:function(){return{gameID:null}},getDefaultProps:function(){return{includeExistingParticipantIDs:!1,canViewerSendMoneyFilter:!1,isFacebookChat:!1,isTokenizer:!1,onBackspace:b("emptyFunction"),onChange:b("emptyFunction"),onClear:b("emptyFunction"),onClearAndRefocus:b("emptyFunction"),onClick:b("emptyFunction"),onScrollIntoView:b("emptyFunction"),originalEntryIDs:b("immutable").Set(),placeholder:"",scrollableViewClassName:"",selectedEntryIDs:b("immutable").Set(),typeaheadViewClassName:"",useLayer:!1}},componentDidMount:function(){this._timer=b("setImmediate")(this._syncInputWidth)},componentDidUpdate:function(){b("clearImmediate")(this._timer),this._timer=b("setImmediate")(this._syncInputWidth)},componentWillUnmount:function(){b("clearImmediate")(this._timer)},renderLayers:function(){if(!this.props.useLayer)return{};var a=null,c=null;this.props.context?a=this.props.context:c=function(){return this._input}.bind(this);return{typeaheadView:b("React").createElement(b("ContextualLayer.react"),{context:a,contextRef:c,position:"below",shown:(this.props.queryString||b("gkx")("678607"))&&this.props.isFocused,shouldSetARIAProperties:!1},this._renderView())}},render:function(){var a=this.props.useLayer?null:this._renderView();return b("React").createElement("div",{className:(this.props.isTokenizer?"":"_1nq2")+(this.props.isTokenizer?" _3mkz":"")},b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_58ah"+(this.props.hideResults?" _1a03":"")),onChange:this.props.onChange,onSelect:b("emptyFunction"),tabIndex:null},b("React").createElement("label",{className:"_58ak"},b("React").createElement("input",{autoComplete:"off",className:"_58al",onBlur:this._handleBlur,onClick:this.props.onClick,onChange:function(){},onFocus:this._handleFocus,onKeyDown:function(a){return this._handleKeyDown(a)}.bind(this),placeholder:this.props.placeholder,ref:function(a){return this._input=a}.bind(this),spellCheck:!1,tabIndex:this.props.tabIndex,type:"text",value:this.props.queryString,"aria-label":b("CurrentUser").isWorkUser()?g._("Search Work Chat"):g._("Search Messenger")})),a),b("React").createElement(b("Image.react"),{onMouseDown:this._onClear,className:(this.props.hideClearButton?"hidden_elem":"")+" _2xme",src:k}),b("React").createElement("span",{ref:"textSizeProxy",className:"_58-3","aria-hidden":"true"},this.props.queryString||this.props.placeholder),this._renderGame())},focusInput:function(){this._input&&this._input.focus()},_onClear:function(){this._logClearContentSearch(),this.props.onClear()},_syncInputWidth:function(){if(!this.props.isTokenizer)return;var a=b("ReactDOM").findDOMNode(this.refs.textSizeProxy);a=a?a.offsetWidth:0;if(a===0)return;this._input&&(this._input.style.width=a+"px")},_renderGame:function(){return!this.state.gameID?null:b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerGamesQuicksilverPlayerContainer.react").__setRef("MessengerGraphQLSearchTypeahead.react"),placeholder:b("React").createElement(b("MessengerSpinner.react"),null),component:b("React").createElement(b("LazyComponent.react"),{initialContextType:b("InstantGameContextType").SOLO,initialContextSourceID:null,initialGameID:this.state.gameID,onHide:this._handleHideGame,initialSource:b("QuicksilverSources").MESSENGER_SEARCH,sourceID:null})})},_renderView:function(){__p&&__p();if(!this.props.isFocused)return null;if(!this.props.queryString){var a=b("gkx")("678607")?!1:this.props.isTokenizer&&!this.props.forGroup;if(a)return null}a=this.props.isTokenizer?l:m;a=b("React").createElement(b("MessengerGraphQLTypeaheadView.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,forGroup:this.props.forGroup,isFocused:this.props.isFocused,hasHoverState:this.props.hasHoverState,maxEntries:a,onScrollIntoView:this._handleScrollIntoView,onSelect:this._handleSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(a){return this._view=a}.bind(this),roomAssociatedObject:this.props.roomAssociatedObject,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,threadFBID:this.props.threadFBID,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer});if(this.props.isTokenizer)return b("React").createElement(b("MessengerScrollableArea.react"),{className:this.props.scrollableViewClassName,ref:"scrollable",width:this.props.width},a);else return a},_handleScrollIntoView:function(a){if(!a)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(a);return}this.refs.scrollable&&b("MessengerTypeaheadUtils").scrollEntryIntoView(a,this.refs.scrollable)},_handleFocus:function(){this.props.hideResults?this.props.onClearAndRefocus():this.props.onFocus()},_handleSelect:function(a,c){c&&c.preventDefault();c=a.getUniqueID();var d=a.getType(),e=a.getAuxiliaryData().alias;e&&b("MercuryVanityIDMap.bs").set(e,b("MercuryIDs").getParticipantIDFromUserID(c));d===b("MercuryTypeaheadConstants").SEARCH_TYPE?(b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(a,b){a.endFunnel(b.END_REASONS.END_ACTION,b.END_ACTIONS.MESSAGE_SEARCH,null,b.ENTRY_SURFACES.INBOX)},"MessengerGraphQLSearchTypeahead.react"),this._logSearchAllThreads(this.props.queryString),b("MessengerActions").changeQueryAll(this.props.queryString)):d===b("MercuryTypeaheadConstants").GAME_TYPE?this.setState({gameID:c}):d===b("MercuryTypeaheadConstants").THREAD_TYPE?j.getClientIDFromServerID(c,function(b){return this.props.onSelect(b,d,a)}.bind(this)):(b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),b("MercuryIDs").getThreadIDFromUserID(c),function(b){return this.props.onSelect(b.thread_id,d,a)}.bind(this)),b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread(b("MessagingSourceEnum").MESSENGER_WEB_SEARCH,c))},_handleHideGame:function(){this.setState({gameID:null})},_handleKeyDown:function(a){var c=a.keyCode;c===b("Keys").DOWN||c===b("Keys").UP||c===b("Keys").RETURN?(this.props.hideResults&&c===b("Keys").RETURN&&b("MessengerActions").changeQueryAll(this.props.queryString),this._view&&this._view.onKeyDown&&this._view.onKeyDown(c,a)):c===b("Keys").BACKSPACE?this.props.onBackspace(a):c===b("Keys").ESC&&(this._input&&this._input.blur())},_handleBlur:function(){var a=null,c=b("Event").listen(window,"blur",function(){c.remove(),b("clearImmediate")(a)});a=b("setImmediate")(function(){c.remove(),this.props.onBlur()}.bind(this))},_logClearContentSearch:function(){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b){a&&a.endFunnel(b.FUNNEL_LOGGER_TAGS.END_WITH_X_BUTTON)},"MessengerGraphQLSearchTypeahead.react")},_logSearchAllThreads:function(a){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(b,c){b.startFunnel(a,c.FUNNEL_LOGGER_TAGS.SEARCH_ALL_THREADS)},"MessengerGraphQLSearchTypeahead.react")}});e.exports=c}),null);
__d("MessengerTokenizerToken.react",["cx","Keys","React","SearchableEntry","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=100;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){a.keyCode===b("Keys").BACKSPACE&&(a.preventDefault(),this.props.onRemove&&this.props.onRemove(this.props.entry))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_14-8"),label:null,onClick:this.$1,onKeyDown:this.$2,role:"option",tabIndex:this.props.index+i},b("React").createElement("span",{"aria-label":this.props.label,title:this.props.label,className:"_14-9"},this.props.label))};a.prototype.$1=function(a){a.stopPropagation()};a.propTypes={className:c.string,entry:c.instanceOf(b("SearchableEntry")),index:c.number,label:c.string.isRequired,onRemove:c.func};e.exports=a}),null);
__d("MessengerGraphQLTokenizer.react",["cx","invariant","MessengerGraphQLSearchTypeahead.react","MessengerTokenizerToken.react","React","immutable","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=!0,this.state={focused:this.props.autoFocus,queryString:""},this.focusInput=function(){this.refs.typeahead&&this.refs.typeahead.focusInput()}.bind(this),this.$4=function(){if(!this.$1)return;this.setState({focused:!1})}.bind(this),this.$8=function(){if(!this.$1)return;this.setState({focused:!0})}.bind(this),this.$5=function(a){if(this.state.queryString||this.props.entries.size===0)return;this.$10(this.props.entries.last());a.preventDefault();b("setImmediate")(this.focusInput)}.bind(this),this.$6=function(a){a.target instanceof HTMLInputElement||h(0,1185);if(!this.$1)return;this.setState({queryString:a.target.value})}.bind(this),this.$7=function(){if(!this.$1)return;this.setState({queryString:""});this.props.onClear&&this.props.onClear()}.bind(this),this.$9=function(a,b,c){__p&&__p();if(!this.$1)return;a=this.props.entries;var d=c.getUniqueID();if(this.props.originalEntryIDs.contains(d))return;else if(a.some(function(a){return a.getUniqueID()===d})){this.$10(c);return}this.props.onAddEntryAttempt(c);this.setState({queryString:""})}.bind(this),this.$10=function(a){this.props.onRemoveEntryAttempt(a)}.bind(this),this.$3=function(a){this.focusInput()}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=!0,this.props.autoFocus&&b("setImmediate")(this.focusInput)};a.prototype.componentWillUnmount=function(){this.$1=!1};a.prototype.render=function(){var a=this.props.entries.map(function(a,b){return this.$2(a,b)}.bind(this)),c=a.size>0?"":this.props.placeholder,d=this.props.forceHideClearButton||this.state.queryString===""&&this.props.entries.isEmpty();return b("React").createElement("div",null,b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_14-7")},b("React").createElement("div",{className:b("joinClasses")("_58-2","clearfix"),onClick:this.$3},a,b("React").createElement(b("MessengerGraphQLSearchTypeahead.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,className:"_58-0",context:this.props.context,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,forGroup:this.props.forGroup,hasHoverState:this.props.hasHoverState,hideClearButton:d,isFacebookChat:!1,isFocused:this.state.focused,isTokenizer:!0,onBlur:this.$4,onBackspace:this.$5,onChange:this.$6,onClear:this.$7,onFocus:this.$8,onSelect:this.$9,originalEntryIDs:this.props.originalEntryIDs,placeholder:c,queryString:this.state.queryString,ref:"typeahead",roomAssociatedObject:this.props.roomAssociatedObject,selectedEntryIDs:b("immutable").Seq(this.props.entries).map(function(a){return a.getUniqueID()}).toSet(),scrollableViewClassName:this.props.scrollableViewClassName,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,tabIndex:this.props.tabIndex,threadFBID:this.props.threadFBID,useLayer:this.props.useLayer,viewer:this.props.viewer,width:this.props.width}))),this.state.queryString===""&&!this.state.focused?this.props.defaultEntries:null)};a.prototype.$2=function(a,c){return b("React").createElement(b("MessengerTokenizerToken.react"),{className:"_2ei6",key:a.getUniqueID(),label:a.getTitle(),entry:a,index:c,onRemove:this.$10})};a.propTypes={autoFocus:c.bool.isRequired,canViewerSendMoneyFilter:c.bool,includeExistingParticipantIDs:c.bool,className:c.string.isRequired,context:c.object,defaultEntries:c.element,enableMessageSearch:c.bool.isRequired,entries:c.instanceOf(b("immutable").List).isRequired,excludeGroups:c.bool.isRequired,excludePages:c.bool.isRequired,forGroup:c.bool,forceHideClearButton:c.bool,hasHoverState:c.bool.isRequired,onAddEntryAttempt:c.func.isRequired,onClear:c.func,onRemoveEntryAttempt:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,placeholder:c.node.isRequired,roomAssociatedObject:c.object,scrollableViewClassName:c.string.isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,tabIndex:c.number,threadFBID:c.string,useLayer:c.bool.isRequired,viewer:c.string.isRequired,width:c.number.isRequired};e.exports=a}),null);