if (self.CavalryLogger) { CavalryLogger.start_js(["YsPpi"]); }

__d("FluxDebugUtils",["areEqual","flattenArray","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){return b("areEqual")(a,c.slice(0,a.length))}function h(a){return Object.prototype.toString.call(a)==="[object Object]"}function i(a){return Object.keys(a).sort()}function j(a,b){return i(a).filter(function(a){return!(a in b)})}function k(a,b){return i(b).filter(function(b){return!(b in a)})}function l(a,b){return i(a).filter(function(a){return a in b})}function m(a,c){__p&&__p();if(!h(a)||!h(c))return[];var d=k(a,c).map(function(a){var b;return{path:[],op:"add",value:(b={},b[a]=c[a],b)}}),e=j(a,c).map(function(a){return{path:[a],op:"delete"}}),f=[].concat(b("flattenArray")(l(a,c).map(function(d){if(b("areEqual")(a[d],c[d]))return[];return!h(a[d])||!h(c[d])?{path:[d],op:"update",oldValue:a[d],newValue:c[d]}:m(a[d],c[d]).map(function(a){return babelHelpers["extends"]({},a,{path:[d].concat(a.path)})})})));return[].concat(d,e,f)}var n={diff:m,diffStoreMutation:function(a){return a.prevState&&a.prevState.toJS?m(a.prevState.toJS(),a.currState.toJS()):m(a.prevState,a.currState)},diffStoreMutationInstance:function(a){return n.diffStoreMutation(a.mutation)},isOperationTouchingPath:function(a,c){if(b("areEqual")(a.path,c))return!0;if(g(a.path,c)){c=c.slice(a.path.length);a=a.value||a.newValue;return!!b("getByPath")(a,c)}return!1},getStoreStateFromStoreConfig:function(a){return a.store&&a.stateGetter?a.stateGetter():a.getState()},getStoreInstanceFromStoreConfig:function(a){return a.store||a},applyPlugins:function(a,b,c){b.forEach(function(d){return a[d.name]=function(){for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];var g=d.run.apply(d,[c()].concat(e));n.applyPlugins(g,b,function(){return g});return g}})}};e.exports=n}),null);
__d("SignalsSimpleFadeOutContainer.react",["Animation","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={show:!0},b}a.prototype.componentDidMount=function(){var a=this.props,c=a.delay;a=a.duration;var d=b("ReactDOM").findDOMNode(this);d&&(this.$1=new(b("Animation"))(d).from("opacity",1).to("opacity",1).duration(c*1e3).checkpoint().from("opacity",1).to("opacity",0).duration(a*1e3).ondone(function(){this.setState({show:!1})}.bind(this)).go())};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.stop()};a.prototype.render=function(){var a=this.props,c=a.className;a=a.children;var d=this.state.show;return d?b("React").createElement("div",{className:b("joinClasses")(c)},a):null};e.exports=a}),null);
__d("RTCChromeScreenSharingUtils",["MediaRequestSourceApp","WorkModeConfig"],(function(a,b,c,d,e,f){"use strict";function a(){return b("WorkModeConfig").is_work_user?b("MediaRequestSourceApp").WORKPLACE:b("MediaRequestSourceApp").RTC_CALL}e.exports={getMediaRequestSourceAppId:a}}),null);
__d("FBRTCSoundController",["RTCConfig","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingEvent","RTWebLoggingSurface","RTWebUserActionLogger","Sound"],(function(a,b,c,d,e,f){__p&&__p();var g=[b("RTCConfig").ringtone_mp3_url,b("RTCConfig").ringtone_ogg_url],h=[b("RTCConfig").ringback_mp3_url,b("RTCConfig").ringback_ogg_url],i=[b("RTCConfig").leave_mp3_url,b("RTCConfig").leave_ogg_url];a={playIncomingRingtone:function(a,c,d){var e=d.loop,f=d.isP2P;d=d.isUnsupportedDialog;d=d===void 0?!1:d;c=["incoming_ringtone",a.toString(),c].join("_");b("Sound").play(g,c,e);b("RTWebUserActionLogger").logEvent({callID:a.toString(),callType:f?b("RTWebLoggingCallType").P2P:b("RTWebLoggingCallType").MW,component:b("RTWebLoggingComponent").INCOMING_RING_TONE,eventName:b("RTWebLoggingEvent").RING_TONE_PLAYED,surface:d?b("RTWebLoggingSurface").MISSED_CALL_DIALOG:b("RTWebLoggingSurface").INCOMING_DIALOG})},stopIncomingRingtone:function(){b("Sound").stop(g)},playRingbackTone:function(){b("Sound").play(h,null,!0)},stopRingbackTone:function(){b("Sound").stop(h)},playLeaveCallSound:function(){b("Sound").play(i,null,!1)}};e.exports=a}),null);
__d("FBRTCStreamWrapper",["FBRTCUtils","mixInEventEmitter"],(function(a,b,c,d,e,f){__p&&__p();var g=100,h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i;function j(){"use strict";this.$1=!0,this.$2=!0,this.$3=null,this.$4=null}j.prototype.setStream=function(a,b){b===void 0&&(b=!0);var c=this.hasStream();this.stop();this.$5();this.$6();b&&(a.onaddtrack=this.$7.bind(this),a.onremovetrack=this.$7.bind(this),a.onended=this.$8.bind(this),c&&this.emit("tracksChanged"));this.$3=a};j.prototype.getStreamId=function(){"use strict";return this.$3!=null?this.$3.id:null};j.prototype.getStream=function(){"use strict";return this.$3};j.prototype.hasStream=function(){"use strict";return!!this.$3};j.prototype.stop=function(){"use strict";this.$3&&(j.stopStream(this.$3),this.$3=null)};j.prototype.hasVideoTracks=function(){"use strict";return this.$3&&this.$3.getVideoTracks?this.$3.getVideoTracks().length>0:!0};j.prototype.hasVideo=function(){"use strict";return this.$2&&this.hasVideoTracks()};j.prototype.hasAudioTracks=function(){"use strict";return this.$3&&this.$3.getAudioTracks?this.$3.getAudioTracks().length>0:!0};j.prototype.hasAudio=function(){"use strict";return this.$1&&this.hasAudioTracks()};j.prototype.attachToVideoTag=function(a){"use strict";this.$3&&(a instanceof HTMLVideoElement&&(this.$4=a,b("FBRTCUtils").attachMediaStream(a,this.$3),this.$9(a)))};j.prototype.getAudioAnalyser=function(){"use strict";if(this.$3){var a=this.$10(),b=a.createMediaStreamSource(this.$3);a=a.createAnalyser();a.fftSize=2048;b.connect(a);return a}return null};j.prototype.$10=function(){"use strict";i||(i=new h());return i};j.prototype.toggleMuteAudio=function(){"use strict";if(!this.hasAudioTracks())return;this.$1=!this.$1;this.$5()};j.prototype.$5=function(){"use strict";if(this.$3){var a=this.$3.getAudioTracks();for(var b=0;b<a.length;b++)a[b].enabled=this.$1}};j.prototype.toggleMuteVideo=function(){"use strict";this.$2=!this.$2,this.$2?this.$6():setTimeout(this.$6.bind(this),500),this.$7()};j.prototype.$6=function(){"use strict";if(this.$3){var a=this.$3.getVideoTracks();for(var b=0;b<a.length;b++)a[b].enabled=this.$2}};j.prototype.setVideoEnabled=function(a){"use strict";this.$2=a,this.$6(),this.$7()};j.prototype.$9=function(a){"use strict";!this.hasVideo()||a.currentTime>0?this.$11(a):setTimeout(this.$9.bind(this,a),g)};j.prototype.$11=function(a){"use strict";this.emit("streamStarted")};j.prototype.$8=function(){"use strict";this.emit("streamEnded")};j.prototype.$7=function(a){"use strict";this.$12(a)&&(this.$4!=null&&this.attachToVideoTag(this.$4)),this.emit("tracksChanged")};j.prototype.$12=function(a){"use strict";return this.$4!=null&&a!=null&&a.type==="addtrack"&&a.track.kind==="video"};j.stopStream=function(a){"use strict";a.active!=null&&a.active?a.getTracks().forEach(function(a){a.stop()}):a.stop!=null&&typeof a.stop==="function"&&a.stop()};b("mixInEventEmitter")(j,{streamStarted:!0,streamEnded:!0,tracksChanged:!0});e.exports=j}),null);
__d("RTCSVGIcon.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").Children;a=function(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return b("React").cloneElement(g.only(c),babelHelpers["extends"]({preserveAspectRatio:"xMidYMid meet"},a))};e.exports=a}),null);
__d("RTCAbstractButton.react",["cx","AbstractButton.react","React","RTCSVGIcon.react","joinClasses","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var b=this.props.disabled;if(b){a.preventDefault();return}this.props.shouldThrottle?this.$2():this.props.onClick()}.bind(this),this.$2=b("throttle")(function(){this.props.onClick()}.bind(this),500),c}a.prototype.render=function(){var a=this.props,c=a.children,d=a.className,e=a.disabled,f=a.highlighted,g=a.title;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","disabled","highlighted","title"]);c=b("React").createElement(b("RTCSVGIcon.react"),{className:"_4uwr"},c);return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({"aria-disabled":e,className:b("joinClasses")(d,"_4uwq"+(!e&&f?" highlighted":"")),"data-hover":e?"none":"tooltip",image:c,label:g},a,{onClick:this.$1}))};a.defaultProps={highlighted:!1,disabled:!1,labelIsHidden:!0,shouldThrottle:!0};e.exports=a}),null);
__d("RTCCallControlsButton.react",["React","RTCAbstractButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){var a=this.props,c=a.title;a=babelHelpers.objectWithoutPropertiesLoose(a,["title"]);return b("React").createElement(b("RTCAbstractButton.react"),babelHelpers["extends"]({"data-tooltip-alignh":"center","data-tooltip-content":c,label:c,labelIsHidden:this.props.labelIsHidden,title:c},a))};function a(){g.apply(this,arguments)}a.defaultProps={highlighted:!1,disabled:!1,shouldThrottle:!0,labelIsHidden:!0};e.exports=a}),null);
__d("RTCCallNUXIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RTC_VIDEO_CHAT_FILTERS_NUX:6265,RTC_P2P_ADD_GROUP_MEMBER_NUX:5609,RTC_P2P_REMOTE_STREAMS_SLIDER_NUX:4773,RTC_P2P_REMOTE_SCREEN_CONTENT_POP_OUT_NUX:4774,RTC_P2P_REMOTE_CAMERA_CONTROLS_NUX:4775,RTC_P2P_SETTINGS_NUX:4776})}),null);
__d("RTCUIAddParticipantIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 48 48"},b("React").createElement("g",{transform:"translate(11 16)"},b("React").createElement("path",{d:"M13.21 1.644c-1.023.763-.748 1.669-.656 3.21-.421 0-.37.31-.29.709.073.364.11.838.283.838a.123.123 0 0 0 .053-.013c.604 2.518 1.073.438.712 2.73l-.292.067c-.038.136-.09.617-.293.94C8.281 12 8.24 11.397 7.8 16H24c-.441-4.603-.46-4-4.905-5.875-.203-.323-.255-.804-.293-.94l-.292-.066c-.362-2.293.082-.213.685-2.731a.12.12 0 0 0 .053.013c.174 0 .21-.474.283-.838.08-.398.146-.71-.276-.71.09-1.54.371-2.438-.595-3.209-.763-1.14-2.693-1.05-2.76-1.05 0 0-1.374.067-2.69 1.05z",fillRule:"evenodd"}),b("React").createElement("path",{d:"M5.738 4.407V0H4.463v4.407H0v1.26h4.463v4.407h1.275V5.667H10.2v-1.26z",fillRule:"evenodd"}))))};e.exports=a}),null);
__d("RTCCallControlsAddGroupMembersButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCCallNUXActions","RTCCallNUXIDs","RTCGroupCallDialogController","RTCUIAddParticipantIcon.react","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs","XUIAmbientNUX.react","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a;this.props.thread?a=h._("Add Group Members"):this.props.isEscalatedCall?a=h._("Add More People"):a=h._("See Call Participants");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallControlsButton.react"),{className:b("joinClasses")("semiopaque icon-48",this.props.className),"data-testid":b("VideoCallWebDriverIDs").ADD_GROUP_MEMBERS_BUTTON,disabled:this.props.disabled,onClick:function(){return this.$2()}.bind(this),ref:function(a){return this.$1=a}.bind(this),title:a},b("React").createElement(b("RTCUIAddParticipantIcon.react"),null)),b("React").createElement(k,{contextRef:function(){return this.$1}.bind(this),shown:this.props.showNux}))};a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").ADD_PARTICIPANT,conferenceState:this.props.conferenceState,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),this.$3()};a.prototype.componentDidUpdate=function(){this.$3()};a.prototype.$2=function(){b("RTWebUserActionLogger").logClick({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").ADD_PARTICIPANT,conferenceState:this.props.conferenceState,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),this.props.showNux&&j(),this.$4()};a.prototype.$4=function(){var a=this.props,c=a.localUser,d=a.participants,e=a.remoteUsers;a=a.thread;b("RTCGroupCallDialogController").showAddGroupMembersDialog(d.filter(function(a){a=a.fbid;return a!==c.FBID}),b("immutable").Map(e.map(function(a){return[a.FBID,a.participantState]})),a,c.FBID,!!this.props.isEscalatedCall)};a.prototype.$3=function(){this.props.showNux&&b("RTCCallNUXActions").markNUXViewed(b("RTCCallNUXIDs").RTC_P2P_ADD_GROUP_MEMBER_NUX)};function a(){i.apply(this,arguments)}a.defaultProps={showNux:!1};function j(){b("RTCCallNUXActions").dismissNUX(b("RTCCallNUXIDs").RTC_P2P_ADD_GROUP_MEMBER_NUX)}var k=function(a){return b("React").createElement(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",offsetX:21,onCloseButtonClick:j,position:"above",width:"auto"},a),h._("Add someone to your chat"))};e.exports=a}),null);
__d("RTCUIScreenIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){var c=a.variant;a=babelHelpers.objectWithoutPropertiesLoose(a,["variant"]);return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 48 48"},b("React").createElement(g,{variant:c})))};var g=function(a){a=a.variant;switch(a){case"strike-through":return b("React").createElement("path",{d:"M18.475 17H12v14h14.887l-.6-1H13V18h6.076l-.6-1zm3.5 0H36v14h-5.613l-.6-1H35V18H22.576l-.6-1zm5.513 15H19v1h9.09l-.602-1zm-7.81-13H14v10h11.685l-6.008-10zm3.5 0H34v10h-4.815l-6.008-10zm7.183 16.087l.86-.515L18.858 14l-.858.515 12.36 20.572z"});case"x":return b("React").createElement("path",{d:"M24.706 18l3.182 3.183a.5.5 0 0 1-.707.707L24 18.708l-3.182 3.182a.5.5 0 0 1-.707-.707L23.292 18l-3.182-3.182a.5.5 0 0 1 .707-.707L24 17.294l3.182-3.182a.5.5 0 0 1 .707.707zM28.999 17v1h6v12h-22V18h6v-1h-7v14h24V17h-7zm-10 15h10v1h-10z"});case"normal":default:return b("React").createElement("path",{d:"M12 17v14h24V17H12zm23 13H13V18h22v12zm-16.001 2h10v1h-10zm-4.986-13.005h20.018v10.009H14.013z"})}};e.exports=a}),null);
__d("ScreenSharingWebDriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHARE_SCREEN_BUTTON:"shareScreenButton",INSTALL_EXT_DIALOG:"install_extension_dialog"})}),null);
__d("RTCCallControlsScreenSharingButton.react",["cx","React","RTCCallControlsButton.react","RTCUIScreenIcon.react","ScreenSharingWebDriverIDs","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.className,d=a.disabled;d=d===void 0?!1:d;var e=a.sharing;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","disabled","sharing"]);var f=d?"strike-through":e?"x":"normal";return b("React").createElement(b("RTCCallControlsButton.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"semiopaque icon-48"),"data-testid":b("ScreenSharingWebDriverIDs").SHARE_SCREEN_BUTTON,disabled:d,highlighted:e},a),b("React").createElement(b("RTCUIScreenIcon.react"),{variant:f}))}e.exports=a}),null);
__d("RTCDialog.react",["fbt","LayerFadeOnHide","LayerTabIsolation","React","XUIDialog.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c,d=a.children,e=a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","label"]);return b("React").createElement(b("XUIDialog.react"),babelHelpers["extends"]({behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerTabIsolation:b("LayerTabIsolation")},hideOnEscape:!0,label:(c=e)!=null?c:g._("Real-time communication {child_label}",[g._param("child_label",e)]),shown:!0},a),d)};e.exports=a}),null);
__d("RTCDialogList.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement("ul",null,this.props.children)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("RTCDialogListItem.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("joinClasses")("_4gtz",this.props.className);return b("React").createElement("li",babelHelpers["extends"]({onClick:this.props.onClick},{className:a}),this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("RTCCallControlsScreenSharingDialog.react",["cx","fbt","React","RTCDialog.react","RTCDialogList.react","RTCDialogListItem.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){var c=a.cancelLabel,d=a.dialogWidth;d=d===void 0?350:d;var e=a.onDialogHide,f=a.onDialogToggle,g=a.onStopScreenSharingClick,i=a.onUpdateScreenSharingClick,j=a.shareDifferentWindowLabel;a=a.stopScreenSharingLabel;j=j||h._("Share a Different Window");a=a||h._("Stop Screen Sharing");c=c||h._("Cancel");return b("React").createElement(b("RTCDialog.react"),{className:"_1z6a",label:"Screen sharing call controls",onToggle:f,width:d},b("React").createElement(b("RTCDialogList.react"),null,b("React").createElement(b("RTCDialogListItem.react"),{onClick:i},j),b("React").createElement(b("RTCDialogListItem.react"),{className:"_1z6b",onClick:g},a),b("React").createElement(b("RTCDialogListItem.react"),{onClick:e},c)))}e.exports=a}),null);
__d("RTWebCollabClientFeatureGating",["FBRTCConfig","gkx"],(function(a,b,c,d,e,f){"use strict";a={showPreCallSetup:function(a){var c=b("FBRTCConfig").getMeetingID()!=null;return!a&&!c?!1:b("FBRTCConfig").isVCEndpointCall()},showPushToTalk:function(){return b("FBRTCConfig").isVCEndpointCall()||b("gkx")("816089")},showParticipantsRoster:function(){var a=b("FBRTCConfig").getMeetingID()!=null;return!a?!1:b("gkx")("721113")},showTheNewEndCallSurvey:function(){return!b("FBRTCConfig").isVCEndpointCall()?!1:b("gkx")("771085")}};e.exports=a}),null);
__d("RTCHotKeysConfig",["fbt","FBRTCConfig","RTWebCollabClientFeatureGating","keyMirror","objectValues"],(function(a,b,c,d,e,f,g){"use strict";var h=b("keyMirror")({CAMERA_CONTROL:null,END_CALL:null,FULL_SCREEN:null,PUSH_TO_TALK:null,SCREEN_SHARE:null,SETTINGS:null,TOGGLE_MUTE_AUDIO:null,TOGGLE_VIDEO:null}),i=(a={},a[h.CAMERA_CONTROL]={altKey:!0,key:"c",label:g._("Camera control")},a[h.END_CALL]={altKey:!0,key:"e",label:g._("End call")},a[h.FULL_SCREEN]={altKey:!0,key:"f",label:g._("Full screen")},a[h.PUSH_TO_TALK]={altKey:!1,key:"m",label:g._("Push to talk")},a[h.SCREEN_SHARE]={altKey:!0,key:"s",label:g._("Share screen")},a[h.SETTINGS]={altKey:!0,key:"p",label:g._("Settings")},a[h.TOGGLE_MUTE_AUDIO]={altKey:!0,key:"m",label:g._("Toggle mute")},a[h.TOGGLE_VIDEO]={altKey:!0,key:"v",label:g._("Toggle video")},a);c=function(){var a=i;b("FBRTCConfig").isVCEndpointCall()||delete a[h.CAMERA_CONTROL];b("RTWebCollabClientFeatureGating").showPushToTalk()||delete a[h.PUSH_TO_TALK];return b("objectValues")(a)};e.exports={RTCHotKey:h,config:i,getSupportedHotKeys:c}}),null);
__d("RTCHotKeys",["KeyEventController","RTCHotKeysConfig"],(function(a,b,c,d,e,f){__p&&__p();var g=b("RTCHotKeysConfig").config;function a(){"use strict";this.$1=[]}a.prototype.register=function(a,c,d){"use strict";var e={key:a,keyHandler:b("KeyEventController").registerKey(g[a].key,c,d!==void 0?d:function(b){return b.type==="keyup"?!1:b.altKey===g[a].altKey})};this.$1.push(e);return{remove:function(){return this.$2(e)}.bind(this)}};a.prototype.unregister=function(a){"use strict";var b=this.$1.find(function(b){return b.key===a});b&&this.$2(b)};a.prototype.$2=function(a){"use strict";a.keyHandler.remove(),this.$1.splice(this.$1.indexOf(a),1)};e.exports=new a()}),null);
__d("RTCInstallExtensionDialog.react",["fbt","Bootloader","CollabCallMessengerBrowserEventEnum","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","React","RTCCallStore","RTCChromeScreenSharingExtension","ScreenSharingWebDriverIDs","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MessengerDialogHeaderReact.re").component,j=b("MessengerDialogTitleReact.re").component,k=b("RTCChromeScreenSharingExtension").useWorkplaceExtension;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(){this.props.onToggle(!1)}.bind(this),this.$3=function(){this.$1(b("CollabCallMessengerBrowserEventEnum").SCREEN_SHARING_EXT_LINK),b("promiseDone")(this.props.onInstall(),function(){return this.$2()}.bind(this))}.bind(this),c}a.prototype.componentDidMount=function(){this.$1(b("CollabCallMessengerBrowserEventEnum").SCREEN_SHARING_EXT_DIALOG)};a.prototype.render=function(){var a=g._("Add Facebook Screen Sharing extension"),c=g._("To share your screen during video calls on Messenger, Facebook and Workplace, you'll need to add the Facebook Screen Sharing extension. The extension will not save images of your screen during your call or share your data with other apps or websites. You can also share your screen during your Facebook Live videos.");k()&&(a=g._("Add Workplace screen sharing extension"),c=g._("To share your screen during video calls on Workplace and Workplace Chat, add the Workplace Screen Sharing extension. It won't save images of your screen during calls or share your data with other apps or websites. You can also share your screen when you broadcast Workplace Live videos."));return b("React").createElement(b("MessengerDialog.react"),{layerHideOnBlur:!1,onToggle:this.props.onToggle,width:544},b("React").createElement(i,null,b("React").createElement(j,null,a)),b("React").createElement(b("MessengerDialogBody.react"),{"data-testid":b("ScreenSharingWebDriverIDs").INSTALL_EXT_DIALOG},b("React").createElement("div",null,c)),b("React").createElement(b("MessengerDialogFooter.react"),null,b("React").createElement(b("MessengerDialogCancelButton.react"),{onClick:this.$2}),b("React").createElement(b("MessengerDialogButton.react"),{action:"confirm",label:g._("Add extension"),onClick:this.$3,type:"primary",use:"default"})))};a.prototype.$1=function(a){b("Bootloader").loadModules(["CollabMessengerLogger"],function(c){var d=b("RTCCallStore").getState(),e=d.remoteUsers;d=d.callInfo;c.log(a,{peerID:e.first().FBID,callID:d.conferenceName})},"RTCInstallExtensionDialog.react")};e.exports=a}),null);
__d("RTCDialogBody.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").createElement("div",babelHelpers["extends"]({className:b("joinClasses")(d,"_zbh")},a),c)};e.exports=a}),null);
__d("RTCDialogHeader.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").createElement("header",babelHelpers["extends"]({className:b("joinClasses")(d,"_7xt")},a),c)};e.exports=a}),null);
__d("RTCDialogHeaderButton.react",["cx","AbstractButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"_4py8"),type:"button"},a))};e.exports=a}),null);
__d("RTCUnsupportedBrowserDialog.react",["cx","fbt","ix","FBRTCVersionDetection","Image.react","Layout.react","Link.react","React","RTCDialog.react","RTCDialogBody.react","RTCDialogHeader.react","RTCDialogHeaderButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$3=function(){this.props.onToggle(!1)}.bind(this),b}a.prototype.render=function(){return b("React").createElement(b("RTCDialog.react"),{label:"Screen sharing update browser",layerHideOnBlur:!1,onToggle:this.props.onToggle,width:640},this.$1(),this.$2())};a.prototype.$1=function(){var a=null;b("FBRTCVersionDetection").isChrome()?a=h._("Update browser to share your screen"):a=h._("Switch browsers to share your screen");return b("React").createElement(b("RTCDialogHeader.react"),null,b("React").createElement("h1",{className:"_10mm"},a),b("React").createElement(b("RTCDialogHeaderButton.react"),{label:h._("Cancel"),onClick:this.$3}))};a.prototype.$2=function(){var a=b("FBRTCVersionDetection").isChrome()?this.$4():this.$5();return b("React").createElement(b("RTCDialogBody.react"),null,b("React").createElement("div",null,b("React").createElement("p",{className:"_2gx8"},a),this.$6()))};a.prototype.$4=function(){return h._("Screen sharing doesn't work in the older version of Google Chrome you're using. To share your screen, please update Google Chrome.")};a.prototype.$5=function(){if(b("FBRTCVersionDetection").isFirefox())return h._("Screen sharing doesn't work in Mozilla Firefox yet. To share your screen, please open Facebook in Google Chrome.");else return h._("Screen sharing doesn't work in your browser yet. To share your screen, please open Facebook in Google Chrome.")};a.prototype.$6=function(){return b("React").createElement(b("Layout.react"),null,b("React").createElement(k,{style:{width:"100%",textAlign:"center"}},b("React").createElement(b("Link.react"),{href:"https://www.google.com/chrome/index.html",target:"_blank"},b("React").createElement(b("Image.react"),{alt:"Chrome",className:"_4_if",src:i("28180"),width:"64"}),b("React").createElement(b("XUIText.react"),{display:"block"},"Google Chrome"))))};e.exports=a}),null);
__d("RTCCallControlsToggleScreenSharingButton.react",["fbt","Promise","CollabRTCChromeScreenSharingExtension","React","RTCCallControlsScreenSharingButton.react","RTCCallControlsScreenSharingDialog.react","RTCChromeScreenSharingUtils","RTCConfig","RTCHotKeys","RTCHotKeysConfig","RTCInstallExtensionDialog.react","RTCScreenSharing","RTCUnsupportedBrowserDialog.react","RTCUtils","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","UserAgent","WorkplaceChatHelper","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RTCChromeScreenSharingUtils").getMediaRequestSourceAppId,j=b("RTCHotKeysConfig").RTCHotKey;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(){__p&&__p();b("RTWebUserActionLogger").logClick({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").SCREENSHARING,conferenceState:this.props.conferenceState,surface:b("RTWebLoggingSurface").CALL_CONTROLS});this.props.onClick!=null&&this.props.onClick();if(!b("RTCUtils").isScreenSharingSupported()){this.$3(b("React").createElement(b("RTCUnsupportedBrowserDialog.react"),{onToggle:function(){return this.$4()}.bind(this)}));return}if(this.props.stream!=null){this.$3(b("React").createElement(b("RTCCallControlsScreenSharingDialog.react"),{onDialogHide:function(){this.$4(),this.props.onDialogDismiss!=null&&this.props.onDialogDismiss()}.bind(this),onDialogToggle:this.$4,onStopScreenSharingClick:this.$5,onUpdateScreenSharingClick:this.$6}));this.props.onDialogShow!=null&&this.props.onDialogShow();return}this.$7()}.bind(this),this.$8=function(){this.$4();return this.props.onExtensionInstallStart().then(function(){this.props.onExtensionInstallComplete&&this.props.onExtensionInstallComplete(null),window.focus(),this.$7()}.bind(this))["catch"](function(a){this.props.onExtensionInstallComplete&&this.props.onExtensionInstallComplete(a),window.focus()}.bind(this))}.bind(this),this.$5=function(){var a=this.props.stream;if(a==null)return;this.$4();this.props.onShareStop!=null&&this.props.onShareStop(a);b("RTCScreenSharing").stop()}.bind(this),this.$6=function(){this.$4();var a=this.props.stream;if(a==null)return;this.props.onShareUpdateAttempt!=null&&this.props.onShareUpdateAttempt();this.$9().then(function(b){return this.props.onShareStreamUpdate(a,b)}.bind(this))["catch"](this.$10)}.bind(this),this.$10=function(a){this.$4();var c=a.message;switch(c){case b("CollabRTCChromeScreenSharingExtension").EXTENSION_NOT_FOUND:this.$3(b("React").createElement(b("RTCInstallExtensionDialog.react"),{onInstall:this.$8,onToggle:this.$4}));break;case b("CollabRTCChromeScreenSharingExtension").DIALOG_USER_CANCEL:break;case b("RTCScreenSharing").SCREEN_SHARING_NOT_SUPPORTED:this.$3(b("React").createElement(b("RTCUnsupportedBrowserDialog.react"),{onToggle:this.$4}));break}this.props.onShareError!=null&&this.props.onShareError(a)}.bind(this),this.$4=function(){var a=this.context;a!=null&&typeof a.dialogHide==="function"&&a.dialogHide()}.bind(this),c}a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").SCREENSHARING,conferenceState:this.props.conferenceState,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),this.$1=b("RTCHotKeys").register(j.SCREEN_SHARE,this.props.onClick?this.props.onClick:this.$2)};a.prototype.render=function(){var a=this.props.stream;return b("React").createElement(b("RTCCallControlsScreenSharingButton.react"),{disabled:this.props.disabled,onClick:this.$2,sharing:a!=null,title:a!=null?g._("Screen Sharing Options"):g._("Share Your Screen")})};a.prototype.$7=function(){this.props.onShareStartAttempt!=null&&this.props.onShareStartAttempt(),this.$4(),this.$9()["catch"](this.$10)};a.prototype.$9=function(){return b("UserAgent").isBrowser("Chrome")&&!b("WorkplaceChatHelper").isDesktopChatApp()&&!b("CollabRTCChromeScreenSharingExtension").isInstalled()?b("Promise").reject(new Error(b("CollabRTCChromeScreenSharingExtension").EXTENSION_NOT_FOUND)):b("RTCUtils").getUserScreenMedia({audio:!1,video:babelHelpers["extends"]({},b("RTCConfig").CollaborationCallQuality.screen_v2||b("RTCConfig").CollaborationCallQuality.screen,{mediaSource:"screen"})},i()).then(function(a){b("promiseDone")(k(a),this.$5);this.props.onShareStarted(a);return a}.bind(this))};a.prototype.$3=function(a){var b=this.context;b!=null&&typeof b.dialogShow==="function"&&b.dialogShow(a)};a.prototype.componentWillUnmount=function(){this.$4(),this.$1&&this.$1.remove()};a.defaultProps={disabled:!1};a.contextTypes={dialogHide:c.func,dialogShow:c.func};function k(a){return b("Promise").all(a.getVideoTracks().map(function(a){return new(b("Promise"))(function(b){return a.addEventListener("ended",b)})}))}e.exports=a}),null);
__d("RTCCallControlsToggleScreenSharingWithFunnelButton.react",["Promise","CollabRTCChromeScreenSharingExtension","FBRTCConfig","FBRTCConstants","FunnelLogger","React","RTCCallControlsToggleScreenSharingButton.react","RTCCallStore","RTCScreenSharing","UserAgentData","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("FBRTCConstants").SignalingProtocol,i="WEB_RTC_SCREEN_SHARING_FUNNEL",j=Object.freeze({START_IN_P2P:"p2p_call",START_IN_MW:"mw_call",START_IN_VC:"vc_call",BUTTON_DISABLED:"button_disabled",BUTTON_ENABLED:"button_enabled",BUTTON_MOUNTED:"button_mounted",BUTTON_CLICK:"button_click",DIALOG_SHOW:"dialog_show",DIALOG_CANCEL:"dialog_cancel",START_SHARING:"start_sharing",UPDATE_SHARING:"update_sharing",STOP_SHARING:"stop_sharing",STREAM_ENDED:"stream_ended",SCREEN_SUCCEEDED:"screen_succeeded",SCREEN_FAILED:"screen_failed",FAILED_REASON_NO_EXTENSION:"no_extension",FAILED_REASON_NOT_SUPPORTED:"not_supported",FAILED_REASON_NO_PERMISSION:"no_permission",FAILED_REASON_OTHER:"other_reason",EXTENSION_INSTALL_START:"extension_install_start",EXTENSION_INSTALL_SUCCEED:"extension_install_succeed",EXTENSION_INSTALL_FAIL:"extension_install_fail"});c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){l(j.BUTTON_CLICK),this.props.onClick!=null&&this.props.onClick()}.bind(this),this.$2=function(){l(j.DIALOG_CANCEL),this.props.onDialogDismiss!=null&&this.props.onDialogDismiss()}.bind(this),this.$3=function(){l(j.DIALOG_SHOW),this.props.onDialogShow!=null&&this.props.onDialogShow()}.bind(this),this.$5=function(){l(j.EXTENSION_INSTALL_START);return this.props.onExtensionInstallStart()}.bind(this),this.$4=function(a){a?m(j.EXTENSION_INSTALL_FAIL,a.toString()):l(j.EXTENSION_INSTALL_SUCCEED),this.props.onExtensionInstallComplete&&this.props.onExtensionInstallComplete(a)}.bind(this),this.$6=function(a){l(j.SCREEN_FAILED);switch(a.message){case b("CollabRTCChromeScreenSharingExtension").EXTENSION_NOT_FOUND:l(j.FAILED_REASON_NO_EXTENSION);break;case b("RTCScreenSharing").SCREEN_SHARING_NOT_SUPPORTED:l(j.FAILED_REASON_NOT_SUPPORTED);break;default:l(j.FAILED_REASON_OTHER);break}this.props.onShareError!=null&&this.props.onShareError(a)}.bind(this),this.$7=function(){l(j.START_SHARING),this.props.onShareStartAttempt!=null&&this.props.onShareStartAttempt()}.bind(this),this.$8=function(a){l(j.SCREEN_SUCCEEDED),b("promiseDone")(n(a),function(){b("FunnelLogger").appendAction(i,j.STREAM_ENDED)}),this.props.onShareStarted(a)}.bind(this),this.$9=function(a){l(j.STOP_SHARING),this.props.onShareStop(a)}.bind(this),this.$10=function(){this.props.onShareUpdateAttempt!=null&&this.props.onShareUpdateAttempt(),l(j.UPDATE_SHARING)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("RTCCallControlsToggleScreenSharingButton.react"),{conferenceState:this.props.conferenceState,isP2P:this.props.isP2P,onClick:this.$1,onDialogDismiss:this.$2,onDialogShow:this.$3,onExtensionInstallComplete:this.$4,onExtensionInstallStart:this.$5,onShareError:this.$6,onShareStartAttempt:this.$7,onShareStarted:this.$8,onShareStop:this.$9,onShareUpdateAttempt:this.$10,disabled:this.props.disabled,onShareStreamUpdate:this.props.onShareStreamUpdate,stream:this.props.stream})};a.prototype.componentDidMount=function(){k(),l(j.BUTTON_MOUNTED),l(this.props.disabled?j.BUTTON_DISABLED:j.BUTTON_ENABLED)};a.prototype.componentDidUpdate=function(a){a.disabled!==this.props.disabled&&l(this.props.disabled?j.BUTTON_DISABLED:j.BUTTON_ENABLED)};a.prototype.componentWillUnmount=function(){b("FunnelLogger").endFunnel(i)};function k(){__p&&__p();b("FunnelLogger").startFunnel(i);b("FunnelLogger").addFunnelTag(i,"bn:"+(b("UserAgentData").browserName||"unknown"));b("FunnelLogger").addFunnelTag(i,"os:"+(b("UserAgentData").platformName||"unknown"));b("FBRTCConfig").isVCEndpointCall()&&l(j.START_IN_VC);var a=b("RTCCallStore").getState();a=a.callInfo;switch(a.protocol){case h.P2P:l(j.START_IN_P2P);break;case h.MULTIWAY:l(j.START_IN_MW);break}}function l(a){b("FunnelLogger").appendAction(i,a)}function m(a,c){b("FunnelLogger").appendActionWithTag(i,a,c)}function n(a){return b("Promise").all(a.getVideoTracks().map(function(a){return new(b("Promise"))(function(b){return a.addEventListener("ended",b)})}))}e.exports=a}),null);
__d("FBRTCCallControlPopover.react",["AlignmentEnum","PositionEnum","React","RTCCallControlsAddGroupMembersButton.react","RTCCallControlsButton.react","RTCCallControlsToggleScreenSharingWithFunnelButton.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$2=function(){return this.props.referenceElement}.bind(this),b}a.prototype.render=function(){if(!this.props.referenceElement)return null;return!this.props.title&&!this.props.body?null:b("React").createElement(b("XUIContextualDialog.react"),babelHelpers["extends"]({label:this.props.label},this.$1()),this.props.title?b("React").createElement(b("XUIContextualDialogTitle.react"),{className:this.props.className},this.props.title):null,this.props.body?b("React").createElement(b("XUIContextualDialogBody.react"),{className:this.props.className},this.props.body):null)};a.prototype.$1=function(){var a={alignment:b("AlignmentEnum").left,contextRef:this.$2,dialogRole:"dialog",hasActionableContext:!1,hideOnBlur:this.props.hideOnBlur,hideOnEscape:!0,hoverContextRef:this.$2,position:b("PositionEnum").above,shown:!1,width:this.props.width};return a};e.exports=a}),null);
__d("FBRTCCallTimer.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={secondsElapsed:Math.floor(Date.now()/1e3)-this.props.start},this.$2=function(){this.setState({secondsElapsed:Math.floor(Date.now()/1e3)-this.props.start})}.bind(this),b}a.prototype.componentDidMount=function(){this.$1=window.setInterval(this.$2,1e3)};a.prototype.componentWillUnmount=function(){window.clearInterval(this.$1)};a.prototype.render=function(){var a=this.state.secondsElapsed;return b("React").createElement("span",null,a>=3600?("0"+Math.floor(a/3600)).slice(-2)+":":"",("0"+Math.floor(a%3600/60)).slice(-2),":",("0"+a%60).slice(-2))};e.exports=a}),null);
__d("FBRTCPoorNetworkNotification.react",["ix","cx","fbt","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){return a.shown?b("React").createElement("div",{className:"_7c6h _7c68"},b("React").createElement("div",{className:"_7c5p"},b("React").createElement(b("Image.react"),{className:"_7c69",src:g("478329")}),b("React").createElement("span",{className:"_7c6a"},i._("Poor connection. Check your network connection or try relocating to improve audio quality."),b("React").createElement("a",{className:"_7c6b",href:"#",onClick:a.onClick},i._("Dismiss"))))):null};e.exports=a}),null);
__d("FBRTCPoorNetworkTooltip.react",["ix","cx","fbt","Image.react","React","RTCCallControlsButton.react","XUIAmbientNUX.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){return a.referenceElement!=null?b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"center",className:"_7c68",contextRef:function(){return a.referenceElement},noCloseButton:!0,position:"above",shown:a.shown,useDarkMode:!0,width:"auto"},b("React").createElement(b("Image.react"),{className:"_7c69",src:g("478327")}),b("React").createElement("span",{className:"_7c6a"},i._("Poor connection. Try turning off your video to improve audio quality."),b("React").createElement("a",{className:"layer_close_elem _7c6b",href:"#",onClick:a.onClick},i._("Dismiss")))):null};e.exports=a}),null);
__d("FBRTCVideo.react",["cx","FBRTCStreamWrapper","FBRTCUtils","React","ReactDOM","joinClasses","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=b("React").Component;f=babelHelpers.inherits(a,d);h=f&&f.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={currentStream:null},this.streamListener=null,b}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a=a.stream;a!==this.props.stream&&(this.streamListener&&this.streamListener.remove(),this.streamListener=a?a.addListener("streamStarted",function(){return this.$1()}.bind(this)):null)};a.prototype.shouldComponentUpdate=function(a){return!b("shallowEqual")(this.props,a)||this.$2(a)};a.prototype.$2=function(a){a=a.stream;a=a?a.getStream():null;return a!==this.state.currentStream};a.prototype.render=function(){return b("React").createElement("video",{autoPlay:!0,className:b("joinClasses")(this.props.className,"_1yvx"+(this.props.mirrorVideo?" _6olb":"")),"data-testid":this.props["data-testid"],muted:this.props.muted,onContextMenu:function(a){return a.preventDefault()},onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart})};a.prototype.componentDidMount=function(){this.$3(),this.$1()};a.prototype.componentDidUpdate=function(a){(this.$2(a)||a.mediaStream!==this.props.mediaStream)&&this.$3(),a.audioSinkID!==this.props.audioSinkID&&this.$1()};a.prototype.$3=function(){var a=this.props,c=a.stream;a=a.mediaStream;var d=b("ReactDOM").findDOMNode(this);d&&(c?(c.attachToVideoTag(d),this.setState({currentStream:c.getStream()})):a&&b("FBRTCUtils").attachMediaStream(d,a))};a.prototype.$1=function(){var a=this.props.audioSinkID,c=b("ReactDOM").findDOMNode(this);a&&c&&typeof c.setSinkId==="function"&&c.setSinkId(a)};a.defaultProps={muted:!1};a.propTypes={audioSinkID:c.string,className:c.string,mediaStream:c.any,muted:c.bool,stream:c.instanceOf(b("FBRTCStreamWrapper"))};e.exports=a}),null);
__d("RTCUIXIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 48 48"},b("React").createElement("path",{d:"M24 25.4l-4.9 4.9c-.4 .4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4L22.6 24L17.6 19.1c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0L24 22.6l4.9-4.9c.4-.4 1-.4 1.4 0c.4 .4 .4 1 0 1.4L25.4 24l4.9 4.9c.4 .4 .4 1 0 1.4c-.4 .4-1 .4-1.4 0L24 25.4z"})))};e.exports=a}),null);
__d("RTCCloseChatPanelButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCCoExperienceActions","RTCUIXIcon.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";function i(){b("RTCCoExperienceActions").toggleChatWindow()}a=function(){return b("React").createElement(b("RTCCallControlsButton.react"),{className:"icon-30 _31j4","data-testid":b("VideoCallWebDriverIDs").CLOSE_CHAT_BUTTON,onClick:function(){return i()},title:h._("Close Chat")},b("React").createElement(b("RTCUIXIcon.react"),null))};e.exports=a}),null);
__d("RTCChatPanel.react",["cx","JSResource","MercurySyncEnvironment","MessengerReasonDialogContainerReact.bs","MessengerState.bs","React","RTCCloseChatPanelButton.react","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","WorkModeConfig","XUISpinner.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MessengerReasonDialogContainerReact.bs").jsComponent,j=b("lazyLoadComponent")(b("JSResource")("MessengerDetailView.react").__setRef("RTCChatPanel.react")),k="chat_panel",l=!1;function m(){l||(b("MercurySyncEnvironment").setUp(),l=!0)}var n=function(a){var c=!b("WorkModeConfig").is_work_user;return b("React").createElement("div",null,b("React").createElement(b("MessengerState.bs").jsComponent,{fbid:a.fbId},function(d){return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("XUISpinner.react"),null)},b("React").createElement(j,{activeThreadID:a.threadID,deliveryReceipts:b("MessengerState.bs").deliveryReceipts(d),hostProps:{renderMinimal:!0,hideActions:!0,messageSentCallback:function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").CHAT_PANEL_MESSAGE,surface:b("RTWebLoggingSurface").CHAT_PANEL})}},isWorkUser:c,messengerState:d,readReceipts:b("MessengerState.bs").readReceiptsPerThread(d),viewer:a.fbId}))}),b("React").createElement(i,null))};h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").startTimer(k)};a.prototype.componentWillUnmount=function(){b("RTWebUserActionLogger").logStopTimer({timerName:k,event:{component:b("RTWebLoggingComponent").TOGGLE_CHAT,surface:b("RTWebLoggingSurface").CHAT_PANEL}})};a.prototype.render=function(){m();return b("React").createElement("div",null,b("React").createElement("div",{className:"_1a7p"},this.props.title,b("React").createElement(b("RTCCloseChatPanelButton.react"),null)),b("React").createElement("div",{className:"_1a7y"},b("React").createElement(n,this.props)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("RTCChatViewWrapper.react",["cx","fbt","InnerPane.react","React","RTCChatPanel.react","SplitPane.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=a.chatWindowVisible?.3:0;return b("React").createElement("div",{className:"_2txj"},b("React").createElement(b("SplitPane.react"),{className:"_6glo"+(a.chatWindowVisible?"":" _6glp"),heightPolicy:"full",proportion:c,widthPolicy:"full"},b("React").createElement(b("InnerPane.react"),{className:"_1a7z"},a.chatWindowVisible?b("React").createElement(b("RTCChatPanel.react"),{fbId:a.callerID,threadID:a.threadID,title:h._("Chat")}):null),b("React").createElement(b("InnerPane.react"),null,b("React").createElement("div",{className:"_2tz1"},a.children))))}e.exports=a}),null);
__d("RTCAppSpinner.react",["cx","MessengerSpinner.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=a.className;return b("React").createElement(b("MessengerSpinner.react"),{className:b("joinClasses")("_4ywx",a),color:"blue",size:32})};e.exports=a}),null);
__d("RTCUIM4VideoCameraIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function a(c){var d=c.strikeThrough;d=d===void 0?!1:d;c=babelHelpers.objectWithoutPropertiesLoose(c,["strikeThrough"]);return b("React").createElement(b("RTCSVGIcon.react"),c,b("React").createElement("svg",{viewBox:"0 0 48 48"},d?b("React").createElement(a.StrikethroughPath,{transform:"translate(10,12)"}):b("React").createElement(a.NormalPath,{transform:"translate(13,15)"})))};a.StrikethroughPath=function(a){return b("React").createElement("path",babelHelpers["extends"]({d:"M3.52219159,16.73575 C3.00847773,17.24975 2.008035,17.00175 2.008035,16.01175 L2.008035,6.00725 C2.008035,3.79725 3.79803794,2.00525 6.00680761,2.00525 L16.1191748,2.00575 C16.9062364,2.00575 17.3005168,2.95775 16.7438269,3.51425 L3.52219159,16.73575 Z M24.1966755,1.70725 L21.589128,4.31625 C21.2143368,4.69125 21.0039539,5.19925 21.0039539,5.72875 L21.0019551,16.01175 C21.0019551,18.22175 19.2149504,20.00675 17.0061808,20.00675 L6.73590149,20.00675 C6.20569683,20.00675 5.69698019,20.21725 5.32218896,20.59225 L2.20642449,23.70925 C1.81614189,24.10025 1.18249484,24.10025 0.792711954,23.70925 C0.402429349,23.31875 0.402429349,22.68575 0.792711954,22.29525 L22.782963,0.29325 C23.1727459,-0.09775 23.8063929,-0.09775 24.1966755,0.29325 C24.5869581,0.68375 24.5869581,1.31725 24.1966755,1.70725 Z M27.5533058,16.41125 L23.8308793,14.54725 C23.3226624,14.29275 23.0018411,13.77225 23.0018411,13.20375 L23.0018411,8.81625 C23.0018411,8.24725 23.3226624,7.72725 23.8308793,7.47275 L27.5533058,5.60875 C28.2179356,5.27575 29,5.75975 29,6.50425 L29,15.51575 C29,16.25975 28.2179356,16.74425 27.5533058,16.41125 Z",fill:"#000000",fillRule:"evenodd"},a))};a.NormalPath=function(a){return b("React").createElement("path",babelHelpers["extends"]({d:"M13.3333333 16H3.55555556C1.592 16 0 14.408 0 12.4444444V3.55555556C0 1.592 1.592 0 3.55555556 0h9.77777774c1.9635556 0 3.5555556 1.592 3.5555556 3.55555556v8.88888884C16.8888889 14.408 15.2968889 16 13.3333333 16m9.38-3.2004444l-3.3097777-1.6564445c-.4515556-.2257778-.7368889-.688-.7368889-1.19377777V6.05155556c0-.50533334.2853333-.968.7368889-1.19377778l3.3097777-1.65644445C23.3048889 2.90577778 24 3.336 24 3.99733333v8.00622227c0 .6617777-.6951111 1.0915555-1.2866667.796",fill:"#ffffff",fillRule:"evenodd"},a))};e.exports=a}),null);
__d("RTCUIM4VideoCameraInlineIcon.react",["React","RTCSVGIcon.react","RTCUIM4VideoCameraIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 24 24"},b("React").createElement(b("RTCUIM4VideoCameraIcon.react").NormalPath,null)))};e.exports=a}),null);
__d("FBRTCEnterRoomLinkButton.react",["cx","fbt","AbstractButton.react","FBRTCSupport","React","RTCAppSpinner.react","RTCUIM4VideoCameraInlineIcon.react","RTCUtils","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){var c=babelHelpers["extends"]({},a);a=c.errorMessage;var d=c.isLoading,e=c.isRejoin;if(d===!0)return b("React").createElement("div",{className:"_6qy3"},b("React").createElement(b("RTCAppSpinner.react"),null));d=e===!0?h._("Join Again"):h._("Join Video Chat");return b("React").createElement("div",{className:"_6qy3"},a===null?null:b("React").createElement("div",{className:"_6z0x"},a),b("React").createElement(b("AbstractButton.react"),{className:b("joinClasses")(c.className,"_6qy2"),image:b("React").createElement(b("RTCUIM4VideoCameraInlineIcon.react"),{className:"_6_r- _6_r_"}),label:d,onClick:function(){b("FBRTCSupport").isMobileDevice()&&b("RTCUtils").requestFullScreen(),c.onClick&&c.onClick()}}))};e.exports=a}),null);
__d("FBRTCGroupCallFluidGridView.react",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={landscape:!0},this.$1=function(){this.setState({landscape:window.innerHeight<=window.innerWidth})}.bind(this),b}a.prototype.componentDidMount=function(){this.$1(),window.addEventListener("resize",this.$1)};a.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.$1)};a.prototype.render=function(){return b("React").createElement("div",{className:"_2rid"+(this.state.landscape?"":" column")+(this.props.hidden?" hide":"")},b("React").createElement(i,{landscape:this.state.landscape,remoteUsers:this.props.remoteUsers,renderUser:this.props.renderUser}))};var i=function a(c){var d=c.remoteUsers,e=c.landscape,f=c.renderUser;return d.size===1?f(d.first()):j(d).map(function(c,d){return b("React").createElement("div",{className:"_2rip"+(e?" column":"")+(c.size===3?" big":""),key:d},b("React").createElement(a,{landscape:!e,remoteUsers:c,renderUser:f}))})};function j(a){if(a.size===2)return a.map(function(a){return b("immutable").List([a])});else if(a.size<7||a.size%2===0)return b("immutable").Range(0,a.size,2).map(function(b){return a.slice(b,b+2)}).toList();else return b("immutable").Range(0,a.size-3,2).map(function(b){return a.slice(b,b+2)}).toList().push(a.takeLast(3))}e.exports=a}),null);
__d("FBRTCMobileDominantSpeakerView.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",null,b("React").createElement("div",{className:"_71gx"},a.renderUser(a.dominantSpeaker)),b("React").createElement("div",{className:"_71gy"},a.renderUser(a.localUser)))}e.exports=a}),null);
__d("RTWebMWebUtils",["CurrentUser","RTCConferenceState"],(function(a,b,c,d,e,f){"use strict";a={isLocalUser:function(a){return a.FBID===b("CurrentUser").getID()},isNewCall:function(a){return a===b("RTCConferenceState").NEW||a===b("RTCConferenceState").CONNECTING}};e.exports=a}),null);
__d("FBRTCEndCallWarningOverlay.react",["cx","fbt","FBRTCParticipantCallState","React","RTCConferenceState","memoizeLastByArgs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=15e3,k={areAllParticipantsGuests:!1,display:{visibility:"hidden"}};c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state=k,this.$3=b("memoizeLastByArgs")(function(a,c){return a.isGuestUser&&c.every(function(a){var c;return((c=a.participantState)==null?void 0:c.state)!==b("FBRTCParticipantCallState").CONNECTED||a.isGuestUser})}),this.$4=function(){this.setState({display:{visibility:"shown"}})}.bind(this),c}a.prototype.render=function(){return this.state.display.visibility!=="shown"?null:b("React").createElement("div",{className:"_7czx"},b("React").createElement("h2",null,h._("You'll need to log in using Messenger to continue this video chat")),b("React").createElement("p",null,h._("Call will end soon")))};a.prototype.componentDidMount=function(){this.$1()};a.prototype.componentDidUpdate=function(a){this.$1(a)};a.prototype.componentWillUnmount=function(){this.$2()};a.prototype.$1=function(a){__p&&__p();var c=this.props,d=c.callInfo,e=c.localUser;c=c.remoteUsers;e=this.$3(e,c);if(e===this.state.areAllParticipantsGuests&&d.conferenceState===(a==null?void 0:a.callInfo.conferenceState))return;if(e)if(d.conferenceState===b("RTCConferenceState").NEW||d.conferenceState===b("RTCConferenceState").CONNECTING){if(this.state.display.visibility==="will_show")return;this.setState({areAllParticipantsGuests:!0,display:{visibility:"will_show",timer:window.setTimeout(this.$4,j)}})}else this.$2(),this.setState({areAllParticipantsGuests:!0,display:{visibility:"shown"}});else this.$2(),this.setState({areAllParticipantsGuests:!1,display:{visibility:"hidden"}})};a.prototype.$2=function(){this.state.display.timer!==void 0&&window.clearTimeout(this.state.display.timer)};e.exports=a}),null);
__d("FBRTCEndCallWarningOverlayContainer.react",["FBRTCEndCallWarningOverlay.react","FluxContainer","React","RTCCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("RTCCallStore")]};a.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo,d=a.localUser;a=a.remoteUsers;return{callInfo:c,localUser:d,remoteUsers:a}};a.prototype.render=function(){return b("React").createElement(b("FBRTCEndCallWarningOverlay.react"),this.state)};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("RTCMediaStreamReadyContainer.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={active:!1},this.$2=function(){__p&&__p();var a=this.props.mediaStream;if(!a)return;if("active"in a){var b=a.active;this.setState({active:b});b||(this.$1=window.setTimeout(this.$2,100))}else{b=a.getVideoTracks();if(b.some(function(a){return a.readyState==="live"}))this.setState({active:!0});else for(var a=b,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.addEventListener("started",this.$3)}}}.bind(this),this.$3=function(){__p&&__p();var a=this.props.mediaStream;if(!a)return;this.setState({active:!0});for(var a=a.getVideoTracks(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.removeEventListener("started",this.$3)}}.bind(this),b}a.prototype.render=function(){return this.props.children(this.state.active)};a.prototype.componentDidMount=function(){this.$2()};a.prototype.componentDidUpdate=function(a,b){this.props.mediaStream!==a.mediaStream&&(this.setState({active:!1}),window.clearTimeout(this.$1),this.$2())};a.prototype.componentWillUnmount=function(){this.setState({active:!1}),window.clearTimeout(this.$1)};e.exports=a}),null);
__d("RTCSVGIconDropShadowFilter.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;var h=0;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1="filter:blur."+h+++"."+Date.now().toString(24),b}a.prototype.render=function(){var a=this.props,c=a.blur,d=a.x;a=a.y;var e=Math.ceil(c*3*Math.sqrt(2*Math.PI)/8);return b("React").createElement("filter",{id:this.getID(),height:this.props.height+e*2,width:this.props.width+e*2,x:d-e,y:a-e},b("React").createElement("feGaussianBlur",{"in":"SourceAlpha",result:"blur",stdDeviation:c}),b("React").createElement("feOffset",{dx:d,dy:a,"in":"blur",result:"offsetBlur"}),b("React").createElement("feFlood",{floodColor:this.props.color,floodOpacity:this.props.opacity}),b("React").createElement("feComposite",{in2:"offsetBlur",operator:"in",result:"shadow"}),b("React").createElement("feMorphology",{operator:"dilate",radius:"1","in":"SourceAlpha",result:"outline"}),b("React").createElement("feFlood",{floodColor:"#000",floodOpacity:.1}),b("React").createElement("feComposite",{in2:"outline",operator:"in",result:"stroke"}),b("React").createElement("feMerge",null,b("React").createElement("feMergeNode",{"in":"shadow"}),b("React").createElement("feMergeNode",{"in":"stroke"}),b("React").createElement("feMergeNode",{"in":"SourceGraphic"})))};a.prototype.getID=function(){return this.props.id||this.$1};a.prototype.getURL=function(){return"url(#"+this.getID()+")"};a.defaultProps={blur:2,color:"#000",opacity:.2,x:0,y:1};e.exports=a}),null);
__d("RTCUIM4MicrophoneIcon.react",["cx","React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1="",this.$2=function(a){a&&(this.$1=a.getURL(),this.forceUpdate())}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.strikeThrough;c=c===void 0?!1:c;var d=a.fill;d=d===void 0?!1:d;var e=a.shadow;e=e===void 0?!1:e;a=a.className;return b("React").createElement(b("RTCSVGIcon.react"),{className:b("joinClasses")(a,"_7968")},b("React").createElement("svg",{viewBox:"0 0 48 48"},e?b("React").createElement(b("React").Fragment,null,b("React").createElement("defs",null,b("React").createElement(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})),b("React").createElement("g",{filter:this.$1},b("React").createElement(i,{fill:d,strikeThrough:c}))):b("React").createElement(i,{fill:d,strikeThrough:c})))};var i=function(a){if(a.strikeThrough)return b("React").createElement("path",{d:"M14.0098327,28.0001562 L22.0107909,28.0001562 C22.5632535,28.0001562 23.0112232,28.4478973 23.0112232,29.0000781 C23.0112232,29.5522589 22.5632535,30 22.0107909,30 L14.0098327,30 C13.4573701,30 13.0094004,29.5522589 13.0094004,29.0000781 C13.0094004,28.4478973 13.4573701,28.0001562 14.0098327,28.0001562 M9.00917125,17.5022253 C9.00917125,16.9500445 9.45714092,16.5023034 10.0091036,16.5023034 C10.5615661,16.5023034 11.0090358,16.9500445 11.0090358,17.5022253 C11.0090358,18.2512922 11.1275278,18.9728751 11.346013,19.6494839 C11.4595053,20.0017802 11.3620119,20.3875572 11.1000297,20.6499055 C10.5795649,21.1706045 9.67562613,20.9747177 9.44764157,20.2751222 C9.16366079,19.4016272 9.00917125,18.4701657 9.00917125,17.5022253 M23.0112232,17.5022253 C23.0112232,20.2631291 20.7718748,22.5013352 18.0100618,22.5013352 C17.2881107,22.5013352 16.6031571,22.3449256 15.984699,22.0670862 C15.7147172,21.9461561 15.3987386,22.0066212 15.1897528,22.2155004 L14.6942863,22.7112138 C14.3908069,23.0145385 14.4578023,23.5347377 14.8397765,23.7316239 C15.7912121,24.2213408 16.8661393,24.501179 18.0100618,24.501179 C21.8768,24.501179 25.0115878,21.3674907 25.0115878,17.5022253 L25.0110878,17.5022253 C25.0110878,16.9500445 25.4585575,16.5023034 26.0115201,16.5023034 C26.5634827,16.5023034 27.0114523,16.9500445 27.0114523,17.5022253 C27.0114523,22.4718522 22.9812252,26.5005231 18.0100618,26.5005231 C16.2806789,26.5005231 14.6712879,26.0053094 13.3023806,25.1568 C12.9194065,24.9194372 12.42494,24.9789028 12.1064615,25.2972188 L7.7072594,29.6946765 C7.31678584,30.0849509 6.68332873,30.0849509 6.29285517,29.6946765 C5.90238161,29.3039024 5.90238161,28.6717679 6.29285517,28.2809938 L28.2928656,6.29270578 C28.6833391,5.90243141 29.3167963,5.90243141 29.7067699,6.29270578 C30.0977434,6.68298015 30.0977434,7.31561441 29.7067699,7.70638849 L23.5971835,13.8128582 C23.2217089,14.1881412 23.0112232,14.6963474 23.0112232,15.2270406 L23.0112232,17.5022253 Z M22.2895221,9.46592126 L13.9005901,17.8510736 C13.5681126,18.1828818 13.000151,17.9475178 13.001151,17.4782891 L13.0091504,11.0035323 C13.0091504,8.24262848 15.2484988,6.00442244 18.0098118,6.00442244 C19.9141829,6.00442244 21.5680709,7.06930681 22.4120138,8.6349017 C22.5595038,8.90774396 22.5085072,9.2470478 22.2895221,9.46592126 Z",fill:a.fill?"#FFFFFF":"#000000",fillRule:"evenodd"});else return b("React").createElement("path",{d:"M14,28 L22,28 C22.552,28 23,28.448 23,29 C23,29.552 22.552,30 22,30 L14,30 C13.448,30 13,29.552 13,29 C13,28.448 13.448,28 14,28 M18,22.5 C15.239,22.5 13,20.2615 13,17.5 L13,11 C13,8.2385 15.239,6 18,6 C20.761,6 23,8.2385 23,11 L23,17.5 C23,20.2615 20.761,22.5 18,22.5 M18,26.5 C13.0295,26.5 9,22.4705 9,17.5 C9,16.948 9.448,16.5 10,16.5 C10.552,16.5 11,16.948 11,17.5 C11,21.366 14.134,24.5 18,24.5 C21.866,24.5 25.0005,21.366 25.0005,17.5 L25,17.5 C25,16.948 25.448,16.5 26,16.5 C26.552,16.5 27,16.948 27,17.5 C27,22.4705 22.9705,26.5 18,26.5",fill:"#FFFFFF",fillRule:"evenodd"})};e.exports=a}),null);
__d("RTWebRTCUserUtils",["FBRTCParticipantCallState","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getRemoteUsers:function(a){return a!=null?a:b("immutable").List()},getAllConnectedUsers:function(a){return a!=null?a.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED}):null},combineLocalAndRemoteUsers:function(a,c){c=c!=null?b("immutable").List([a]).concat(c):b("immutable").List([a]);return c},isSelfVideoMuted:function(a){var b=a.streams.first();return!(b&&!a.areAllTracksMuted(b.getVideoTracks()))}};e.exports=a}),null);
__d("RTWebMobileUserStream.react",["cx","FBRTCEndCallWarningOverlayContainer.react","FBRTCVideo.react","Image.react","React","RTCConferenceState","RTCIncallAudio.react","RTCMediaStreamReadyContainer.react","RTCUIM4MicrophoneIcon.react","RTWebMWebUtils","RTWebRTCUserUtils","RTWebStrings","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c=b("RTWebRTCUserUtils").isSelfVideoMuted(a.user);return b("React").createElement("div",{className:"_6npb"},c?b("React").createElement(m,{conferenceState:a.conferenceState,isP2P:a.isP2P,rtcUsers:a.rtcUsers,user:a.user}):b("React").createElement(l,{conferenceState:a.conferenceState,isP2P:a.isP2P,rtcUsers:a.rtcUsers,user:a.user}))}function h(a){var c=a.user,d=a.conferenceState;a=a.rtcUsers;d=b("RTWebMWebUtils").isNewCall(d)||a.size<=1;return b("React").createElement("div",{className:"_6nps"+(b("RTWebMWebUtils").isLocalUser(c)&&!d&&c.isAudioMuted()?" _6np1":"")},b("React").createElement(b("RTCUIM4MicrophoneIcon.react"),{fill:!0,shadow:!0,strikeThrough:!0}))}function i(a,c){return b("RTWebMWebUtils").isLocalUser(c)&&c.isGuestUser?b("React").createElement(b("FBRTCEndCallWarningOverlayContainer.react"),null):b("React").createElement("div",{className:"_6ov3"+(a?"":" hide")},b("RTWebStrings").waitingForOthers)}function j(a,c,d){return b("React").createElement("div",{className:"_7ciq"},b("React").createElement(b("Image.react"),{alt:b("RTWebStrings").profilePictureAlt,className:"_6np9",src:c.profilePictureUrl}),b("React").createElement("div",{className:"_7cir"},c.userName),b("React").createElement("div",{className:"_6npa"},k(d)))}function k(a){switch(a){case b("RTCConferenceState").NEW:return b("RTWebStrings").connecting;case b("RTCConferenceState").CONNECTING:return b("RTWebStrings").ringing;default:return null}}function l(a){var c=a.user,d=a.conferenceState,e=a.rtcUsers;a=a.isP2P;var f=c.streams.first(),g=b("RTWebMWebUtils").isNewCall(d)&&e.size<=1;a=a&&b("RTWebMWebUtils").isNewCall(d)?j(c,e.first(),d):i(g,c);return b("React").createElement("div",{className:"_6np2"},a,b("React").createElement(b("RTCMediaStreamReadyContainer.react"),{mediaStream:f},function(a){return b("React").createElement("div",{className:"_6np3"+(a?" active":"")+" _6np6"+(g?" _6np7":"")},b("React").createElement(b("FBRTCVideo.react"),{mediaStream:f,muted:b("RTWebMWebUtils").isLocalUser(c)}))}),b("React").createElement(h,{conferenceState:d,rtcUsers:e,user:c}))}function m(a){var c=a.user,d=a.conferenceState;a=a.rtcUsers;var e=c.streams.first();return b("React").createElement("div",{className:"_6np2"},b("React").createElement(b("Image.react"),{className:"_6np8",src:c.profilePictureUrl}),b("React").createElement(b("Image.react"),{alt:b("RTWebStrings").profilePictureAlt,className:"_6np9",src:c.profilePictureUrl}),b("React").createElement("p",{className:"_6npa"},b("RTWebMWebUtils").isLocalUser(c)?b("RTWebStrings").viewerVideoOff:b("RTWebStrings").userVideoOff(c.userShortName)),b("RTWebMWebUtils").isLocalUser(c)?null:b("React").createElement(b("RTCIncallAudio.react"),{mediaStream:e}),b("React").createElement(h,{conferenceState:d,rtcUsers:a,user:c}))}e.exports=a}),null);
__d("FBRTCMobileBrowserInCallView.react",["cx","FBRTCConstants","FBRTCGroupCallFluidGridView.react","FBRTCGroupCallStore","FBRTCMobileDominantSpeakerView.react","FluxContainer","React","RTCCallActions","RTCCallStore","RTCConferenceState","RTCMWProtocolHandler","RTWebMobileUserStream.react","RTWebMWebUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBRTCConstants").GroupVideoViewLayout,j=b("FBRTCConstants").SignalingProtocol;a=b("React").PureComponent;c=babelHelpers.inherits(k,a);h=c&&c.prototype;k.getStores=function(){return[b("FBRTCGroupCallStore")]};k.calculateState=function(){var a=b("FBRTCGroupCallStore").getState(),c=a.dominantSpeakerFBID;a=a.pinnedSpeakerFBID;return{dominantSpeakerFBID:c,pinnedSpeakerFBID:a}};function k(a,c){h.constructor.call(this,a),this.state=babelHelpers["extends"]({},k.calculateState()),this.isVideoMutedByLocalUser=!1,this.$2=function(){switch(document.visibilityState){case"hidden":this.isVideoMutedByLocalUser=this.props.localUser.isVideoMuted();b("RTCCallActions").toggleMuteVideo(!1);break;case"visible":this.isVideoMutedByLocalUser||b("RTCCallActions").toggleMuteVideo(!0)}}.bind(this),this.$3=function(a){a&&(this.incallView=a)}.bind(this),document.body&&(document.body.style.overflow="hidden")}k.prototype.componentDidMount=function(){this.incallView&&this.incallView.addEventListener("touchstart",this.$1),document.addEventListener("visibilitychange",this.$2)};k.prototype.componentDidUpdate=function(a){if(a.conferenceState!==this.props.conferenceState&&this.props.conferenceState===b("RTCConferenceState").CONNECTED){a=b("RTCCallStore").getState();a=a.callInfo;var c=b("RTCCallStore").getConnection(j.MULTIWAY);c&&b("RTCMWProtocolHandler").subscription(a.conferenceName,a.serverInfoData,c.getRemoteStreams(),i.DOMINANT_SPEAKER,null)}};k.prototype.componentWillUnmount=function(){this.incallView&&this.incallView.removeEventListener("touchstart",this.$1),document.removeEventListener("visibilitychange",this.$2)};k.prototype.$1=function(a){a.touches.length>1&&a.preventDefault()};k.prototype.render=function(){__p&&__p();var a=this.props,c=a.isP2P,d=a.rtcUsers,e=a.layout,f=a.conferenceState;a=a.localUser;var g=m(c,this.state.pinnedSpeakerFBID,this.state.dominantSpeakerFBID,d);if(c&&b("RTWebMWebUtils").isNewCall(f))return b("React").createElement(b("RTWebMobileUserStream.react"),{conferenceState:f,isP2P:c,rtcUsers:d,user:a});else if(l(c,e,d,g))return b("React").createElement(b("FBRTCMobileDominantSpeakerView.react"),{dominantSpeaker:g,localUser:a,renderUser:function(a){return b("React").createElement(b("RTWebMobileUserStream.react"),{conferenceState:f,isP2P:c,rtcUsers:d,user:a})}});else return b("React").createElement("div",{className:"_6npc",ref:this.$3},b("React").createElement(b("FBRTCGroupCallFluidGridView.react"),{hidden:!1,remoteUsers:d,renderUser:function(a){return b("React").createElement(b("RTWebMobileUserStream.react"),{conferenceState:f,isP2P:c,rtcUsers:d,user:a})}}))};function l(a,b,c,d){return a||d&&b===i.DOMINANT_SPEAKER}function m(a,b,c,d){var e=(b=b)!=null?b:c;return a?d.first():d.find(function(a){return a.FBID===e})}e.exports=b("FluxContainer").create(k)}),null);
__d("RTCAnonGuestPostCallMessengerUpsellFooter.react",["cx","fbt","ix","AbstractButton.react","Image.react","MessengerChatLinksFunnelLogger","React","URI","XRegViewController"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(){return b("React").createElement("div",{className:"_7hy3"},b("React").createElement("div",{className:"_7hy4"},b("React").createElement("div",{className:"_7hy5"},b("React").createElement("div",{className:"_7hy6"},h._("Be together, whenever.")),b("React").createElement("div",{className:"_7hy7"},h._("Messenger is a simple way to text, chat with video and plan things all in one place.")),b("React").createElement(b("AbstractButton.react"),{className:"_7hy8",label:h._("Create Account"),onClick:function(){b("MessengerChatLinksFunnelLogger").appendAction("anon_clicked_create_account");var a=new(b("URI"))(document.URL);a=b("XRegViewController").getURIBuilder().getURI().setDomain(a.getDomain().replace(/messenger\.com$/,"facebook.com")).setProtocol("https");a.go()}})),b("React").createElement("div",{className:"_7hy9"},b("React").createElement(b("Image.react"),{alt:"Messenger App Preview",height:"200",src:i("821720"),width:"200"}))))}e.exports=a}),null);
__d("RTCCallNUXReducer",["FBRTCUtils","RTCCallNUXActionTypes","RTCCallNUXIDs","XBasicFBNuxDismissController","XBasicFBNuxViewController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();switch(c.type){case b("RTCCallNUXActionTypes").DISMISS_NUX:var d=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",c.nuxID).getURI();b("FBRTCUtils").sendServerRequest(d);switch(c.nuxID){case b("RTCCallNUXIDs").RTC_VIDEO_CHAT_FILTERS_NUX:return a.set("showVideoChatFiltersNUX",!1);case b("RTCCallNUXIDs").RTC_P2P_ADD_GROUP_MEMBER_NUX:return a.set("showAddGroupMemberNUX",!1);case b("RTCCallNUXIDs").RTC_P2P_REMOTE_CAMERA_CONTROLS_NUX:return a.set("showRemoteCameraControlsNUX",!1);case b("RTCCallNUXIDs").RTC_P2P_REMOTE_SCREEN_CONTENT_POP_OUT_NUX:return a.set("showRemoteScreenContentPopOutNUX",!1);case b("RTCCallNUXIDs").RTC_P2P_REMOTE_STREAMS_SLIDER_NUX:return a.set("showRemoteStreamsSliderNUX",!1);case b("RTCCallNUXIDs").RTC_P2P_SETTINGS_NUX:return a.set("showSettingsNUX",!1);default:return a}default:return a}}function c(a,c){switch(c.type){case b("RTCCallNUXActionTypes").INIT_NUX_STATE:c=c.payload;return a.set("showVideoChatFiltersNUX",c.showVideoChatFiltersNUX).set("showAddGroupMemberNUX",c.showAddGroupMemberNUX).set("showRemoteCameraControlsNUX",c.showRemoteCameraControlsNUX).set("showRemoteScreenContentPopOutNUX",c.showRemoteScreenContentPopOutNUX).set("showRemoteStreamsSliderNUX",c.showRemoteStreamsSliderNUX).set("showSettingsNUX",c.showSettingsNUX);default:return a}}function d(a,c){switch(c.type){case b("RTCCallNUXActionTypes").MARK_NUX_VIEWED:c=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",c.nuxID).getURI();b("FBRTCUtils").sendServerRequest(c);return a;default:return a}}e.exports={dismissNUX:a,markNUXViewed:d,refreshNUXState:c}}),null);
__d("RTCCallNUXStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c={showVideoChatFiltersNUX:!1,showAddGroupMemberNUX:!1,showRemoteCameraControlsNUX:!1,showRemoteScreenContentPopOutNUX:!1,showRemoteStreamsSliderNUX:!1,showSettingsNUX:!1};g=babelHelpers.inherits(a,b("immutable").Record(c));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("RTCCallNUXStore",["FluxReduceStore","RTCAppDispatcher","RTCCallNUXActions","RTCCallNUXReducer","RTCCallNUXStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[b("RTCCallNUXReducer").dismissNUX,b("RTCCallNUXReducer").markNUXViewed,b("RTCCallNUXReducer").refreshNUXState];c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("RTCAppDispatcher")),b("RTCCallNUXActions").refreshNUXState()}a.prototype.getInitialState=function(){return new(b("RTCCallNUXStoreState"))()};a.prototype.reduce=function(a,b){return h.reduce(function(a,c){return c(a,b)},a)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("MessengerBannerOverlay.react",["cx","React","ReactCSSTransitionGroup"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=6e3,j={enter:"_3fa9",enterActive:"_3faa",leave:"_3fab",leaveActive:"_3fad"};c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={hide:!1},b}a.prototype.componentDidUpdate=function(a){a.children!=this.props.children&&this.setState({hide:!1}),this.props.useTimeout&&!this.state.hide&&setTimeout(function(){this.setState({hide:!0})}.bind(this),i)};a.prototype.$1=function(){return!this.state.hide&&this.props.display&&this.props.children?b("React").createElement("div",{className:"_qxg"},b("React").createElement("h2",{className:"_qxh"},this.props.children)):null};a.prototype.render=function(){return b("React").createElement(b("ReactCSSTransitionGroup"),{component:"div",transitionName:j,transitionEnterTimeout:600,transitionLeaveTimeout:600},this.$1())};a.BANNER_TIMEOUT=i;e.exports=a}),null);
__d("RTCNotificationUtils",["fbt","immutable","intlList"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={addingUsersToCallText:function(a,c){if(c&&c.size>0){c=c.toArray().map(function(a){return a.short_name});c=a?g._("Adding {names of users being added to call} to your call...",[g._param("names of users being added to call",b("intlList")(c,b("intlList").CONJUNCTIONS.AND))]):g._("Adding {names of users being added to call} to your video chat...",[g._param("names of users being added to call",b("intlList")(c,b("intlList").CONJUNCTIONS.AND))])}else c=a?g._("Adding someone to your call..."):g._("Adding someone to your video chat...");return c},unableToAddUsersToCallText:function(a,c){if(c&&c.size>0){c=c.toArray().map(function(a){return a.short_name});return g._("Unable to add {names of users being added to call}",[g._param("names of users being added to call",b("intlList")(c,b("intlList").CONJUNCTIONS.OR))])}return a?g._("Unable to add person to your call"):g._("Unable to add person to your video chat")}};e.exports=a}),null);
__d("RTCCallNotificationReducer",["RTCAppDispatcher","RTCCallActionTypes","RTCCallStore","RTCGroupCallEscalationActionTypes","RTCGroupCallEscalationStore","RTCNotificationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){switch(c.type){case b("RTCGroupCallEscalationActionTypes").GROUP_ESCALATION_START:c=!b("RTCCallStore").hasRemoteVideo()&&!b("RTCCallStore").hasLocalVideo();c=b("RTCNotificationUtils").addingUsersToCallText(c,b("RTCGroupCallEscalationStore").getState().usersToRing);return a.set("notificationText",c).set("useTimeout",!1)}return a}function c(a,c){switch(c.type){case b("RTCCallActionTypes").ON_CONFERENCE_STATE:b("RTCAppDispatcher").waitFor([b("RTCGroupCallEscalationStore").getDispatchToken()]);return b("RTCGroupCallEscalationStore").getState().readyToTransition?a.set("notificationText",null).set("useTimeout",!1):a}return a}function d(a,c){switch(c.type){case b("RTCGroupCallEscalationActionTypes").GROUP_ESCALATION_CANCEL:c=!b("RTCCallStore").hasRemoteVideo()&&!b("RTCCallStore").hasLocalVideo();c=b("RTCNotificationUtils").unableToAddUsersToCallText(c,b("RTCGroupCallEscalationStore").getState().usersToRing);return a.set("notificationText",c).set("useTimeout",!0)}return a}function f(a,c){switch(c.type){case b("RTCCallActionTypes").HANGUP:case b("RTCCallActionTypes").END_CALL:case b("RTCCallActionTypes").HANGUP_ERROR:case b("RTCCallActionTypes").HANGUP_SUCCESS:return a.withMutations(function(a){a.set("notificationText",null).set("useTimeout",!0)})}return a}e.exports={clearStore:f,onEscalationStarted:a,onEscalationCompletion:c,onAbortedEscalation:d}}),null);
__d("RTCCallNotificationStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c={useTimeout:!0,notificationText:null};g=babelHelpers.inherits(a,b("immutable").Record(c));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("RTCCallNotificationStore",["FluxReduceStore","RTCAppDispatcher","RTCCallNotificationReducer","RTCCallNotificationStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[b("RTCCallNotificationReducer").clearStore,b("RTCCallNotificationReducer").onEscalationStarted,b("RTCCallNotificationReducer").onEscalationCompletion,b("RTCCallNotificationReducer").onAbortedEscalation];g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return new(b("RTCCallNotificationStoreState"))()};a.prototype.reduce=function(a,b){return h.reduce(function(a,c){return c(a,b)},a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("RTCAppDispatcher"))}),null);
__d("RTCCallNotificationContainer.react",["PageHooks","FluxContainer","RTCCallNotificationStore","MessengerBannerOverlay.react","React","RTCConferenceState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("PageHooks");a=babelHelpers.inherits(h,b("React").PureComponent);g=a&&a.prototype;h.getStores=function(){return[b("RTCCallNotificationStore")]};h.calculateState=function(){var a=b("RTCCallNotificationStore").getState(),c=a.notificationText;a=a.useTimeout;return{notificationText:c,useTimeout:a}};function h(a){g.constructor.call(this,a),this.state=babelHelpers["extends"]({},h.calculateState())}h.prototype.render=function(){var a=this.state,c=a.notificationText;a=a.useTimeout;return b("React").createElement(b("MessengerBannerOverlay.react"),{display:this.props.conferenceState!==b("RTCConferenceState").TERMINATED,useTimeout:a},c)};e.exports=b("FluxContainer").create(h)}),null);
__d("RTCDialogProvider.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;d=b("React").PropTypes;f=babelHelpers.inherits(a,c);g=f&&f.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={dialog:null},this.$1=function(a){this.setState({dialog:a})}.bind(this),this.$2=function(a){a===void 0&&(a=!1),a||this.setState({dialog:null})}.bind(this),b}a.prototype.getChildContext=function(){return{dialogShow:this.$1,dialogHide:this.$2}};a.prototype.render=function(){return b("React").createElement("div",this.props,this.props.children,this.state.dialog)};a.childContextTypes={dialogShow:d.func,dialogHide:d.func};e.exports=a}),null);
__d("RTCAppView.react",["cx","FBRTCSupport","React","RTCDialogProvider.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.isAudioCall;d=d===void 0?!1:d;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","isAudioCall"]);return b("React").createElement(b("RTCDialogProvider.react"),babelHelpers["extends"]({className:"_32ut"+(d&&!b("FBRTCSupport").isMobileDevice()&&!b("RTWebClientFeatureGating").callUnification()?" _32uu":"")},a),c)};e.exports=a}),null);
__d("MediaAccessErrorParser",["FBRTCLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={printUserMediaRequestError:function(a){__p&&__p();if(a==null)return"Unknown Error";switch(a.name){case"AbortError":return"Hardware Access aborted.";case"NotAllowedError":return"Access to Media Devices has been denied.";case"NotFoundError":return"Devices matching requirements were not found or were not accessible.";case"NotReadableError":return"Hardware Access Error.";case"OverconstrainedError":return"Media Constraints not met.";case"SecurityError":return"User media support is disabled.";case"TypeError":return"Media Constraints corrupted.";default:b("FBRTCLogger").getInstance().logErrorWithoutID(a);return a.message?a.message:"Unknown Error"}}};e.exports=a}),null);
__d("RTCMediaDeniedPrompt.react",["cx","fbt","React","UserAgent","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.$1=function(){"use strict";return b("UserAgent").isBrowser("Chrome")?"right":"left"};a.prototype.render=function(){"use strict";var a=this.props.isAudioCall?h._("Allow microphone access"):h._("Allow camera and microphone access"),c=this.props.isAudioCall?h._("You'll need to allow microphone access for calls on Facebook."):h._("You'll need to allow microphone and camera access for video chats on Facebook.");return b("React").createElement("span",{className:"_173p"},b("React").createElement("div",{className:"_3wrz",ref:"mpTarget"}),b("React").createElement(b("XUIContextualDialog.react"),{alignment:this.$1(),contextRef:function(){return this.refs.mpTarget}.bind(this),key:"popover",position:"below",shown:!0,width:b("XUIContextualDialog.react").WIDTH.NORMAL},b("React").createElement(b("XUIContextualDialogTitle.react"),null,a),b("React").createElement(b("XUIContextualDialogBody.react"),null,c)))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("RTCSVGIconCatalog",["React"],(function(a,b,c,d,e,f){"use strict";a={noCameraIcon:b("React").createElement("svg",{viewBox:"0 0 48 48"},b("React").createElement("path",{d:"M36 29h1V19h-1v10zm-6-2.727L35 29V19l-5 2.727v4.546zM19.344 17H26c1.126 0 2 .938 2 2v10c0 .54-.225 1.047-.595 1.415L19.345 17zm-3.5 0H15c-1.126 0-2 .938-2 2v10c0 1.062.874 2 2 2h9.257l-8.413-14zm11.408 17.044l.857-.516-12.362-20.572-.857.516 12.362 20.572z",fillRule:"evenodd"})),noMicIcon:b("React").createElement("svg",{viewBox:"0 0 48 48"},b("React").createElement("path",{d:"M25 31c.7-.1 1.3-.3 1.9-.6l-.5-.9c-.6.3-1.2.5-1.9.5-2.5 0-4.5-2.2-4.5-5v-5h-1v5.2c0 3.1 2.2 5.6 5 5.8v3h-3v1h7v-1h-3v-3zm-.5-2c.5 0 1-.1 1.4-.3L21 20.6v4.9c0 1.9 1.6 3.5 3.5 3.5zm-5.8-16l-.9.5L30.3 34l.9-.5L18.7 13zM30 25.2V20h-1v5c0 .8-.2 1.6-.5 2.2l.6 1c.6-.8.9-1.9.9-3zm-2 .3v-9c0-1.9-1.6-3.5-3.5-3.5-1.5 0-2.7.9-3.2 2.2L28 26.3v-.8z"}))};e.exports=a}),null);
__d("RTCUserMediaRequestState",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({FULFILLED:null,PENDING:null,REJECTED:null});e.exports=a}),null);
__d("RTCGrantUserMediaAccessView.react",["cx","fbt","FBRTCConfig","Link.react","MediaAccessErrorParser","React","RTCMediaDeniedPrompt.react","RTCSVGIcon.react","RTCSVGIconCatalog","RTCUserMediaRequestState","RTWebClientFeatureGating","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){a.children;var c=a.className,d=a.isAudioCall;d=d===void 0?!1:d;var e=a.userMediaRequest;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","isAudioCall","userMediaRequest"]);return b("React").createElement(b("React").Fragment,null,e.state===b("RTCUserMediaRequestState").REJECTED?b("React").createElement(b("RTCMediaDeniedPrompt.react"),{isAudioCall:d}):null,b("React").createElement("div",babelHelpers["extends"]({className:b("joinClasses")(c,"_5ajm"+(d?" _4w_w":""))},a),b("React").createElement(i,{isAudioCall:d,userMediaRequest:e}),b("React").createElement(k,{isAudioCall:d})))};var i=function(a){var c=a.isAudioCall;a=a.userMediaRequest;return b("React").createElement("header",{className:"_5ajs"},b("React").createElement("div",{className:"_5b02"},c?null:b("React").createElement(b("RTCSVGIcon.react"),{className:"_5b34"+(a.state===b("RTCUserMediaRequestState").REJECTED?" _4w_y":"")},b("RTCSVGIconCatalog").noCameraIcon),b("React").createElement(b("RTCSVGIcon.react"),{className:"_5b34"+(a.state===b("RTCUserMediaRequestState").REJECTED?" _4w_y":"")},b("RTCSVGIconCatalog").noMicIcon)),b("React").createElement(j,{isAudioCall:c,userMediaRequest:a}))},j=function(a){var c=a.isAudioCall;a=a.userMediaRequest;return a.state===b("RTCUserMediaRequestState").REJECTED?b("RTWebClientFeatureGating").showMojavePermissionsWarning()?b("React").createElement(b("React").Fragment,null,b("React").createElement("h1",{className:"_5b03"},c?h._("Something went wrong while trying to access your microphone."):h._("Something went wrong while trying to access your camera and microphone."))):b("React").createElement(b("React").Fragment,null,b("React").createElement("h1",{className:"_5b03"},c?h._("An error occurred while trying to get access to the microphone:"):h._("An error occurred while trying to get access to the camera and\/or microphone:")),b("React").createElement("p",{className:"_4x0t"},b("MediaAccessErrorParser").printUserMediaRequestError(a.error))):b("React").createElement("h1",{className:"_5b03"},c?h._("Please allow microphone access"):h._("Please allow camera and microphone access"))},k=function(a){a=a.isAudioCall;var c=b("RTWebClientFeatureGating").showMojavePermissionsWarning()?b("React").createElement("p",{className:"_5b2y"},h._("If you've upgraded your Mac OS to Mojave, try adding Chrome to your list of allowed apps. Go to System Preferences and choose Security & Privacy, then add Chrome to your list of allowed apps.")):b("React").createElement("p",{className:"_5b2y"},a?h._("To make a call on Facebook, you need to turn your microphone on. This will let people hear you during the call."):h._("To make a call on Facebook, you need to turn your camera and microphone on. This will let people see and hear you during the call."));return b("React").createElement(b("React").Fragment,null,c,b("React").createElement("p",{className:"_5b2y"},a?h._("You can turn this off later."):h._("You can turn these off later.")," ",b("React").createElement(b("Link.react"),{href:b("FBRTCConfig").userMediaPermissionErrorUrl(),target:"_blank"},h._("Learn more"))))};e.exports=a}),null);
__d("FBRTCGroupCallFixedHeightGridViewUtils",["FBRTCConstants","RTWebExperiments","getViewportDimensions","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").Orientation;function h(){this.users=[],this.numUnits=0}function a(a){return a.sort(function(a,b){return a.user.FBID.localeCompare(b.user.FBID)})}var i={FixedHeightGridRow:h,calculateContainerDimensions:function(){var a=b("getViewportDimensions").withoutScrollbars(),c=a.height-200;a=a.width;return{height:c,width:a}},calculateUnitDimensions:function(a,c,d){__p&&__p();var e=a.filter(function(a){return a.numUnits>0}).length;if(e===0)return{unitHeight:0,unitWidth:0};a=a[0].numUnits;var f=b("RTWebExperiments").fixedHeightGridViewGridHeightPercent()/100*d;d=d/e;e=Math.min(f,d);f=e*3/4;f*a>=c&&(f=c/a,e=f*4/3);return{unitHeight:e,unitWidth:f}},getWindowIsLandscape:function(){var a=b("getViewportDimensions").withoutScrollbars();return a.width>a.height},setUpGrid:function(a,b,c){__p&&__p();var d=[new h(),new h(),new h(),new h()];if(c){if(a.length+b.length<=3&&a.length!==3){d[0].users=[].concat(a,b);d[0].numUnits=a.length*2+b.length;return d}c=Math.ceil(a.length/2);d[0].users=a.slice(0,c);d[0].numUnits=c*2;d[1].users=a.slice(c);d[1].numUnits=(a.length-c)*2;b.forEach(function(a){d[1].numUnits<d[0].numUnits?(d[1].users.push(a),d[1].numUnits+=1):(d[0].users.push(a),d[0].numUnits+=1)});return d}else if(a.length*2+b.length<=6){a.forEach(function(a,b){d[b].users.push(a),d[b].numUnits=2});c=a.length;for(var e=0;e<b.length;e+=2)d[c].users.push(b[e]),d[c].numUnits+=1,b[e+1]&&(d[c].users.push(b[e+1]),d[c].numUnits+=1,c++);return d}else{e=0;for(var c=0;c<a.length;c+=2)d[e].users.push(a[c]),d[e].numUnits+=2,a[c+1]&&(d[e].users.push(a[c+1]),d[e].numUnits+=2,e++);for(var c=0;c<b.length;c++)d[e].numUnits>=4&&e++,d[e].users.push(b[c]),d[e].numUnits+=1;return d}},sortRTCUserAndOrientation:a,getFixedHeightGridRows:function(a){var b=[],c=[];a.forEach(function(a){a.orientation===g.LANDSCAPE?b.push(a):c.push(a)});return i.setUpGrid(i.sortRTCUserAndOrientation(b),i.sortRTCUserAndOrientation(c),i.getWindowIsLandscape())},getOrientationsForUsers:function(a,b){__p&&__p();var c=[],d=[];a.forEach(function(a){var e=b.find(function(b){return b.user.FBID===a.FBID});if(e!==void 0)c.push({orientation:e.orientation,user:a});else{e=a.getStream();e=e!==void 0&&e!==null&&!a.areAllTracksMuted(e.getVideoTracks());e?d.push(a):c.push({orientation:g.PORTRAIT,user:a})}});return{usersWithOrientation:c,usersWithoutOrientation:d}},onUserOrientationChanged:function(a,b){var c=b,d=a.orientation,e=a.user,f=b.findIndex(function(a){return a.user.FBID===e.FBID});f===-1?c=b.push(a):d!==b.get(f).orientation&&(c=b.splice(f,1,a));return c}};e.exports=i}),null);
__d("RTCUIVideo.react",["cx","invariant","FBLogger","FBRTCUtils","React","RTWebUserActionLogger","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$5=function(a){this.$1=a,this.props.videoRef&&this.props.videoRef(this.$1)}.bind(this),this.$3=function(a){b("RTWebUserActionLogger").logError({errorDomain:"video_element_rendering_error",errorType:a.toString()}),this.$4()}.bind(this),this.$4=function(){this.props.onReady&&this.props.onReady()}.bind(this),c}a.prototype.render=function(){var a=this.props;a.audioSinkID;a.stream;var c=a.className,d=a.mirror;a=babelHelpers.objectWithoutPropertiesLoose(a,["audioSinkID","stream","className","mirror"]);return b("React").createElement("video",babelHelpers["extends"]({autoPlay:!0,className:b("joinClasses")("_1yvx"+(d?" _6olb":""),c),onContextMenu:this.$2,onError:this.$3,onLoadedMetadata:this.$4,ref:this.$5},a))};a.prototype.componentDidMount=function(){j(this.$1,this.props.stream),k(this.$1,this.props.audioSinkID)};a.prototype.componentDidUpdate=function(a){this.props.stream!==a.stream&&j(this.$1,this.props.stream),this.props.audioSinkID!==a.audioSinkID&&k(this.$1,this.props.audioSinkID)};a.prototype.$2=function(a){a.preventDefault()};a.defaultProps={muted:!1,mirror:!1};function j(a,c){if(a==null||c==null)return;try{b("FBRTCUtils").attachMediaStream(a,c)}catch(a){b("RTWebUserActionLogger").logError({errorDomain:"video_attach_media_stream_error",errorType:a.toString()}),b("FBLogger")("rtc_www").catching(a).warn("Encountered error while calling attachMediaStream")}}function k(a,c){if(!b("FBRTCUtils").supportsSetSink()||a==null||c==null||c==="")return;try{typeof a.setSinkId==="function"||h(0,3783),a.setSinkId(c)}catch(a){b("FBLogger")("rtc_www").catching(a).warn("Encountered error while calling attachAudioSink")}}e.exports=a}),null);
__d("RTCVideoWithUserAndOrientation.react",["FBLogger","FBRTCConstants","React","RTCUIVideo.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("FBRTCConstants").Orientation,i=1e3;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.videoRef=function(a){this.$1=a}.bind(this),this.checkOrientation=function(){if(this.$1!=null){var a=this.$1,c=a.videoHeight;a=a.videoWidth;if(c!=null&&a!=null){a=a>c?h.LANDSCAPE:h.PORTRAIT;a!==this.$3&&(this.props.onOrientationChanged({user:this.props.user,orientation:a}),this.$3=a)}else b("FBLogger")("rtc_www").warn("Unable to get video dimension")}}.bind(this),c}a.prototype.componentDidMount=function(){this.$2=window.setInterval(this.checkOrientation,i)};a.prototype.componentWillUnmount=function(){window.clearInterval(this.$2)};a.prototype.render=function(){var a=this.props;a.user;a.onOrientationChanged;a=babelHelpers.objectWithoutPropertiesLoose(a,["user","onOrientationChanged"]);return b("React").createElement(b("RTCUIVideo.react"),babelHelpers["extends"]({videoRef:this.videoRef},a))};e.exports=a}),null);
__d("RTCIncallGridItem.react",["cx","fbt","Image.react","React","RTCIncallAudio.react","RTCVideoWithUserAndOrientation.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.user,d=a.style,e=c.getActiveStream()||c.getStream(),f=e!==void 0&&e!==null&&!c.areAllTracksMuted(e.getVideoTracks());return f?b("React").createElement("div",{className:"_74kp"+(a.isRoundedCorner?" _7akd":""),style:d},b("React").createElement(b("RTCVideoWithUserAndOrientation.react"),{audioSinkID:a.audioSinkID,className:"_6qk5","data-testid":b("VideoCallWebDriverIDs").RTC_INCALL_VIDEO,onOrientationChanged:a.onUserOrientationChanged,stream:e,user:c})):b("React").createElement("div",{className:"_2_gq _74kp"+(a.isRoundedCorner?" _7akd":""),style:d},b("React").createElement(b("Image.react"),{className:"_2_gr",src:c.profilePictureUrl}),b("React").createElement(b("Image.react"),{alt:h._("Profile picture"),className:"_2_gs",src:c.profilePictureUrl}),b("React").createElement("p",{className:"_5ka3"},h._("{name}'s camera is off",[h._param("name",c.userShortName)])),b("React").createElement(b("RTCIncallAudio.react"),{audioSinkID:a.audioSinkID,mediaStream:e}))};e.exports=a}),null);
__d("RTCGridViewWithOrientation.react",["cx","FBRTCConstants","FBRTCGroupCallFixedHeightGridViewUtils","React","RTCIncallGridItem.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").Orientation,i=b("FBRTCGroupCallFixedHeightGridViewUtils").calculateUnitDimensions,j=b("FBRTCGroupCallFixedHeightGridViewUtils").getFixedHeightGridRows;function a(a){__p&&__p();var c=j(a.users),d=i(c,a.containerWidth,a.containerHeight),e=d.unitHeight,f=d.unitWidth,g={gridTemplateRows:e+"px"},k=a.users.length===1,l=[];c.forEach(function(c,d){if(c.users.length===0)return;var e=1;l.push(b("React").createElement("div",{className:"_6ppt",key:d,style:babelHelpers["extends"]({},g,{gridTemplateColumns:(f+"px ").repeat(c.numUnits),width:f*c.numUnits+"px"})},c.users.map(function(c){var d={};c.orientation===h.LANDSCAPE?(d={gridColumnStart:e.toString(),gridColumnEnd:(e+2).toString()},e+=2):e+=1;return b("React").createElement(b("RTCIncallGridItem.react"),{audioSinkID:a.audioSinkID,isRoundedCorner:k,key:c.user.FBID+"_"+c.orientation.toString()+"_"+e,onUserOrientationChanged:a.onUserOrientationChanged,style:d,user:c.user})})))});return l}e.exports=a}),null);
__d("FBRTCGroupCallFixedHeightGridView.react",["cx","FBRTCGroupCallFixedHeightGridViewUtils","React","RTCGridViewWithOrientation.react","RTCVideoWithUserAndOrientation.react","immutable","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={userAndOrientationList:b("immutable").List()},this.$1=b("throttle")(function(){this.forceUpdate()}.bind(this),300),this.$2=function(a){var c=this.state.userAndOrientationList;a=b("FBRTCGroupCallFixedHeightGridViewUtils").onUserOrientationChanged(a,c);this.setState({userAndOrientationList:a})}.bind(this),c}a.prototype.componentDidMount=function(){window.addEventListener("resize",this.$1)};a.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.$1)};a.prototype.render=function(){var a=b("FBRTCGroupCallFixedHeightGridViewUtils").getOrientationsForUsers(this.props.remoteUsers.toArray(),this.state.userAndOrientationList.toArray()),c=a.usersWithOrientation;a=a.usersWithoutOrientation;var d=b("FBRTCGroupCallFixedHeightGridViewUtils").calculateContainerDimensions(),e=d.height;d=d.width;return b("React").createElement("div",{className:"_6ots"+(this.props.hidden?" hide":"")},b("React").createElement("div",{className:"hidden_elem"},a.map(function(a){var c=a.getStream();return b("React").createElement(b("RTCVideoWithUserAndOrientation.react"),{audioSinkID:this.props.audioSinkID,key:a.FBID,onOrientationChanged:this.$2,stream:c,user:a})}.bind(this)),";"),b("React").createElement(b("RTCGridViewWithOrientation.react"),{audioSinkID:this.props.audioSinkID,containerHeight:e,containerWidth:d,onUserOrientationChanged:this.$2,users:c}))};e.exports=a}),null);
__d("RTCIncallVideo.react",["cx","FBRTCVideo.react","React","RTCMediaStreamReadyContainer.react","VideoCallWebDriverIDs","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.state={mounted:!1},this.$2=function(a){var c=this.props,d=c.audioMuted,e=c.audioSinkID,f=c.className,g=c.mediaStream,h=c.muted;c=babelHelpers.objectWithoutPropertiesLoose(c,["audioMuted","audioSinkID","className","mediaStream","muted"]);return b("React").createElement("div",babelHelpers["extends"]({className:b("joinClasses")(f,"_chh"+(a&&!h&&this.state.mounted?" active":""))},c),b("React").createElement(b("FBRTCVideo.react"),babelHelpers["extends"]({"data-testid":b("VideoCallWebDriverIDs").RTC_INCALL_VIDEO,muted:d},{audioSinkID:e,mediaStream:g})),this.props.children)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("RTCMediaStreamReadyContainer.react"),{mediaStream:this.props.mediaStream},this.$2)};a.prototype.componentWillUnmount=function(){window.clearTimeout(this.$1)};a.prototype.componentDidMount=function(){this.$1=window.setTimeout(function(){return this.setState({mounted:!0})}.bind(this))};a.defaultProps={audioMuted:!1,muted:!1};e.exports=a}),null);
__d("FBRTCGroupCallIncallVideo.react",["cx","fbt","Image.react","React","RTCIncallAudio.react","RTCIncallVideo.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){var c=a.displayNone;c=c===void 0?!1:c;var d=a.isAudioCall;d=d===void 0?!1:d;a=a.user;var e=a.getStream();return e&&!a.areAllTracksMuted(e.getVideoTracks())?b("React").createElement(b("RTCIncallVideo.react"),{className:"_5k9_"+(c?" none":""),mediaStream:e}):b("React").createElement("div",{className:"_5k9_"+(c?" none":"")+(d&&!b("RTWebClientFeatureGating").callUnification()?" hidden":"")},b("React").createElement("div",{className:"_2_gq"},b("React").createElement(b("Image.react"),{className:"_2_gr",src:a.profilePictureUrl}),b("React").createElement(b("Image.react"),{alt:h._("Profile picture"),className:"_2_gs",src:a.profilePictureUrl}),b("React").createElement("p",{className:"_5ka3"},d?h._("{name}",[h._param("name",a.userName)]):h._("{name}'s camera is off",[h._param("name",a.userShortName)])),b("React").createElement(b("RTCIncallAudio.react"),{mediaStream:e})))};e.exports=a}),null);
__d("XFacebookMessengerInboxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/t/{?thread_key}/",{thread_key:{type:"String"},mid:{type:"String"},ref:{type:"String"},ds:{type:"Int"},sender:{type:"Bool",defaultValue:!1},hide_header:{type:"Bool",defaultValue:!1}})}),null);
__d("FBRTCGroupCallUserPopoverMenu.react",["cx","fbt","FBRTCGroupCallStore","FBRTCGuestUtils","MessengerMenu.react","MessengerPopoverMenu.react","React","RTCGroupCallDialogController","URI","XFacebookMessengerInboxController","XMessengerDotComMainController","isMessengerDotComURI"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerMenu.react").Item,j=b("MessengerMenu.react").Separator;a=function(a){__p&&__p();var c=a.children,d=a.isGuestFromLink;d=d===void 0?!1:d;var e=a.user;a=h._("Menu options");var f=b("FBRTCGroupCallStore").getState();f=f.thread;a=b("React").createElement(b("MessengerMenu.react"),{"aria-label":a,className:"_2vmq",label:a},b("React").createElement(i,{disabled:!0,label:e.userName}),b("React").createElement(j,null),b("React").createElement(i,{label:h._("Message"),onclick:function(){return k(e.FBID)}}),b("React").createElement(i,{label:h._("View profile"),onclick:function(){return l(e.profileUrl)}}),!d&&b("FBRTCGuestUtils").isAnonOrAuthGuestUser(e,f)?b("React").createElement(i,{label:h._("Remove guest"),onclick:function(){return b("RTCGroupCallDialogController").showRemoveGuestDialog(e)}}):null);return b("React").createElement(b("MessengerPopoverMenu.react"),{menu:a},c)};function k(a){var c=b("isMessengerDotComURI")(b("URI").getRequestURI())?b("XMessengerDotComMainController"):b("XFacebookMessengerInboxController");window.open(c.getURIBuilder().setString("thread_key",a).getURI())}function l(a){a&&window.open(a)}e.exports=a}),null);
__d("RTCRemoteViewPopoverMenuButton.react",["cx","fbt","FBRTCGroupCallUserPopoverMenu.react","React","RTCSVGIcon.react","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.isGuestFromLink;a=a.user;var d=h._("Menu options");return b("React").createElement(b("FBRTCGroupCallUserPopoverMenu.react"),{isGuestFromLink:c,user:a},b("React").createElement(b("ShimButton.react"),{"aria-label":d,className:"_1b12",label:d,onClick:i,role:"presentation"},b("React").createElement(b("RTCSVGIcon.react"),null,b("React").createElement("svg",{viewBox:"-10 -6 24 24"},b("React").createElement("path",{d:"M2.157 11.057c-1.013 0-1.843.83-1.843 1.843 0 1.014.83 1.843 1.843 1.843C3.17 14.743 4 13.913 4 12.9c0-1.014-.83-1.843-1.843-1.843zm0-1.843C3.17 9.214 4 8.384 4 7.37c0-1.012-.83-1.84-1.843-1.84S.314 6.357.314 7.37c0 1.015.83 1.844 1.843 1.844zm0-5.528C3.17 3.686 4 2.856 4 1.843 4 .83 3.17 0 2.157 0S.314.83.314 1.843s.83 1.843 1.843 1.843z"})))))};function i(a){a.stopPropagation()}e.exports=a}),null);
__d("FBRTCGroupCallIncallView.react",["cx","FBRTCConstants","FBRTCGroupCallFixedHeightGridView.react","FBRTCGroupCallFluidGridView.react","FBRTCGroupCallIncallVideo.react","FBRTCGroupCallStore","FluxContainer","React","RTCRemoteViewPopoverMenuButton.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").GroupVideoViewLayout,i=6;d=function(a){__p&&__p();var c=a.dominantSpeakerFBID,d=a.isAudioCall,e=a.isGuestFromLink,f=e===void 0?!1:e;e=a.layout;var g=a.pinnedSpeakerFBID,j=a.remoteUsers;switch(e){case h.DOMINANT_SPEAKER:a=j.find(function(a){return a.FBID===(g||c)});return a?b("React").createElement("div",{className:"_ncs"},b("React").createElement(b("FBRTCGroupCallIncallVideo.react"),{isAudioCall:d,user:a})):null;case h.GRID:return b("RTWebClientFeatureGating").fixedHeightGridView()?b("React").createElement(b("FBRTCGroupCallFixedHeightGridView.react"),{hidden:d,remoteUsers:j}):b("React").createElement(b("FBRTCGroupCallFluidGridView.react"),{hidden:b("RTWebClientFeatureGating").callUnification()?j.size<1:d,remoteUsers:j,renderUser:function(a){return b("React").createElement("div",{className:"_2rik"},b("React").createElement(b("FBRTCGroupCallIncallVideo.react"),{isAudioCall:d,user:a}),b("React").createElement("div",{className:j.size>1?"_2ril":null},b("React").createElement(b("RTCRemoteViewPopoverMenuButton.react"),{isGuestFromLink:f,user:a})))}});default:return b("React").createElement("div",{className:"_ncs"},j.map(function(a,c){return b("React").createElement(b("FBRTCGroupCallIncallVideo.react"),{displayNone:c>=i,isAudioCall:d,key:a.FBID,user:a})}))}};function a(){return[b("FBRTCGroupCallStore")]}function c(a,c){a===void 0&&({});a=b("FBRTCGroupCallStore").getState();var d=a.dominantSpeakerFBID;a=a.pinnedSpeakerFBID;return babelHelpers["extends"]({dominantSpeakerFBID:d,pinnedSpeakerFBID:a},c)}e.exports=b("FluxContainer").createFunctional(d,a,c,{withProps:!0})}),null);
__d("RTCAppViewMain.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className,e=a.fullBleed;e=e===void 0?!0:e;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","fullBleed"]);return b("React").createElement("section",babelHelpers["extends"]({className:b("joinClasses")("_3cb2"+(e?" fullBleed":""),d)},a),c)};e.exports=a}),null);
__d("RTCCallConnectionStatus.react",["cx","FBRTCCallTimer.react","FDSSpinner.react","React","RTCP2PConnectionStatus","RTWebStrings","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").createElement("div",babelHelpers["extends"]({className:b("joinClasses")(d,"_46la")},a),c!=null?c:this.$2())};a.prototype.$2=function(){__p&&__p();switch(this.props.connectionStatus){case b("RTCP2PConnectionStatus").CONTACTING:return b("RTWebStrings").contacting;case b("RTCP2PConnectionStatus").RINGING:return b("RTWebStrings").ringing;case b("RTCP2PConnectionStatus").CONNECTING:return b("RTWebStrings").connecting;case b("RTCP2PConnectionStatus").ESCALATING_TO_BJN:return b("React").createElement("div",null,b("RTWebStrings").pleaseWait,"  ",b("React").createElement(b("FDSSpinner.react"),{size:"small"}));case b("RTCP2PConnectionStatus").RECONNECTING:return b("RTWebStrings").reconnecting;case b("RTCP2PConnectionStatus").CONNECTED:this.$1==null&&(this.$1=Math.floor(Date.now()/1e3));return b("React").createElement(b("FBRTCCallTimer.react"),{start:this.$1});case b("RTCP2PConnectionStatus").DISCONNECTED:return b("RTWebStrings").callEnded;default:return null}};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("RTCCallStateInfo.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").createElement("div",babelHelpers["extends"]({className:b("joinClasses")("_2_my",d)},a),c)};e.exports=a}),null);
__d("RTCGroupCallPeerImage.react",["cx","CurrentUser","MercuryParticipantsConstants","MercuryParticipantsImage.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerProfileImageWrapperReact.bs").jsComponent,i=b("MessengerThreadImageReact.bs").jsComponent;function a(a){if(j(a))return null;var c=a.thread,d=a.participants,e=a.participants.filter(function(a,b){return!a.is_parties_user}),f=Array.from(d.filter(function(a,b){return a.is_parties_user}).map(function(a,b){return a.image_src}).values());return c&&c.image_src?b("React").createElement(i,{className:b("joinClasses")(a.className,"_4j_j"),participants:d,size:b("MercuryParticipantsConstants").WWW_INCALL_THUMBNAIL_SIZE,thread:c,viewer:b("CurrentUser").getID()}):b("React").createElement(h,{className:"_4j_j",showBadge:!1,size:b("MercuryParticipantsConstants").WWW_INCALL_THUMBNAIL_SIZE},b("React").createElement(b("MercuryParticipantsImage.react"),{participants:Object.keys(e.toJS()),partiesProfileImages:f,size:b("MercuryParticipantsConstants").WWW_INCALL_THUMBNAIL_SIZE}))}function j(a){return!!(a.participants.size<=1&&a.linkHash)}e.exports=a}),null);
__d("RTCCallUser.react",["cssVar","cx","fbt","AudioContextSingleton","DOM","FBRTCParticipantCallState","MessengerContactImage.react","React","ReactDOM","RTWebStrings","RTWebUserActionLogger","Tooltip"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PureComponent;var k="rgba(0, 132, 255, 0.5)",l=48,m=100;d=babelHelpers.inherits(a,c);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={audioLevel:0},this.$1=b("DOM").create("div"),this.$2=!1,this.$3=null,this.$4=null,c}a.prototype.componentDidMount=function(){this.$5(),this.$6()};a.prototype.componentDidUpdate=function(a){a=a.user;var b=this.props.user.participantState;a=a.participantState;this.$5();if(!this.props.isP2PCall){if(!b||!a)return;b.state!==a.state&&this.$6()}};a.prototype.componentWillUnmount=function(){this.$7()};a.prototype.render=function(){return this.props.isP2PCall?this.$8():this.$9()};a.prototype.$8=function(){var a=this.props.meetingID!=null;a=a?i._("Joining the meeting ID {meetingID}",[i._param("meetingID",this.props.meetingID)]):this.props.user.userName;return b("React").createElement("div",{className:"_6hu4"},b("React").createElement("div",{className:"_6hu5",style:{boxShadow:"0 0 0 "+this.state.audioLevel+"px "+k}},b("React").createElement(b("MessengerContactImage.react"),{className:"_6hu6",ref:function(a){this.$4=a}.bind(this),size:m,src:this.props.user.profilePictureUrl})),b("React").createElement("p",{className:"_dzt"},a))};a.prototype.$9=function(){var a=this.props.user.participantState;return!this.props.isLocal&&!a?null:b("React").createElement("div",{className:"_6hu5",style:{boxShadow:"0 0 0 "+this.state.audioLevel+"px "+k}},b("React").createElement(b("MessengerContactImage.react"),{className:"_6hu6"+(!this.props.isLocal&&a&&a.state!==b("FBRTCParticipantCallState").CONNECTED?" _6htk":""),ref:function(a){this.$4=a}.bind(this),size:l,src:this.props.user.profilePictureUrl}))};a.prototype.$6=function(){if(this.props.isP2PCall||this.props.isLocal)return;b("ReactDOM").render(b("React").createElement("div",{className:"_6htl"},b("React").createElement("div",{className:"_6htm"},this.props.user.userName),b("React").createElement("div",{className:"_6htn"},b("React").createElement(n,{isP2PCall:this.props.isP2PCall,participantState:this.props.user.participantState}))),this.$1);b("Tooltip").set(b("ReactDOM").findDOMNode(this.$4),this.$1,"above","center")};a.prototype.$5=function(){__p&&__p();var a=this.props.user;a=a.getStream();if(!this.$2&&a&&a.getAudioTracks().length>0)try{var c=b("AudioContextSingleton").get();a=c.createMediaStreamSource(a);c=c.createAnalyser();var d=new Uint8Array(c.frequencyBinCount);a.connect(c);this.$2=!0;this.$10(c,d)}catch(a){this.$7(),b("RTWebUserActionLogger").logErrorOnceforDomain("RTCCallUser__startAnimation_failed",a)}};a.prototype.$7=function(){this.$2=!1,window.cancelAnimationFrame(this.$3)};a.prototype.$10=function(a,c){__p&&__p();this.$3=window.requestAnimationFrame(function(){__p&&__p();if(this.$2){a.getByteFrequencyData(c);try{var d=0;c.forEach(function(a){d+=a});this.setState({audioLevel:Math.floor(d/a.frequencyBinCount/256*40)});this.$10(a,c)}catch(a){b("RTWebUserActionLogger").logErrorOnceforDomain("RTCCallUser_animate_failure",a),this.$7()}}}.bind(this))};var n=function(a){__p&&__p();if(a.isP2PCall)return null;if(a.participantState==null)return null;switch(a.participantState.state){case b("FBRTCParticipantCallState").CONTACTING:return b("RTWebStrings").contacting;case b("FBRTCParticipantCallState").RINGING:return b("RTWebStrings").ringing;case b("FBRTCParticipantCallState").CONNECTING:return b("RTWebStrings").connecting;case b("FBRTCParticipantCallState").CONNECTED:return b("RTWebStrings").connected;default:return null}};e.exports=a}),null);
__d("RTCGroupCallDraggableComponent.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;var h=5;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$2=!1,this.$3=0,this.$4=0,this.$5=0,this.$10=function(a){a&&(this.$1=a)}.bind(this),this.$8=function(a){this.$2&&(a.stopPropagation(),this.$2=!1)}.bind(this),this.$9=function(a){var b=a.clientX;a=a.clientY;this.$1&&(this.$3=b,this.$4=a,this.$5=this.$1.scrollLeft+b,document.addEventListener("mousemove",this.$6),document.addEventListener("mouseup",this.$7))}.bind(this),this.$6=function(a){var b=a.clientX;a=a.clientY;this.$1&&(this.$1.scrollLeft=this.$5-b,(Math.abs(b-this.$3)>h||Math.abs(a-this.$4)>h)&&(this.$2=!0))}.bind(this),this.$7=function(){document.removeEventListener("mousemove",this.$6),document.removeEventListener("mouseup",this.$7)}.bind(this),b}a.prototype.componentWillUnmount=function(){document.removeEventListener("mousemove",this.$6),document.removeEventListener("mouseup",this.$7)};a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className,onClickCapture:this.$8,onMouseDown:this.$9,ref:this.$10},this.props.children)};e.exports=a}),null);
__d("RTCGroupCallRosterRow.react",["cx","FBRTCGroupCallUserPopoverMenu.react","FBRTCParticipantCallState","React","RTCCallUser.react","RTCGroupCallDraggableComponent.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.localUser;a=a.remoteUsers;return b("React").createElement(b("RTCGroupCallDraggableComponent.react"),{className:"_1a8c"},a.filter(function(a){return h(a.participantState)}).map(function(a){return b("React").createElement(b("FBRTCGroupCallUserPopoverMenu.react"),{key:a.FBID,user:a},b("React").createElement(b("RTCCallUser.react"),{isLocal:!1,isP2PCall:!1,user:a}))}),b("React").createElement(b("RTCCallUser.react"),{isLocal:!0,isP2PCall:!1,user:c}))};function h(a){if(a)switch(a.state){case b("FBRTCParticipantCallState").CONTACTING:case b("FBRTCParticipantCallState").RINGING:case b("FBRTCParticipantCallState").CONNECTING:case b("FBRTCParticipantCallState").CONNECTED:return!0}return!1}e.exports=a}),null);
__d("RTCGroupCallStateInfo.react",["cx","fbt","CurrentUser","FBRTCCallTimer.react","FBRTCGuestUtils","FBRTCParticipantCallState","MercuryThreadTitle_DEPRECATED.react","React","RTCAppSpinner.react","RTCCallTitle.react","RTCConferenceState","RTCGroupCallPeerImage.react","RTCGroupCallRosterRow.react","RTWebClientFeatureGating","RTWebStrings","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=b("RTWebClientFeatureGating").callUnification();function k(a){__p&&__p();var c=a.thread,d=a.participants;if(a.conferenceState===b("RTCConferenceState").AWAITING_USER_START)return b("React").createElement("p",{className:(j?"":"_fjp")+(j?" _6to4":"")},h._("Ready to call {name}?",[h._param("name",c!=null&&c.name?b("React").createElement(b("MercuryThreadTitle_DEPRECATED.react"),{thread:c,viewer:b("CurrentUser").getID()}):b("React").createElement(b("RTCCallTitle.react"),{participants:d,viewer:b("CurrentUser").getID()}))]));else if(a.conferenceState===b("RTCConferenceState").NEW)return b("React").createElement("p",{className:(j?"":"_fjp")+(j?" _6to4":"")});a=null;if(c!=null){if(c.name!=null&&c.name!=="")a=b("React").createElement(b("MercuryThreadTitle_DEPRECATED.react"),{thread:c,viewer:b("CurrentUser").getID()});else if(c.participants!=null){c=b("FBRTCGuestUtils").fetchParticipantsInThread(c,d);a=b("React").createElement(b("RTCCallTitle.react"),{displayViewerName:!0,participants:c,viewer:b("CurrentUser").getID()})}}else a=b("React").createElement(b("RTCCallTitle.react"),{participants:d,viewer:b("CurrentUser").getID()});return b("React").createElement("p",{className:(j?"":"_fjp")+(j?" _6to4":"")},a)}function l(a){var c=a.callMessage;return b("React").createElement("p",{className:(j?"":"_fjq")+(j?" _6to5":"")},c||b("React").createElement(m,babelHelpers["extends"]({start:a.start},a)))}function m(a){switch(a.conferenceState){case b("RTCConferenceState").CONNECTING:return a.linkHash!=null||a.participants.size<=1?b("RTWebStrings").waitingForOthers:b("RTWebStrings").contacting;case b("RTCConferenceState").CONNECTED:return a.start>0?b("React").createElement(b("FBRTCCallTimer.react"),{start:a.start}):null;case b("RTCConferenceState").TERMINATING:return b("RTWebStrings").hangingUp;case b("RTCConferenceState").TERMINATED:return b("RTWebStrings").callEnded;case b("RTCConferenceState").NEW:return b("React").createElement(b("RTCAppSpinner.react"),null);default:return null}}function n(a){return a.conferenceState!==b("RTCConferenceState").CONNECTING&&a.conferenceState!==b("RTCConferenceState").CONNECTED?null:b("React").createElement(b("React").Fragment,null,a.isAudioCall?b("React").createElement("div",{className:"_7i60"},h._("IN THIS CHAT:")):null,b("React").createElement("div",{className:"_5-tc"},b("React").createElement(b("RTCGroupCallRosterRow.react"),{localUser:a.localUser,remoteUsers:a.remoteUsers})))}d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={start:0},b}a.getDerivedStateFromProps=function(a,c){var d=a.conferenceState;a=a.initialStartTime;a=a||Date.now();return c.start===0&&d===b("RTCConferenceState").CONNECTED?babelHelpers["extends"]({},c,{start:Math.floor(a/1e3)}):null};a.prototype.render=function(){var a=this.props,c=a.remoteUsers.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED});c=b("RTWebClientFeatureGating").callUnification()?c.size>=1:!a.isAudioCall&&a.conferenceState!==b("RTCConferenceState").TERMINATED;return c?null:b("React").createElement("div",{className:"_4j_i"},b("React").createElement(b("RTCGroupCallPeerImage.react"),a),b("React").createElement(k,a),b("React").createElement(l,babelHelpers["extends"]({start:this.state.start},a)),b("React").createElement(n,a))};e.exports=a}),null);
__d("RTCRingBackTone.react",["FBRTCSoundController","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").Component;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={isPlaying:!1},b}a.prototype.componentDidMount=function(){this.$1(this.props.active)};a.prototype.componentDidUpdate=function(){this.$1(this.props.active)};a.prototype.componentWillUnmount=function(){this.$2()};a.prototype.render=function(){if(this.props.active)return b("React").createElement("div",{display:"none",id:"RingTonePlaying"});else return null};a.prototype.$1=function(a){a?this.$3():this.$2()};a.prototype.$3=function(){this.state.isPlaying||this.setState({isPlaying:!0},function(){b("FBRTCSoundController").playRingbackTone()})};a.prototype.$2=function(){this.state.isPlaying&&(b("FBRTCSoundController").stopRingbackTone(),this.setState({isPlaying:!1}))};a.defaultProps={active:!1};e.exports=a}),null);
__d("RTCFeedbackView.react",["cx","fbt","AbstractTextArea.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","React","RTCCallActions","RTCDialog.react","RTCDialogBody.react","RTCDialogHeader.react","RTCDialogHeaderButton.react","RTWebClientFeatureGating","RTWebStrings","immutable","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;function j(a){return b("React").createElement(b("RTCDialogHeader.react"),null,b("React").createElement("h1",{className:"_10mm"},h._("Give Feedback")),b("React").createElement(b("RTCDialogHeaderButton.react"),{label:b("RTWebStrings").notNow,onClick:a.onCancel}),b("React").createElement(b("RTCDialogHeaderButton.react"),{disabled:!a.submitEnabled,label:h._("Submit"),onClick:a.onSubmit}))}var k=b("keyMirror")({AUDIO_ISSUE:null,VIDEO_ISSUE:null,DEVICE_ISSUE:null});function l(a){return a.keySeq().toArray().map(function(c){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:c,value:c},a.get(c))})}function m(a){return a.keySeq().toArray().map(function(c){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:c,value:c},a.get(c))})}function n(a){var c;c=a.isAudioCall?b("immutable").Map((c={},c[k.AUDIO_ISSUE]=h._("Audio issue"),c[k.DEVICE_ISSUE]=h._("Device issue"),c)):b("immutable").Map((c={},c[k.AUDIO_ISSUE]=h._("Audio issue"),c[k.VIDEO_ISSUE]=h._("Video issue"),c[k.DEVICE_ISSUE]=h._("Device issue"),c));var d={};d[k.AUDIO_ISSUE]=b("immutable").Map({audio_volume_low:h._("The volume on my device was too low"),audio_no_audio:h._("I couldn't hear the audio at all"),audio_echo:h._("The audio echoed"),audio_background_noise:h._("The background noise was too loud"),audio_robotic:h._("The audio was robotic or distorted"),audio_lagged:h._("The audio lagged")});d[k.VIDEO_ISSUE]=b("immutable").Map({video_av_sync:h._("The audio didn't match the video"),video_froze:h._("The video froze"),video_blurry:h._("The video was blurry or pixellated"),video_no_video:h._("I saw a dark screen instead of video"),video_cut_out:h._("Audio cut out while video continued")});d[k.DEVICE_ISSUE]=b("immutable").Map({device_battery_drained:h._("The call drained my battery"),device_temp_hot:h._("My device heated up"),device_slowed:h._("My device was slow during the call")});return b("React").createElement(b("RTCDialogBody.react"),null,b("RTWebClientFeatureGating").endCallSurveyDropdownOptions()?b("React").createElement("div",null,b("React").createElement(b("FDSDropdownSelector.react"),{onChange:a.generalIssueOnChange,placeholder:h._("What was the biggest issue with your call?"),value:a.generalIssueValue},l(c)),b("React").createElement("br",null),b("React").createElement("br",null),a.generalIssueValue?b("React").createElement("div",null,b("React").createElement(b("FDSDropdownSelector.react"),{onChange:a.specificIssuesOnChange,placeholder:h._("What issues were you having?"),value:a.specificIssuesValue},m(d[a.generalIssueValue])),b("React").createElement("br",null),b("React").createElement("br",null)):null):null,b("React").createElement(b("AbstractTextArea.react"),{className:"_6162",onChange:a.textAreaOnChange,placeholder:h._("Describe the problem..."),value:a.textAreaValue}))}d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={generalIssue:null,feedbackMessage:null,specificIssues:null},this.$1=function(){this.props.rating!=null&&b("RTCCallActions").submitRating(this.props.rating),this.props.onDone()}.bind(this),this.$2=function(){this.props.rating!=null&&b("RTCCallActions").submitRating(this.props.rating),this.state.feedbackMessage&&b("RTCCallActions").submitFeedback(this.state.feedbackMessage),this.state.specificIssues?b("RTCCallActions").submitSurveyChoice(this.state.specificIssues):this.state.generalIssue&&b("RTCCallActions").submitSurveyChoice(this.state.generalIssue.toLowerCase()),this.props.onDone()}.bind(this),c}a.prototype.render=function(){return b("React").createElement("section",null,b("React").createElement(b("RTCDialog.react"),{height:447,hideOnEscape:!1,label:"Video call feedback",layerHideOnBlur:!1,width:544},b("React").createElement(j,{onCancel:this.$1,onSubmit:this.$2,submitEnabled:this.state.feedbackMessage!=null&&this.state.feedbackMessage.length>0}),b("React").createElement(n,{generalIssueOnChange:function(a){return this.setState({generalIssue:a})}.bind(this),generalIssueValue:this.state.generalIssue,isAudioCall:this.props.isAudioCall,specificIssuesOnChange:function(a){return this.setState({specificIssues:a})}.bind(this),specificIssuesValue:this.state.specificIssues,textAreaOnChange:function(a){return this.setState({feedbackMessage:a.target.value})}.bind(this),textAreaValue:this.state.feedbackMessage})))};e.exports=a}),null);
__d("RTCTextButton.react",["cx","AbstractButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"_5lc4")},a))};e.exports=a}),null);
__d("RTCStarRating.react",["cx","fbt","React","RTCCallActions","RTCCallStore","RTCFeedbackView.react","RTCStarRatingInput.react","RTCTextButton.react","RTWebLoggingComponent","RTWebLoggingSurface","RTWebStrings","RTWebUserActionLogger","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("React").PureComponent;function j(a){return b("React").createElement("p",{className:a.isConfirmed?"_66tb":"_4a-c"},a.ratingText)}c=babelHelpers.inherits(k,a);i=c&&c.prototype;function k(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={confirmedRating:null,previewRating:null,promptFeedback:!1},this.$3=function(a){this.setState({previewRating:a})}.bind(this),this.$2=function(a){b("RTWebUserActionLogger").logClick({callID:b("RTCCallStore").getState().callInfo.callID,component:b("RTWebLoggingComponent").STAR_RATING,conferenceName:b("RTCCallStore").getState().callInfo.conferenceName,surface:b("RTWebLoggingSurface").STAR_RATING_SURFACE}),this.setState({confirmedRating:a})}.bind(this),this.$5=function(){b("RTWebUserActionLogger").logClick({callID:b("RTCCallStore").getState().callInfo.callID,component:b("RTWebLoggingComponent").NOT_NOW,conferenceName:b("RTCCallStore").getState().callInfo.conferenceName,surface:b("RTWebLoggingSurface").STAR_RATING_SURFACE}),this.props.onDone(),this.props.shouldCloseWindow&&window.close()}.bind(this),this.$6=function(){__p&&__p();b("RTWebUserActionLogger").logClick({callID:b("RTCCallStore").getState().callInfo.callID,component:b("RTWebLoggingComponent").SUBMIT_FEEDBACK,conferenceName:b("RTCCallStore").getState().callInfo.conferenceName,surface:b("RTWebLoggingSurface").STAR_RATING_SURFACE});if(this.state.confirmedRating!=null){if(this.state.confirmedRating<=2){this.setState({promptFeedback:!0});return}b("RTCCallActions").submitRating(this.state.confirmedRating)}this.props.onDone();this.props.shouldCloseWindow&&window.close()}.bind(this),c}k.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callID:b("RTCCallStore").getState().callInfo.callID,component:b("RTWebLoggingComponent").STAR_RATING,conferenceName:b("RTCCallStore").getState().callInfo.conferenceName,surface:b("RTWebLoggingSurface").STAR_RATING_SURFACE}),window.setTimeout(function(){return b("RTCCallActions").ratingShown()})};k.prototype.render=function(){return this.state.promptFeedback?b("React").createElement(b("RTCFeedbackView.react"),{isAudioCall:this.props.isAudioCall,onDone:this.props.onDone,rating:this.state.confirmedRating}):b("React").createElement("section",{className:"_4a-a","data-testid":b("VideoCallWebDriverIDs").STAR_RATING_VIEW},this.$1(),b("React").createElement(b("RTCStarRatingInput.react"),{className:"_4a-b",onClick:this.$2,onHover:this.$3,rating:this.state.previewRating||this.state.confirmedRating}),b("React").createElement(j,{isConfirmed:this.state.confirmedRating!=null&&(this.state.previewRating==null||this.state.previewRating==this.state.confirmedRating),ratingText:k.SelectedRatingLabelText(this.state.previewRating||this.state.confirmedRating)}),this.$4())};k.prototype.$1=function(){var a=this.props.isAudioCall?h._("Please rate the quality of your audio call"):h._("Please rate the quality of your video call");return b("React").createElement("p",{className:"_4a-d"},a)};k.prototype.$4=function(){var a=this.props,c=a.isAudioCall;a=a.isGroupCall;return this.state.confirmedRating===null?b("React").createElement(b("RTCTextButton.react"),{className:"_4a-e hollow"+(!c&&!a?" white":"")+(c||a?" blue":""),"data-testid":b("VideoCallWebDriverIDs").STAR_RATING_NOT_NOW_BUTTON,label:b("RTWebStrings").notNow,onClick:this.$5}):b("React").createElement(b("RTCTextButton.react"),{className:"_4a-e"+(!c&&!a?" white":"")+(c||a?" blue":""),"data-testid":b("VideoCallWebDriverIDs").STAR_RATING_SUBMIT_BUTTON,label:h._("Submit"),onClick:this.$6})};k.SelectedRatingLabelText=function(a){__p&&__p();var b="";switch(a){case 1:b=h._("Poor");break;case 2:b=h._("Fair");break;case 3:b=h._("Good");break;case 4:b=h._("Very good");break;case 5:b=h._("Excellent");break}return b};k.defaultProps={shouldCloseWindow:!1};e.exports=k}),null);
__d("RTCStarRatingInput.react",["cx","React","RTCStarRating.react","RTCSVGIcon.react","TooltipLink.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;var i="STAR_DATA_ID_";d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={starsShown:null},this.$3=function(){this.setState({starsShown:null}),this.props.onHover(null)}.bind(this),b}a.prototype.render=function(){var a=this.props.rating,c=this.state.starsShown,d=c!=null?c:a||0;c=Array.from({length:this.props.count}).map(function(a,c){return b("React").createElement(b("TooltipLink.react"),{alignH:"center",className:"_2r1w","data-testid":i+c,key:c,onClick:function(){return this.$1(c+1)}.bind(this),onMouseEnter:function(){return this.$2(c+1)}.bind(this),onMouseLeave:this.$3,position:"above"},b("React").createElement(j,{"aria-label":b("RTCStarRating.react").SelectedRatingLabelText(c+1),selected:c<d}))}.bind(this));return b("React").createElement("div",{className:b("joinClasses")("_2r1x",this.props.className)},c)};a.prototype.$2=function(a){this.setState({starsShown:a}),this.props.onHover(a)};a.prototype.$1=function(a){this.props.onClick(a)};a.defaultProps={count:5};var j=function(a){a.className;var c=a.selected;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","selected"]);return b("React").createElement(b("RTCSVGIcon.react"),babelHelpers["extends"]({className:"_2r1y"},a),b("React").createElement("svg",{viewBox:"0 0 25 23"},b("React").createElement("path",{d:"M12.1 1L9.5 9H1l6.9 5-2.7 8 6.9-5 6.8 5-2.6-8 6.8-5h-8.5z",fill:c?"":"none"})))};e.exports=a}),null);
__d("RTCThreadInfo.react",["cx","CurrentUser","MercuryParticipantsConstants","MercuryParticipantsImage.react","MercuryThreadTitle_DEPRECATED.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","RTCCallTitle.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerProfileImageWrapperReact.bs").jsComponent,i=b("MessengerThreadImageReact.bs").jsComponent;a=function(a){var c=a.participants;a=a.thread;return b("React").createElement("div",{className:"_dzr"},a&&a.image_src?b("React").createElement(i,{className:"_dzs",participants:c,size:100,thread:a,viewer:b("CurrentUser").getID()}):b("React").createElement(h,{className:"_4j_j",showBadge:!1,size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE},b("React").createElement(b("MercuryParticipantsImage.react"),{participants:Object.keys(c.toJS()),size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE})),a&&a.name?b("React").createElement(b("MercuryThreadTitle_DEPRECATED.react"),{className:"_dzt",thread:a,viewer:b("CurrentUser").getID()}):b("React").createElement(b("RTCCallTitle.react"),{className:"_dzt",participants:c,viewer:b("CurrentUser").getID()}))};e.exports=a}),null);
__d("RTCMWAppViewContent.react",["cx","fbt","CurrentUser","FBRTCConstants","FBRTCEndCallWarningOverlayContainer.react","FBRTCGroupCallIncallView.react","FBRTCGroupCallStore","FBRTCLogger","FBRTCParticipantCallState","MessengerRTCGroupCallParticipantsPickerDialogController","React","RTCAppViewMain.react","RTCCallConnectionStatus.react","RTCCallState","RTCCallStateInfo.react","RTCConferenceState","RTCGroupCallEscalationStore","RTCGroupCallStateInfo.react","RTCRingBackTone.react","RTCStarRating.react","RTCTextButton.react","RTCThreadInfo.react","RTCUtils","RTWebClientFeatureGating","VideoCallWebDriverIDs","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCConstants").GroupVideoViewLayout,k=b("FBRTCLogger").Trigger;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={wasStarRatingDone:!1},this.$3=function(){this.setState({wasStarRatingDone:!0})}.bind(this),b}a.prototype.render=function(){__p&&__p();var a,c=this.props,d=c.endCallReason,e=c.remoteUsers;c=babelHelpers.objectWithoutPropertiesLoose(c,["endCallReason","remoteUsers"]);switch(this.props.conferenceState){case b("RTCConferenceState").AWAITING_USER_START:var f=h._("Join call"),g=(a=this.props)!=null?(a=a.thread)!=null?(a=a.rtc_call_data)!=null?a.server_info_data:a:a:a,i=(a=this.props)!=null?(a=a.thread)!=null?(a=a.rtc_call_data)!=null?a.call_state:a:a:a;i&&i===b("RTCCallState").NO_ONGOING_CALL&&(f=h._("Start Call"));return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("React").createElement(b("RTCThreadInfo.react"),{participants:this.props.participants,thread:this.props.thread}),b("React").createElement(b("RTCCallConnectionStatus.react"),null,h._("Ready to call?")),b("React").createElement(b("RTCTextButton.react"),{className:"green _2fst","data-testid":b("VideoCallWebDriverIDs").RTC_APP_VIEW_START_CALL_BUTTON,label:f,onClick:function(){return this.$1(i,g)}.bind(this)})));case b("RTCConferenceState").NEW:case b("RTCConferenceState").CONNECTING:case b("RTCConferenceState").CONNECTED:case b("RTCConferenceState").TERMINATING:a=e.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED});f=!(this.props.layout===j.GRID&&b("RTWebClientFeatureGating").fixedHeightGridView());return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:f},b("React").createElement(b("FBRTCGroupCallIncallView.react"),babelHelpers["extends"]({remoteUsers:a},c)),this.props.conferenceState===b("RTCConferenceState").CONNECTING?b("React").createElement(b("RTCRingBackTone.react"),{active:!0}):null,this.$2(),b("React").createElement(b("FBRTCEndCallWarningOverlayContainer.react"),null));case b("RTCConferenceState").TERMINATED:if(this.props.wasConnected&&!b("RTCUtils").isBonfireCall(this.props.conferenceName)&&!this.state.wasStarRatingDone)return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("RTCStarRating.react"),{isAudioCall:!b("FBRTCGroupCallStore").hadVideoDuration(),isGroupCall:!0,onDone:this.$3}));else return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},this.$2(d?d.toString():null));default:return null}};a.prototype.$2=function(a){var c=b("RTCGroupCallEscalationStore").getState();c=c.p2pCallSummary;c=c?c.getConnectedStartTime():0;return b("React").createElement(b("RTCGroupCallStateInfo.react"),babelHelpers["extends"]({callMessage:a,initialStartTime:c},this.props))};a.prototype.$1=function(a,c){a=a!==b("RTCCallState").NO_ONGOING_CALL;a?this.props.onStartCallClick(this.props.remoteUsers.toArray().map(function(a){return a.FBID}),k.MULTIWAY_POPUP_START_CALL_BUTTON):b("MessengerRTCGroupCallParticipantsPickerDialogController").render({conferenceName:this.props.conferenceName,handleCall:function(a){return this.props.onStartCallClick(a,k.MULTIWAY_POPUP_START_CALL_BUTTON,c)}.bind(this),hasVideo:!0,participants:this.props.participants.filter(function(a){a=a.fbid;return a!==b("CurrentUser").getID()}),thread:this.props.thread,trigger:k.MULTIWAY_POPUP_START_CALL_BUTTON,viewerID:b("CurrentUser").getID()})};e.exports=a}),null);
__d("RTCElementResizeListener.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$3=function(a){this.$1=a&&a.getDOMNode?a.getDOMNode():a}.bind(this),this.$4=function(a){a&&a.contentWindow?a.contentWindow.addEventListener("resize",this.$5,!1):this.$2&&this.$2.contentWindow&&this.$2.contentWindow.removeEventListener("resize",this.$5,!1),this.$2=a}.bind(this),this.$5=i(function(a){a=a.target;var b=this.props.onResize;b&&a&&b({height:a.innerHeight,width:a.innerWidth})}.bind(this),32),b}a.prototype.getDOMNode=function(){return this.$1};a.prototype.render=function(){var a=this.props,c=a.children,d=a.className,e=a.component,f=a.onResize;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","component","onResize"]);return b("React").createElement(e,babelHelpers["extends"]({className:b("joinClasses")("_3u0-",d),ref:this.$3},a),c,f?b("React").createElement("iframe",{className:"_3u11",ref:this.$4}):null)};a.prototype.componentDidMount=function(){this.$2&&this.$5({target:this.$2.contentWindow})};a.prototype.componentDidUpdate=function(a){var b=this.props.onResize;this.$2&&b&&b!==a.onResize&&this.$5({target:this.$2.contentWindow})};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.contentWindow&&this.$2.contentWindow.removeEventListener("resize",this.$5,!1),this.$5.cancel()};a.defaultProps={component:"div"};function i(a,b){var c=0,d=null,e=function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=Date.now();c&&h<c+b?(window.clearTimeout(d),d=window.setTimeout(function(){c=h,a.apply(void 0,f)},b)):(c=h,a.apply(void 0,f))};e.cancel=function(){return window.clearTimeout(d)};return e}e.exports=a}),null);
__d("RTCAppViewFooter.react",["cx","React","RTCElementResizeListener.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").createElement(b("RTCElementResizeListener.react"),babelHelpers["extends"]({className:b("joinClasses")("_u0t",d),component:"footer"},a),c)};e.exports=a}),null);
__d("RTCUserActivityProvider.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("React").Children;c=b("React").PureComponent;var i=500;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.$2=j(function(){window.clearTimeout(this.$1),this.props.onActive(),this.$1=window.setTimeout(this.props.onIdle,this.props.idleDelay)}.bind(this),i),b}a.prototype.render=function(){return h.only(this.props.children)};a.prototype.componentDidMount=function(){window.addEventListener("mousemove",this.$2),window.addEventListener("keydown",this.$2),this.$2()};a.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.$2),window.removeEventListener("keydown",this.$2),window.clearTimeout(this.$1),this.$2.cancel()};a.defaultProps={idleDelay:3e3};function j(a,b){__p&&__p();b===void 0&&(b=100);var c=0,d=null,e=function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=Date.now(),i=function(){c=h,a.apply(void 0,f)};c&&h<c+b?(window.clearTimeout(d),d=window.setTimeout(i,b)):i()};e.cancel=function(){return window.clearTimeout(d)};return e}e.exports=a}),null);
__d("RTCCallControls.react",["cx","React","RTCElementResizeListener.react","RTCUserActivityProvider.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={hasFocus:!1,isMouseActive:!0},this.$6=function(a){this.$1=a&&a.getDOMNode?a.getDOMNode():a}.bind(this),this.$2=function(){this.setState({isMouseActive:!0}),this.$7(!0)}.bind(this),this.$3=function(){this.setState({isMouseActive:!1}),this.$7(!1)}.bind(this),this.$5=function(){this.setState({hasFocus:!0})}.bind(this),this.$4=function(){this.setState({hasFocus:!1})}.bind(this),b}a.prototype.getDOMNode=function(){return this.$1};a.prototype.render=function(){var a=this.props,c=a.children,d=a.className,e=a.compact;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","compact"]);return b("React").createElement(b("RTCUserActivityProvider.react"),{onActive:this.$2,onIdle:this.$3},b("React").createElement(b("RTCElementResizeListener.react"),babelHelpers["extends"]({className:b("joinClasses")("_2eaq"+(e?" compact":"")+(!this.props.autoHide||this.state.isMouseActive||this.state.hasFocus?" visible":""),d),component:"section",onBlur:this.$4,onFocus:this.$5,ref:this.$6},a),c))};a.prototype.$7=function(a){this.props.onUpdateVisibility&&this.props.onUpdateVisibility(a)};a.defaultProps={autoHide:!0,compact:!1};e.exports=a}),null);
__d("RTCCallControlsButtonWithLabel.react",["cx","React","RTCAbstractButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=babelHelpers["extends"]({},this.props);return b("React").createElement("div",{className:"_6-lr"},b("React").createElement(b("RTCAbstractButton.react"),babelHelpers["extends"]({"data-hover":"none",labelIsHidden:!0},a)),b("React").createElement("div",{className:"_6-ls"},this.props.title))};function a(){h.apply(this,arguments)}a.defaultProps={highlighted:!1,disabled:!1,labelIsHidden:!0,shouldThrottle:!0};e.exports=a}),null);
__d("RTCCallControlsCloseWindowButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCCallControlsButtonWithLabel.react","RTCUIXIcon.react","RTWebStrings","VideoCallWebDriverIDs","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){var c=a.className;a=a.label;return b("React").createElement(i,{className:b("joinClasses")("closeWindow icon-48",c),label:(c=a)!=null?c:b("RTWebStrings").close,onClick:function(){return window.close()}},b("React").createElement(b("RTCUIXIcon.react"),null))};var i=function(a){var c=a.children,d=a.className,e=a.label;a=a.onClick;return e!=null?b("React").createElement(b("RTCCallControlsButtonWithLabel.react"),{className:d,"data-testid":b("VideoCallWebDriverIDs").CLOSE_CALL_WINDOW_BUTTON,onClick:a,title:e},c):b("React").createElement(b("RTCCallControlsButton.react"),{className:d,"data-testid":b("VideoCallWebDriverIDs").CLOSE_CALL_WINDOW_BUTTON,onClick:a,title:e},c)};e.exports=a}),null);
__d("RTCUIPhoneIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.variant;c=c===void 0?"start call":c;a=babelHelpers.objectWithoutPropertiesLoose(a,["variant"]);return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 48 48"},c==="start call"?b("React").createElement("path",{d:"M32.3 33.3c-4.2 3.5-12.6-4.7-12.8-4.9C19.4 28.3 10.9 20 14.5 15.9C17.2 12.8 17.9 14 18.3 14.3c.3 .3 2.9 4 3 4.7C21.5 19.7 20 21.5 20 22.1c.1 .6 1.8 2.5 2.6 3.3c.7 .7 2.7 2.4 3.3 2.5c.6 .1 2.4-1.4 3.1-1.3c.8 .1 4.5 2.7 4.8 3C34.2 29.9 35.4 30.7 32.3 33.3"}):b("React").createElement("path",{d:"M12.054 24.58C12.52 19.102 24.34 19.002 24.54 19c.202 0 12.024-.1 12.408 5.37.284 4.048-1.092 3.74-1.56 3.778-.41.033-4.823-.767-5.452-1.19-.63-.422-.785-2.703-1.293-3.094-.507-.39-3.092-.51-4.134-.502-1.043.01-3.63.174-4.143.572-.513.4-.702 2.683-1.337 3.117-.636.434-5.062 1.31-5.47 1.283-.47-.03-1.85.3-1.506-3.753"})))};e.exports=a}),null);
__d("RTCCallControlsEndCallButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCCallStore","RTCHotKeys","RTCHotKeysConfig","RTCUIPhoneIcon.react","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RTCHotKeysConfig").RTCHotKey;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$3=function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").END_CALL,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),this.props.onClick&&this.props.onClick()}.bind(this),this.$2=function(){window.confirm(h._("Do you want to end the call?"))&&this.$3()}.bind(this),c}a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({component:b("RTWebLoggingComponent").END_CALL,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),this.$1=b("RTCHotKeys").register(j.END_CALL,this.$2)};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove()};a.prototype.render=function(){return b("React").createElement(b("RTCCallControlsButton.react"),{className:b("joinClasses")("opaque endCall icon-48",this.props.className),"data-testid":b("VideoCallWebDriverIDs").END_CALL_BUTTON,disabled:this.props.disabled,onClick:this.$3,title:h._("End Call")},b("React").createElement(b("RTCUIPhoneIcon.react"),{variant:"end call"}))};e.exports=a}),null);
__d("RTCUIRosterIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 48 48"},b("React").createElement("g",{fill:"#FFF",fillRule:"evenodd",transform:"translate(10,15)"},b("React").createElement("path",{d:"M12.0397252 10.1507178C9.4028632 11.3245347 9.2968031 11.7159947 8.9 16.2H.8c.4401-4.6603407.4806-4.0497794 4.92705-5.9486324.20385-.3271673.25515-.8143332.29295-.9516907l.29205-.0671693c.36135-2.3214911-.10845-.2150926-.71235-2.7648838-.0189.0090565-.03645.0132074-.05265.0132074-.1737 0-.2097-.4799962-.2826-.8486725-.07965-.4030157-.13185-.7177303.28935-.7177303-.09135-1.560365-.3663-2.4769616.6561-3.250163C7.5257.6691787 8.9.6017457 8.9.6017457c.0666 0 1.9971-.0921882 2.7603 1.0632744.9657.7803712.68445 1.6890433.59445 3.2494083.4221 0 .3555.3147145.27585.7177302-.0729.3686764-.1089.8486726-.2826.8486726-.01665 0-.0342-.0041509-.05265-.0132074-.603 2.5497912-1.04715.4433927-.6858 2.7648838l.2925.0671693c.0344895.1238534.079955.5321146.2376752.8510409z"}),b("React").createElement("path",{d:"M16.2099 1.6642653c-1.0224.7732015-.74745 1.689798-.6561 3.2501631-.4212 0-.369.3147145-.28935.7177302.0729.3686764.1089.8486726.2826.8486726.0162 0 .03375-.0041509.05265-.0132074.6039 2.5497912 1.0737.4433927.71235 2.7648838L16.02 9.299677c-.0378.1373575-.0891.6245234-.29295.9516907C11.2806 12.1502206 11.2401 11.5396593 10.8 16.2H27c-.44145-4.6603407-.45945-4.0497794-4.90455-5.9486324-.2034-.3271673-.25515-.8143332-.2934-.9516907l-.2925-.0671693c-.36135-2.3214911.0828-.2150926.6858-2.7648838.01845.0090565.036.0132074.05265.0132074.1737 0 .2097-.4799962.2826-.8486725.07965-.4030157.14625-.7177303-.27585-.7177303.09-1.560365.37125-2.4690371-.59445-3.2494083C20.8971.5095575 18.9666.6017457 18.9.6017457c0 0-1.3743.0674331-2.6901 1.0625197z"}))))}e.exports=a}),null);
__d("RTCCallControlsParticipantsRosterButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCGroupCallDialogController","RTCUIRosterIcon.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return b("React").createElement(b("RTCCallControlsButton.react"),{className:"semiopaque icon-48",onClick:i,title:h._("Show participants in this call")},b("React").createElement(b("RTCUIRosterIcon.react"),null))}function i(){b("RTCGroupCallDialogController").showParticipantsRoster()}e.exports=a}),null);
__d("RTCUIMicrophoneIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1="",this.$2=function(a){a&&(this.$1=a.getURL(),this.forceUpdate())}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.shadow,d=a.strikeThrough;a=babelHelpers.objectWithoutPropertiesLoose(a,["shadow","strikeThrough"]);return c?b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 48 48"},b("React").createElement("defs",null,b("React").createElement(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})),b("React").createElement("g",{filter:this.$1},d?b("React").createElement(h,null):b("React").createElement(i,null)))):b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 48 48"},d?b("React").createElement(h,null):b("React").createElement(i,null)))};a.defaultProps={shadow:!1,strikeThrough:!1};var h=function(){return b("React").createElement("path",{d:"M25 31c.7-.1 1.3-.3 1.9-.6l-.5-.9c-.6.3-1.2.5-1.9.5-2.5 0-4.5-2.2-4.5-5v-5h-1v5.2c0 3.1 2.2 5.6 5 5.8v3h-3v1h7v-1h-3v-3zm-.5-2c.5 0 1-.1 1.4-.3L21 20.6v4.9c0 1.9 1.6 3.5 3.5 3.5zm-5.8-16l-.9.5L30.3 34l.9-.5L18.7 13zM30 25.2V20h-1v5c0 .8-.2 1.6-.5 2.2l.6 1c.6-.8.9-1.9.9-3zm-2 .3v-9c0-1.9-1.6-3.5-3.5-3.5-1.5 0-2.7.9-3.2 2.2L28 26.3v-.8z"})},i=function(){return b("React").createElement("path",{d:"M29 20v5c0 2.7-2 5-4.5 5S20 27.8 20 25v-5h-1v5.2c0 3.1 2.2 5.6 5 5.8v3h-3v1h7v-1h-3v-3c2.8-.3 5-2.8 5-5.8V20h-1zm-4.5 9c1.9 0 3.5-1.6 3.5-3.5v-9c0-1.9-1.6-3.5-3.5-3.5S21 14.6 21 16.5v9c0 1.9 1.6 3.5 3.5 3.5z"})};e.exports=a}),null);
__d("RTCCallControlsToggleAudioButton.react",["cx","fbt","React","RTCCallActions","RTCCallControlsButton.react","RTCHotKeys","RTCHotKeysConfig","RTCUIM4MicrophoneIcon.react","RTCUIMicrophoneIcon.react","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RTCHotKeysConfig").RTCHotKey;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").TOGGLE_AUDIO,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),b("RTCCallActions").toggleMuteAudio(this.props.audioMuted)}.bind(this),c}a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({component:b("RTWebLoggingComponent").TOGGLE_AUDIO,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),this.$1=b("RTCHotKeys").register(j.TOGGLE_MUTE_AUDIO,this.$2)};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove()};a.prototype.render=function(){var a=this.props,c=a.audioMuted,d=a.className,e=a.disabled;a=a.isM4;return b("React").createElement(b("RTCCallControlsButton.react"),{className:b("joinClasses")(d,"semiopaque icon-48"),"data-testid":b("VideoCallWebDriverIDs").TOGGLE_AUDIO_BUTTON,disabled:e,highlighted:c,onClick:this.$2,title:c?h._("Unmute your microphone"):h._("Mute your microphone")},a===!0?b("React").createElement(b("RTCUIM4MicrophoneIcon.react"),{strikeThrough:c||e}):b("React").createElement(b("RTCUIMicrophoneIcon.react"),{strikeThrough:c||e}))};e.exports=a}),null);
__d("RTCUICameraIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.strikeThrough;c=c===void 0?!1:c;a=babelHelpers.objectWithoutPropertiesLoose(a,["strikeThrough"]);return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 48 48"},c?b("React").createElement("path",{d:"M36 29h1V19h-1v10zm-6-2.727L35 29V19l-5 2.727v4.546zM19.344 17H26c1.126 0 2 .938 2 2v10c0 .54-.225 1.047-.595 1.415L19.345 17zm-3.5 0H15c-1.126 0-2 .938-2 2v10c0 1.062.874 2 2 2h9.257l-8.413-14zm11.408 17.044l.857-.516-12.362-20.572-.857.516 12.362 20.572z"}):b("React").createElement("path",{d:"M26 17H15c-1.126 0-2 .938-2 2v10c0 1.062.874 2 2 2h11c1.126 0 2-.938 2-2V19c0-1.062-.874-2-2-2zm10 12h1V19h-1v10zm-6-2.727L35 29V19l-5 2.727v4.546z"})))};e.exports=a}),null);
__d("RTCCallControlsVideoButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCUICameraIcon.react","RTCUIM4VideoCameraIcon.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.className,d=a.disabled;d=d===void 0?!1:d;var e=a.onClick,f=a.nodeRef,g=a.videoMuted;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","disabled","onClick","nodeRef","videoMuted"]);return b("React").createElement(b("RTCCallControlsButton.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"semiopaque icon-48"),disabled:d,highlighted:g,onClick:e,ref:f,title:g?h._("Enable your Video"):h._("Disable Your Video")},a),a.isM4===!0?b("React").createElement(b("RTCUIM4VideoCameraIcon.react"),{strikeThrough:g||d}):b("React").createElement(b("RTCUICameraIcon.react"),{strikeThrough:g||d}))};e.exports=a}),null);
__d("RTCCallControlsToggleVideoButton.react",["React","RTCCallActions","RTCCallControlsButton.react","RTCCallControlsVideoButton.react","RTCHotKeys","RTCHotKeysConfig","RTCP2PCallStore","RTCP2PProtocolHandler","RTWebClientFeatureGating","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RTCHotKeysConfig").RTCHotKey;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=!0,this.$3=function(){!this.props.initializeVideo&&this.$1&&!b("RTWebClientFeatureGating").stopVideoWhenMute()&&(i(),this.$1=!1),b("RTWebUserActionLogger").logClick({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").TOGGLE_VIDEO,conferenceState:this.props.conferenceState,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),this.props.onToggle?this.props.onToggle(this.props.videoMuted):b("RTCCallActions").toggleMuteVideo(this.props.videoMuted)}.bind(this),c}a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").TOGGLE_VIDEO,conferenceState:this.props.conferenceState,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),this.$2=b("RTCHotKeys").register(h.TOGGLE_VIDEO,this.$3)};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.remove()};a.prototype.render=function(){return b("React").createElement(b("RTCCallControlsVideoButton.react"),{className:this.props.className,"data-testid":b("VideoCallWebDriverIDs").TOGGLE_VIDEO_BUTTON,disabled:this.props.disabled,isM4:this.props.isM4,nodeRef:this.props.nodeRef,onClick:this.$3,videoMuted:this.props.videoMuted})};function i(){var a=b("RTCP2PCallStore").getState(),c=a.protocolHandler;return b("RTCP2PProtocolHandler").initStream(!0).then(function(a){c.startLocalVideoTracker(a);return a}).then(function(a){b("RTCP2PProtocolHandler").replaceLocalStream(a);return a})["catch"](function(a){})}e.exports=a}),null);
__d("RTCCallControlsVideoEscalationButton.react",["React","RTCCallControlsVideoButton.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.disabled;c=c===void 0?!1:c;var d=a.videoMuted;d=d===void 0?!0:d;a=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","videoMuted"]);return b("React").createElement(b("RTCCallControlsVideoButton.react"),{"data-testid":b("VideoCallWebDriverIDs").ESCALATE_CALL_BUTTON,disabled:c,isM4:a.isM4,onClick:a.onClick,videoMuted:d})};e.exports=a}),null);
__d("RTCGroupCallRemoteViewThumbnail.react",["cx","FBRTCVideo.react","Image.react","React","RTCRemoteViewPopoverMenuButton.react","RTCSVGIcon.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.isDominantSpeaker,d=a.isPinnedSpeaker,e=a.onClick;a=a.user;return b("React").createElement("div",{className:"_30dp"+(c?" dominant":""),"data-testid":b("VideoCallWebDriverIDs").REMOTE_VIEW_THUMBNAIL+a.FBID,onClick:e},b("React").createElement("div",{className:"_30dq"},b("React").createElement(b("RTCRemoteViewPopoverMenuButton.react"),{user:a})),d?b("React").createElement("div",null,b("React").createElement(b("RTCSVGIcon.react"),{className:"_5-vf"},b("React").createElement("svg",{viewBox:"0 0 36 36"},b("React").createElement("path",{d:"M0 0h32a4 4 0 0 1 4 4v32"}))),b("React").createElement(b("RTCSVGIcon.react"),{className:"_5-vg"},b("React").createElement("svg",{viewBox:"0 0 19 19"},b("React").createElement("path",{d:"M2.5 6.65h13a1 1 0 0 1 1 1v9.637a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V7.65a1 1 0 0 1 1-1M9.192 0h.616a4 4 0 0 1 4 4v.313a4 4 0 0 1-.754 2.337H5.946a4 4 0 0 1-.754-2.337V4a4 4 0 0 1 4-4m0 1h.616a3 3 0 0 1 3 3v.313a3 3 0 0 1-1.12 2.337H7.312a3 3 0 0 1-1.12-2.337V4a3 3 0 0 1 3-3",fillRule:"evenodd"})))):null,c||a.isVideoMuted()?b("React").createElement(b("Image.react"),{src:a.profilePictureUrl}):b("React").createElement(b("FBRTCVideo.react"),{mediaStream:a.getStream()}))};e.exports=a}),null);
__d("RTCGroupCallRemoteView.react",["cx","FBRTCGroupCallStore","FluxContainer","React","RTCGroupCallActions","RTCGroupCallDraggableComponent.react","RTCGroupCallRemoteViewThumbnail.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();d=function(a){var c=a.dominantSpeakerFBID,d=a.pinnedSpeakerFBID;a=a.remoteUsers;return b("React").createElement(b("RTCGroupCallDraggableComponent.react"),{className:"_1qwn"},a.map(function(a){return b("React").createElement(b("RTCGroupCallRemoteViewThumbnail.react"),{isDominantSpeaker:a.FBID===(d||c),isPinnedSpeaker:a.FBID===d,key:a.FBID,onClick:function(){a.FBID===d?b("RTCGroupCallActions").setPinnedSpeaker(null):b("RTCGroupCallActions").setPinnedSpeaker(a.FBID)},user:a})}))};function a(){return[b("FBRTCGroupCallStore")]}function c(a,c){a===void 0&&({});a=b("FBRTCGroupCallStore").getState();var d=a.dominantSpeakerFBID;a=a.pinnedSpeakerFBID;return babelHelpers["extends"]({dominantSpeakerFBID:d,pinnedSpeakerFBID:a},c)}e.exports=b("FluxContainer").createFunctional(d,a,c,{withProps:!0})}),null);
__d("RTCInCallFeaturesUtils",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({NO_CORNER:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4});a={BOUNDING_BOX_MARGIN:10,SETTINGS_HEIGHT:40,SELF_VIEW_WIDTH:178,SELF_VIEW_HEIGHT:100,SNAP_DISTANCE:100,Corners:g,getCornerPosition:function(a,b,c){switch(c){case g.TOP_LEFT:return{offsetLeft:0+this.BOUNDING_BOX_MARGIN,offsetTop:0+this.BOUNDING_BOX_MARGIN+this.SETTINGS_HEIGHT};case g.TOP_RIGHT:return{offsetLeft:a-this.SELF_VIEW_WIDTH-this.BOUNDING_BOX_MARGIN,offsetTop:0+this.BOUNDING_BOX_MARGIN+this.SETTINGS_HEIGHT};case g.BOTTOM_RIGHT:return{offsetLeft:a-this.SELF_VIEW_WIDTH-this.BOUNDING_BOX_MARGIN,offsetTop:b-this.SELF_VIEW_HEIGHT-this.BOUNDING_BOX_MARGIN};case g.BOTTOM_LEFT:return{offsetLeft:0+this.BOUNDING_BOX_MARGIN,offsetTop:b-this.SELF_VIEW_HEIGHT-this.BOUNDING_BOX_MARGIN};default:return null}},snapToCorner:function(a,b,c){__p&&__p();if(a.offsetLeft<this.SNAP_DISTANCE&&a.offsetTop<this.SNAP_DISTANCE+this.SETTINGS_HEIGHT){var d=this.getCornerPosition(b,c,g.TOP_LEFT);d.snappedCorner=g.TOP_LEFT;return d}if(a.offsetLeft>b-this.SELF_VIEW_WIDTH-this.SNAP_DISTANCE&&a.offsetTop<this.SNAP_DISTANCE+this.SETTINGS_HEIGHT){d=this.getCornerPosition(b,c,g.TOP_RIGHT);d.snappedCorner=g.TOP_RIGHT;return d}if(a.offsetLeft>b-this.SELF_VIEW_WIDTH-this.SNAP_DISTANCE&&a.offsetTop>c-this.SELF_VIEW_HEIGHT-this.SNAP_DISTANCE){d=this.getCornerPosition(b,c,g.BOTTOM_RIGHT);d.snappedCorner=g.BOTTOM_RIGHT;return d}if(a.offsetLeft<this.SNAP_DISTANCE&&a.offsetTop>c-this.SELF_VIEW_HEIGHT-this.SNAP_DISTANCE){d=this.getCornerPosition(b,c,g.BOTTOM_LEFT);d.snappedCorner=g.BOTTOM_LEFT;return d}return{offsetLeft:a.offsetLeft,offsetTop:a.offsetTop,snappedCorner:this.Corners.NO_CORNER}}};e.exports=a}),null);
__d("RTCSelfViewAnimationConfig",[],(function(a,b,c,d,e,f){"use strict";a={stiffness:200,damping:25};e.exports={springConfig:a}}),null);
__d("RTCSelfViewTile.react",["cx","React","ReactMotion","RTCElementResizeListener.react","RTCSelfViewAnimationConfig","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ReactMotion").Motion,j=b("ReactMotion").spring,k=b("RTCSelfViewAnimationConfig").springConfig;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={width:0},this.$1=function(a){this.setState({width:a.width})}.bind(this),b}a.prototype.render=function(){return b("React").createElement(i,{defaultStyle:{x:0},style:{x:j(this.state.width-l(this.props,this.state),k)}},function(a){return b("React").createElement("div",{className:b("joinClasses")("_drs"+(this.props.focused?" focused":"")+(this.props.hovered?" hovered":""),this.props.className),style:babelHelpers["extends"]({width:l(this.props,this.state)},this.props.style)},b("React").createElement("div",{className:"_drt",style:{width:this.state.width}},b("React").createElement(b("RTCElementResizeListener.react"),{className:"_dru",onResize:this.$1,style:{transform:"translateX("+a.x+"px)"}},this.props.children)),b("React").createElement("button",{className:"_drv",onClick:this.props.onClick}))}.bind(this))};a.prototype.componentDidUpdate=function(a,b){var c=l(this.props,this.state);c!==l(a,b)&&this.props.onResize({width:c,height:0})};a.defaultProps={collapsed:!1,focused:!1,hovered:!1};function l(a,b){return a.collapsed?a.focused||a.hovered?30:22:b.width}e.exports=a}),null);
__d("RTCSelfViewTileLayer.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className,e=a.renderBackground;e=e===void 0?!1:e;var f=a.visible;f=f===void 0?!0:f;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","renderBackground","visible"]);return b("React").createElement("div",babelHelpers["extends"]({className:b("joinClasses")("_drw"+(f?" _drx":"")+(e?" _dry":""),d)},a),c)};e.exports=a}),null);
__d("RTCSelfViewCameraStream.react",["cx","fbt","CssBackgroundImage.react","FBRTCExperiment","Image.react","React","RTCSelfViewTile.react","RTCSelfViewTileLayer.react","RTCSVGIcon.react","RTCUIMicrophoneIcon.react","RTCUIVideo.react","RTWebClientFeatureGating","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.collapsed,d=a.focused,e=a.isCollapsible,f=a.isFilterMode,g=a.hovered,i=a.user;a=babelHelpers.objectWithoutPropertiesLoose(a,["collapsed","focused","isCollapsible","isFilterMode","hovered","user"]);var j=i.isAudioMuted(),k=i.getStream(),l=i.isVideoMuted();return b("React").createElement(b("RTCSelfViewTile.react"),{className:a.className,collapsed:c,focused:d,hovered:g,onClick:a.onClick,onResize:a.onResize,style:a.style},b("React").createElement(b("RTCUIVideo.react"),{className:"_88q"+(i.isVideoMuted()||k==null?" muted":""),"data-testid":b("VideoCallWebDriverIDs").RTC_SELF_VIEW,mirror:!0,muted:!0,onReady:a.onVideoReady,stream:k}),b("React").createElement(b("RTCSelfViewTileLayer.react"),{renderBackground:j||l,visible:l},b("RTWebClientFeatureGating").callUnification()?b("React").createElement(b("CssBackgroundImage.react"),{backgroundPosition:"center center",className:"_6qn8",height:"100%",imageURI:i.profilePictureUrl,width:"100%"}):null,b("React").createElement(b("Image.react"),{alt:h._("Profile picture"),className:"_6m1b",src:i.profilePictureUrl})),b("RTWebClientFeatureGating").useNewMuteIcon()?b("React").createElement(b("RTCSelfViewTileLayer.react"),{renderBackground:!1,visible:j},b("React").createElement(b("RTCUIMicrophoneIcon.react"),{className:"_drz _7do8",shadow:!0,strikeThrough:!0}),j?b("FBRTCExperiment").getNewMuteIconLayoutExperiments().logExposure():null):b("React").createElement(b("RTCSelfViewTileLayer.react"),{renderBackground:!l,visible:j},b("React").createElement(b("RTCUIMicrophoneIcon.react"),{className:"_drz _6m1d",shadow:!0,strikeThrough:!0}),j?b("FBRTCExperiment").getNewMuteIconLayoutExperiments().logExposure():null),f||!e?null:b("React").createElement(b("RTCSelfViewTileLayer.react"),{renderBackground:d||g},b("React").createElement(b("RTCSVGIcon.react"),null,b("React").createElement("svg",{className:"_drz _dr_",viewBox:"0 0 8 28"},b("React").createElement("path",{d:c?"M6 2L2 14L6 26":"M2 2L6 14L2 26",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3})))))};e.exports=a}),null);
__d("RTCSelfViewScreenStream.react",["cx","fbt","FBRTCVideo.react","React","RTCSelfViewTile.react","RTCSelfViewTileLayer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(){var a=this.props.user.getScreenStream();if(!a||!this.props.onStopSharing)return;this.props.onStopSharing(a)}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.focused,d=a.hovered;a=a.user;a=a.getScreenStream();return!a?null:b("React").createElement(b("RTCSelfViewTile.react"),{focused:c,hovered:d,onClick:this.$1,onResize:this.props.onResize,style:this.props.style},b("React").createElement(b("FBRTCVideo.react"),{className:"_88q",mediaStream:a,muted:!0}),this.props.onStopSharing!=null?b("React").createElement(b("RTCSelfViewTileLayer.react"),{renderBackground:!0,visible:c||d},b("React").createElement("span",{className:"_dr-"},h._("Stop"))):null)};e.exports=a}),null);
__d("RTCUIExpressionsIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 36 36"},b("React").createElement("defs",null,b("React").createElement("filter",{id:"a",width:"169%",height:"165.5%",x:"-34.5%",y:"-24.1%",filterUnits:"objectBoundingBox"},b("React").createElement("feOffset",{dy:"2","in":"SourceAlpha",result:"shadowOffsetOuter1"}),b("React").createElement("feGaussianBlur",{"in":"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"2"}),b("React").createElement("feColorMatrix",{"in":"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"}),b("React").createElement("feMerge",null,b("React").createElement("feMergeNode",{"in":"shadowMatrixOuter1"}),b("React").createElement("feMergeNode",{"in":"SourceGraphic"})))),b("React").createElement("g",{fill:"none",fillRule:"evenodd",filter:"url(#a)",transform:"translate(5)"},b("React").createElement("path",{d:"M11.40061293 3.9017668l5.4259751 6.2797418 8.11984779-.9354691-4.1463352 7.13037962 3.45892004 7.57303275-7.98836523-1.87243905-5.98190777 5.61576242-.7910037-8.28789878-7.15602142-4.10192228 7.49972902-3.2497839z",stroke:"#FFF",strokeWidth:"2"}),b("React").createElement("circle",{cx:"2.63636364",cy:"23.7272727",r:"2.63636364",stroke:"#FFF",strokeWidth:"2"}),b("React").createElement("circle",{cx:"4.39393939",cy:"7.03030303",fill:"#FFF",r:"1.75757576"}),b("React").createElement("circle",{cx:"18.4545455",cy:"27.2424242",fill:"#FFF",r:"1"}),b("React").createElement("circle",{cx:"26.3636364",cy:"15.8181818",fill:"#FFF",r:"1"}),b("React").createElement("circle",{cx:"21.0909091",cy:"5.27272727",fill:"#FFF",r:"1"}))))};e.exports=a}),null);
__d("RTCToggleVideoFiltersIcon.react",["cx","fbt","FluxContainer","React","RTCAppDispatcher","RTCCallControlsButton.react","RTCCallNUXActions","RTCCallNUXIDs","RTCCallNUXStore","RTCCallStore","RTCUIExpressionsIcon.react","RTCUserActivityProvider.react","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$5=function(){var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logClick(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").TOGGLE_FILTERS,surface:b("RTWebLoggingSurface").CALL_CONTAINER}));this.props.onClick()}.bind(this),this.$6=function(a){this.$1=a&&a.getDOMNode?a.getDOMNode():a}.bind(this),this.$3=function(){this.setState({isMouseActive:!0})}.bind(this),this.$4=function(){this.setState({isMouseActive:!1})}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")])}a.getStores=function(){return[b("RTCCallNUXStore")]};a.calculateState=function(a){a===void 0&&(a={hasFocus:!1,isMouseActive:!1});return babelHelpers["extends"]({},a,{showNux:b("RTCCallNUXStore").getState().showVideoChatFiltersNUX})};a.prototype.componentDidMount=function(){this.$2();var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logImpression(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").TOGGLE_FILTERS,surface:b("RTWebLoggingSurface").CALL_CONTAINER}))};a.prototype.render=function(){var a=this.props,c=a.className;a=a.filterSelected;return b("React").createElement(b("RTCUserActivityProvider.react"),{onActive:this.$3,onIdle:this.$4},b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallControlsButton.react"),{className:b("joinClasses")(c,"icon-48 videoFilters _6j5h"+(a||this.state.isMouseActive||this.state.hasFocus?"":" _6j5i")),onClick:this.$5,ref:this.$6,title:h._("Click to Add Filter")},b("React").createElement(b("RTCUIExpressionsIcon.react"),null)),b("React").createElement(k,{contextRef:function(){return this.$1}.bind(this),shown:this.state.showNux&&this.state.isMouseActive})))};a.prototype.getDOMNode=function(){return this.$1};a.prototype.$2=function(){this.state.showNux&&window.setTimeout(function(){return b("RTCCallNUXActions").markNUXViewed(b("RTCCallNUXIDs").RTC_VIDEO_CHAT_FILTERS_NUX)},3e3)};function j(){b("RTCCallNUXActions").dismissNUX(b("RTCCallNUXIDs").RTC_VIDEO_CHAT_FILTERS_NUX)}var k=function(a){return b("React").createElement(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:j,position:"above",width:"auto"},a),h._("New! Try filters in your video chat"))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCUIFullscreenIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1="",this.$2=function(a){a&&(this.$1=a.getURL(),this.forceUpdate())}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.direction,d=a.shadow;a=babelHelpers.objectWithoutPropertiesLoose(a,["direction","shadow"]);return d?b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement("defs",null,b("React").createElement(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})),b("React").createElement("g",{filter:this.$1},b("React").createElement(h,{direction:c})))):b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement(h,{direction:c})))};a.defaultProps={shadow:!1};var h=function(a){a=a.direction;return a==="in"?b("React").createElement("path",{d:"M25.8 24.2c.2.2.4.3.7.3h6c.5 0 1-.4 1-1s-.4-1-1-1h-3.6l4.8-4.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0l-4.8 4.8v-3.6c0-.5-.4-1-1-1s-1 .4-1 1v6c0 .3.1.5.3.7zM24.2 25.8c.2.2.3.5.3.8v6c0 .6-.4 1-1 1s-1-.5-1-1V29l-4.8 4.7c-.4.4-1 .4-1.4 0s-.4-1 0-1.4l4.8-4.8h-3.6c-.6 0-1-.4-1-1s.5-1 1-1h6c.3 0 .5.1.7.3z"}):b("React").createElement("path",{d:"M33.7 16.3c-.2-.2-.4-.3-.7-.3h-6c-.5 0-1 .4-1 1s.4 1 1 1h3.6l-4.8 4.8c-.4.4-.4 1 0 1.4s1 .4 1.4 0l4.8-4.8V23c0 .5.4 1 1 1s1-.4 1-1v-6c0-.3-.1-.5-.3-.7zM16.3 33.7c-.2-.2-.3-.4-.3-.7v-6c0-.5.4-1 1-1s1 .4 1 1v3.6l4.8-4.8c.4-.4 1-.4 1.4 0s.4 1 0 1.4L19.5 32h3.6c.5 0 1 .4 1 1s-.4 1-1 1h-6c-.3 0-.6-.1-.8-.3z"})};e.exports=a}),null);
__d("RTCVideoFilterStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={CapsulesEffect:g._("Colourful dotted lines"),ChainEffect:g._("Colourful fading dots"),CopyCatsEffect:g._("Cats with moving eyes"),ConfettiEffect:g._("Falling confetti"),DandelionEffect:g._("Floating dandelion puffs"),GeometryEffect:g._("Rotating geometrical shapes"),PorchLightsEffect:g._("Strands of light bulbs"),SnowfallEffect:g._("Falling snowflakes"),StarBokehEffect:g._("Glowing stars"),UnicornEffect:g._("Moving unicorns")};e.exports=a}),null);
__d("RTCVideoFilterOptionButton.react",["cx","fbt","Image.react","React","RTCCallControlsButton.react","RTCCallStore","RTCSVGIcon.react","RTCVideoFilterConfig","RTCUIXIcon.react","RTCVideoFilterRenderer","RTCVideoFilterStrings","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=b("RTCVideoFilterConfig").config;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=function(){var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logClick(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").VIDEO_FILTER_OPTION,surface:b("RTWebLoggingSurface").CALL_CONTAINER}));this.props.filterName&&!this.props.highlighted?b("RTCVideoFilterRenderer").applyStreamEffect(this.props.filterName):b("RTCVideoFilterRenderer").removeStreamEffect()}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.className,d=a.disabled,e=a.filterName;a=a.highlighted;return b("React").createElement(b("RTCCallControlsButton.react"),{"aria-label":this.$1(),className:b("joinClasses")(c,"_6j58 icon-48"+(a?" _6j59":"")),disabled:d,onClick:this.$2,title:this.$3()},b("React").createElement(b("React").Fragment,null,a?b("React").createElement(b("RTCUIXIcon.react"),{className:"_6j5a"}):null,b("React").createElement(k,{filterName:e,highlighted:a})))};a.prototype.$3=function(){return this.props.highlighted?h._("Remove Effect"):h._("Add Effect")};a.prototype.$1=function(){return h._("Effect: {effect}",[h._param("effect",b("RTCVideoFilterStrings")[this.props.filterName])])};var k=function(a){var c=a.filterName;a=a.highlighted;return b("React").createElement(b("Image.react"),{className:"_6j5b"+(a?" _6j5c":""),src:j[c].thumbnail_url})};e.exports=a}),null);
__d("RTCVideoFilterControls.react",["ix","cx","fbt","FluxContainer","Image.react","React","RTCAppDispatcher","RTCCallControlsButton.react","RTCCallStore","RTCCoExperienceStore","RTCToggleVideoFiltersIcon.react","RTCUIFullscreenIcon.react","RTCVideoFilterConfig","RTCVideoFilterOptionButton.react","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("RTCVideoFilterConfig").config;a=babelHelpers.inherits(l,b("React").PureComponent);j=a&&a.prototype;l.getStores=function(){return[b("RTCCoExperienceStore")]};l.calculateState=function(a){a=a?a.scrollLeft:!1;return{scrollLeft:a,currentFilter:b("RTCCoExperienceStore").getState().currentVideoFilter}};function l(a){j.constructor.call(this,a),this.$2=function(){var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logClick(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").SCROLL_FILTERS,surface:b("RTWebLoggingSurface").CALL_CONTAINER}));this.setState(function(a,b){return{scrollLeft:!a.scrollLeft}})}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([].concat(l.getStores()))}l.prototype.render=function(){var a=this.props,c=a.displayOptions,d=c.showFilterOptions;c=c.isDominantSpeaker;return b("React").createElement(b("React").Fragment,null,d?b("React").createElement(m,{isDominantSpeaker:c,onClick:a.onToggle}):null,b("React").createElement("section",{className:b("joinClasses")("_6j5j"+(d?" _6j5k":""),a.className)},d?b("React").createElement(b("React").Fragment,null,b("React").createElement(n,{alignLeft:this.state.scrollLeft,onClick:this.$2}),b("React").createElement("div",{className:"_6j5l"},b("React").createElement(o,{currentFilter:this.state.currentFilter,isP2P:a.isP2P,showAdditionalFilters:this.state.scrollLeft}))):b("React").createElement(b("RTCToggleVideoFiltersIcon.react"),{className:"_6j5m",filterSelected:!!this.state.currentFilter,isP2P:a.isP2P,onClick:a.onToggle,ref:function(a){return this.$1=a?a.getDOMNode():a}.bind(this)})))};var m=function(a){return b("React").createElement(b("RTCCallControlsButton.react"),{className:(a.isDominantSpeaker?"video":"")+" _6j5n _6j5h icon-48",onClick:a.onClick,title:i._("Close Filter Options")},b("React").createElement(b("RTCUIFullscreenIcon.react"),{direction:"in",shadow:!0}))},n=function(a){return b("React").createElement(b("RTCCallControlsButton.react"),{className:(a.alignLeft?"_6j5o":"")+(a.alignLeft?"":" _6j5p")+" icon-16",onClick:a.onClick,title:i._("See More Filters")},b("React").createElement(b("Image.react"),{src:a.alignLeft?g("561422"):g("561433")}))},o=function(a){var c=a.currentFilter,d=[];for(var e in k)d.push(b("React").createElement(b("RTCVideoFilterOptionButton.react"),{filterName:e,highlighted:c===e,isP2P:a.isP2P,key:e}));!a.showAdditionalFilters?d=d.splice(Math.ceil(d.length/2),d.length):d=d.splice(0,Math.floor(d.length/2));return b("React").createElement(b("React").Fragment,null,d)};e.exports=b("FluxContainer").create(l)}),null);
__d("RTCSelfViewBase.react",["cx","FBRTCSupport","React","ReactMotion","RTCGroupCallEscalationStore","RTCSelfViewAnimationConfig","RTCSelfViewCameraStream.react","RTCSelfViewScreenStream.react","RTCVideoFilterControls.react","RTWebClientFeatureGating","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","joinClasses","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ReactMotion").TransitionMotion,j=b("ReactMotion").spring,k=b("ReactMotion").stripStyle,l=b("RTCSelfViewAnimationConfig").springConfig,m=10,n=b("keyMirror")({CAMERA:null,SCREEN:null});c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={cameraViewCollapsed:!1,filtersEnabled:!1,focused:!1,hovered:!1,showFilterOptions:!1,isVideoReady:!1,tiles:[],width:0},b}a.getDerivedStateFromProps=function(a,b){var c=q(a);return{filtersEnabled:c,showFilterOptions:c?b.showFilterOptions:!1,tiles:o(a,b.tiles)}};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.className,d=a.user;if(!this.$1())return null;a=this.state;var e=a.cameraViewCollapsed,f=a.focused,g=a.hovered;return b("React").createElement(i,{styles:this.$2(),willEnter:function(a){a=a.style;return babelHelpers["extends"]({},k(a),{opacity:0})},willLeave:function(a){a=a.style;return babelHelpers["extends"]({},a,{opacity:j(0,l)})}},function(a){__p&&__p();return b("React").createElement("div",{className:b("joinClasses")("_u2-"+(this.state.showFilterOptions?" filters":""),c),onBlur:function(){return this.setState({focused:!1})}.bind(this),onFocus:function(){return this.setState({focused:!0})}.bind(this),onMouseDown:this.props.onMouseDown,onMouseEnter:function(){return this.setState({hovered:!0})}.bind(this),onMouseLeave:function(){return this.setState({hovered:!1})}.bind(this),style:babelHelpers["extends"]({},this.props.style,{width:this.state.width})},a.map(function(a){__p&&__p();switch(a.key){case n.CAMERA:return b("React").createElement(b("RTCSelfViewCameraStream.react"),{className:this.state.isVideoReady?"":"invisible_elem",collapsed:e,focused:f,hovered:g,isCollapsible:this.props.isCollapsible,isFilterMode:this.state.showFilterOptions,key:a.key,onClick:function(){if(!this.props.isCollapsible)return;this.$3(!this.state.cameraViewCollapsed);this.setState(function(a){return{cameraViewCollapsed:!a.cameraViewCollapsed,showFilterOptions:!1}})}.bind(this),onResize:function(a){return this.$4(n.CAMERA,a.width)}.bind(this),onVideoReady:function(){this.setState({isVideoReady:!0})}.bind(this),style:this.$5(a.style),user:d});case n.SCREEN:return b("React").createElement(b("RTCSelfViewScreenStream.react"),{focused:f,hovered:g,key:a.key,onResize:function(a){return this.$4(n.SCREEN,a.width)}.bind(this),onStopSharing:this.props.onScreenSharingStop,style:this.$5(a.style),user:d});default:return null}}.bind(this)),this.state.filtersEnabled&&!e?b("React").createElement(b("RTCVideoFilterControls.react"),{displayOptions:{showFilterOptions:this.state.showFilterOptions,isDominantSpeaker:!!this.props.isDominantSpeaker},isP2P:this.props.isP2P,onToggle:function(){return this.setState(function(a){return{showFilterOptions:!a.showFilterOptions}})}.bind(this)}):null)}.bind(this))};a.prototype.$1=function(){return this.props.user.hasVideo()||this.props.user.hasScreenStream()||b("RTWebClientFeatureGating").callUnification()||b("RTWebClientFeatureGating").answerCallWithThreeButtons()&&!this.props.isAudioCall};a.prototype.$2=function(){var a=this.state.tiles,b=a.map(function(a){return a.width});return a.map(function(a,c){var d=b.reduce(function(a,b,d){return b<=0||d<=c?a:a+b+m},0);return{key:a.type,style:{opacity:j(1,l),x:j(d,l)}}})};a.prototype.$4=function(a,b){this.setState(function(c){c=c.tiles;return{tiles:c.map(function(c){return c.type===a?p(a,b):c})}})};a.prototype.$5=function(a){var b=a.opacity;a=a.x;return{opacity:b,transform:"translateX(-"+a+"px)"}};a.prototype.$3=function(a){b("RTWebUserActionLogger").logClick({component:a?b("RTWebLoggingComponent").SELF_VIEW_MINIMIZE:b("RTWebLoggingComponent").SELF_VIEW_UNMINIMIZE,surface:b("RTWebLoggingSurface").CALL_CONTAINER})};a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({component:b("RTWebLoggingComponent").SELF_VIEW,surface:b("RTWebLoggingSurface").CALL_CONTAINER})};a.prototype.componentDidUpdate=function(a,b){__p&&__p();if(b.tiles!==this.state.tiles){a=this.state.tiles.reduce(function(a,b,c){b=b.width;return b<=0?a:c>0?a+b+m:a+b},0);this.setState({width:a})}if(b.width!==this.state.width){a=this.props.onResize;a!=null&&a({height:0,width:this.state.width})}};a.defaultProps={hideCameraViewWhenScreenSharing:!1,isCollapsible:!0,isDominantSpeaker:!1};function o(a,b){__p&&__p();var c=a.user;b=b;var d=b.find(function(a){return a.type===n.CAMERA});c.hasStream()&&!(a.hideCameraViewWhenScreenSharing&&c.hasScreenStream())?d==null&&(b=[].concat(b,[p(n.CAMERA)])):d!=null&&(b=b.filter(function(a){return a.type!==n.CAMERA}));a=b.find(function(a){return a.type===n.SCREEN});c.hasScreenStream()?a==null&&(b=[p(n.SCREEN)].concat(b)):a&&(b=b.filter(function(a){return a.type!==n.SCREEN}));return b}function p(a,b){b===void 0&&(b=0);return{type:a,width:b}}function q(a){if(!b("FBRTCSupport").isVideoFilterEffectSupported()||a.hideCameraViewWhenScreenSharing&&a.user.hasScreenStream()||a.user.isVideoMuted())return!1;var c=b("RTCGroupCallEscalationStore").getState().readyToTransition;return a.isP2P?b("RTWebClientFeatureGating").canUseP2PVideoFilters():!c&&b("RTWebClientFeatureGating").canUseMWVideoFilters()}e.exports=a}),null);
__d("RTCDraggableSelfView.react",["React","Rect","RTCInCallFeaturesUtils","RTCSelfViewBase.react","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RTCInCallFeaturesUtils").BOUNDING_BOX_MARGIN,i=b("RTCInCallFeaturesUtils").Corners,j=b("RTCInCallFeaturesUtils").SELF_VIEW_HEIGHT,k=b("RTCInCallFeaturesUtils").SELF_VIEW_WIDTH,l=b("RTCInCallFeaturesUtils").SETTINGS_HEIGHT;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={draggingEnabled:!1,snappedCorner:i.BOTTOM_RIGHT,isMouseDown:!1,offsetLeft:0,offsetTop:0,mouseInSelfViewX:0,mouseInSelfViewY:0,screenHeight:0,screenWidth:0,boundingBox:new(b("Rect"))(0,0,0,0)},this.$1=function(a){a.preventDefault();var b=a.clientX,c=a.clientY;this.setState(function(a){return{mouseInSelfViewX:a.offsetLeft-b,mouseInSelfViewY:a.offsetTop-c,isMouseDown:!0,snappedCorner:i.NO_CORNER}})}.bind(this),this.$4=function(){if(!this.state.isMouseDown)return;this.setState(function(a){return babelHelpers["extends"]({},b("RTCInCallFeaturesUtils").snapToCorner(a,a.screenWidth,a.screenHeight),{isMouseDown:!1})})}.bind(this),this.$5=function(a){if(!this.state.isMouseDown)return;var b=a.clientX,c=a.clientY;this.setState(function(a){return this.$2({offsetLeft:a.mouseInSelfViewX+b,offsetTop:a.mouseInSelfViewY+c},a.boundingBox)}.bind(this))}.bind(this),this.$6=function(){this.$3(),this.setState(function(a){return a.snappedCorner!==i.NO_CORNER?b("RTCInCallFeaturesUtils").getCornerPosition(a.screenWidth,a.screenHeight,a.snappedCorner):this.$2(a,a.boundingBox)}.bind(this))}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("RTCSelfViewBase.react"),babelHelpers["extends"]({},this.props,{isCollapsible:!1,onMouseDown:this.$1,style:babelHelpers["extends"]({},this.props.style,{left:this.state.offsetLeft+"px",top:this.state.offsetTop+"px",position:"fixed"})}))};a.prototype.$2=function(a,c){var d=a.offsetLeft;a=a.offsetTop;a=new(b("Rect"))(a,d+k,a+j,d).boundWithin(c);return{offsetLeft:a.getLeft(),offsetTop:a.getTop()}};a.prototype.$3=function(){var a=b("getViewportDimensions").withoutScrollbars(),c=a.width;a=a.height;this.setState({screenWidth:c,screenHeight:a,boundingBox:new(b("Rect"))(h+l,c-h,a-h,h)})};a.prototype.$7=function(){var a=b("getViewportDimensions").withoutScrollbars(),c=a.width;a=a.height;this.setState({offsetLeft:c-k-h,offsetTop:a-j-h})};a.prototype.componentDidMount=function(){this.$7(),window.addEventListener("mousemove",this.$5),window.addEventListener("mouseup",this.$4),this.$3(),window.addEventListener("resize",this.$6)};a.prototype.componentDidUpdate=function(a,b){a=this.props.isDominantSpeaker!==!0||this.props.user.hasScreenStream();this.state.draggingEnabled&&a&&this.$7();this.setState({draggingEnabled:!a})};a.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.$5),window.removeEventListener("mouseup",this.$4),window.removeEventListener("resize",this.$6)};e.exports=a}),null);
__d("RTCSelfView.react",["React","RTCDraggableSelfView.react","RTCSelfViewBase.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("RTWebClientFeatureGating").draggableSelfView()?b("React").createElement(b("RTCDraggableSelfView.react"),a):b("React").createElement(b("RTCSelfViewBase.react"),a)}e.exports=a}),null);
__d("RTCMWAppViewFooter.react",["cx","Promise","CollabRTCChromeScreenSharingExtension","FBRTCConstants","FBRTCHangupReason","FBRTCParticipantCallState","FBRTCScreenSharingUtils","React","RTCAnonGuestPostCallMessengerUpsellFooter.react","RTCAppViewFooter.react","RTCCallControls.react","RTCCallControlsAddGroupMembersButton.react","RTCCallControlsCloseWindowButton.react","RTCCallControlsEndCallButton.react","RTCCallControlsParticipantsRosterButton.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleScreenSharingWithFunnelButton.react","RTCCallControlsToggleVideoButton.react","RTCCallControlsVideoEscalationButton.react","RTCChromeScreenSharingUtils","RTCConferenceState","RTCGroupCallRemoteView.react","RTCMWProtocolHandler","RTCSelfView.react","RTWebClientFeatureGating","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBRTCConstants").GroupVideoViewLayout,j=b("RTCChromeScreenSharingUtils").getMediaRequestSourceAppId;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=0,this.$2=0,this.$3=0,this.$5=0,this.$6=null,this.$9=function(){b("RTCMWProtocolHandler").endCall(this.props.conferenceName,this.props.serverInfoData,b("FBRTCHangupReason").HANGUP_CALL)}.bind(this),this.$7=function(a){a=a.width;if(this.$1===a)return;this.$1=a;this.$12()}.bind(this),this.$8=function(a){a=a.width;if(this.$3===a)return;this.$3=a;this.$12()}.bind(this),this.$10=function(a){a=a.width;if(this.$2===a)return;this.$2=a;this.$12()}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.hasVideoInput,d=a.isAudioCall,e=a.layout,f=a.localUser;a=a.isGuestFromLink;a=a===void 0?!1:a;switch(this.props.conferenceState){case b("RTCConferenceState").CONNECTING:case b("RTCConferenceState").CONNECTED:var g=f&&f.getScreenStream();e=e===i.DOMINANT_SPEAKER;e=(!d||b("RTWebClientFeatureGating").callUnification())&&e;var h=null;f.isGuestUser||a?h=b("React").createElement(b("RTCCallControlsParticipantsRosterButton.react"),null):h=b("React").createElement(b("RTCCallControlsAddGroupMembersButton.react"),{className:e?"addMember":"",conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,isP2P:!1,localUser:f,participants:this.props.participants,remoteUsers:this.props.remoteUsers,thread:this.props.thread});return b("React").createElement(b("RTCAppViewFooter.react"),{onResize:this.$7},b("React").createElement(b("RTCCallControls.react"),{autoHide:!d,className:"_5rdt"+(e?" video":""),onResize:this.$8,ref:function(a){return this.$4=a?a.getDOMNode():a}.bind(this)},f.hasLiveVideoTracks()?b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.props.conferenceState,disabled:!!g,initializeVideo:!0,isP2P:!1,videoMuted:f.isVideoMuted()}):b("React").createElement(b("RTCCallControlsVideoEscalationButton.react"),{disabled:!c,onClick:function(){return b("RTCMWProtocolHandler").escalateLocalStream()}}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:f.isAudioMuted()}),b("FBRTCScreenSharingUtils").isGroupCallScreenSharingSupported()?b("React").createElement(b("RTCCallControlsToggleScreenSharingWithFunnelButton.react"),{conferenceState:this.props.conferenceState,disabled:!f.hasScreenStream()&&(d||f.isVideoMuted()),isP2P:!1,onExtensionInstallStart:function(){return b("UserAgent").isBrowser("Chrome")?b("CollabRTCChromeScreenSharingExtension").install(j()):b("Promise").reject("unexpected browser")},onShareStarted:b("RTCMWProtocolHandler").startScreenStream,onShareStop:b("RTCMWProtocolHandler").stopScreenStream,onShareStreamUpdate:b("RTCMWProtocolHandler").updateScreenStream,stream:g}):null,e&&!a?null:h,b("React").createElement(b("RTCCallControlsEndCallButton.react"),{onClick:this.$9})),e&&!a?h:null,e?b("React").createElement(b("RTCGroupCallRemoteView.react"),{remoteUsers:this.props.remoteUsers.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED})}):null,b("React").createElement(b("RTCSelfView.react"),{className:"_3kqh"+(e?" video":""),hideCameraViewWhenScreenSharing:!0,isAudioCall:d,isDominantSpeaker:e,isP2P:!1,onResize:this.$10,onScreenSharingStop:b("RTCMWProtocolHandler").stopScreenStream,user:f}));case b("RTCConferenceState").TERMINATING:return b("React").createElement(b("RTCAppViewFooter.react"),{onResize:this.$7},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_5rdt",onResize:this.$8,ref:function(a){return this.$4=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.props.conferenceState,disabled:!0,initializeVideo:!0,isP2P:!1,videoMuted:!0}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:!0,disabled:!0}),b("React").createElement(b("RTCCallControlsEndCallButton.react"),{disabled:!0})));case b("RTCConferenceState").TERMINATED:return b("React").createElement(b("RTCAppViewFooter.react"),{onResize:this.$7},f.isGuestUser?b("React").createElement(b("RTCAnonGuestPostCallMessengerUpsellFooter.react"),null):b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_5rdt",onResize:this.$8,ref:function(a){return this.$4=a?a.getDOMNode():a}.bind(this)},this.$11()?null:b("React").createElement(b("RTCCallControlsCloseWindowButton.react"),null)));default:return b("React").createElement(b("RTCAppViewFooter.react"),null)}};a.prototype.$12=function(){__p&&__p();if(this.$1===0||this.$3===0)return;var a=Math.min(0,this.$1/2-(this.$3/2+this.$2));if(a===this.$5)return;this.$5=a;if(this.$4){var b=this.$4.style;b.transition="none";this.$6=window.requestAnimationFrame(function(){b.transform="translateX("+this.$5+"px)",b.transition=""}.bind(this))}};a.prototype.$11=function(){return!window.opener};a.prototype.componentWillUnmount=function(){window.cancelAnimationFrame(this.$6)};e.exports=a}),null);
__d("RTCLogo.react",["cx","ix","Image.react","React","WorkModeConfig","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={messenger:{color:h("28187"),mono:h("28188")},workplace:{color:h("28198"),mono:h("28199")}};a=function(a){var c=a.className,d=a.mode;d=d===void 0?"color":d;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","mode"]);var e=j();return b("React").createElement(b("Image.react"),babelHelpers["extends"]({alt:"",className:b("joinClasses")(c,"_4ytt"),src:i[e][d]},a))};function j(){return b("WorkModeConfig").is_work_user?"workplace":"messenger"}e.exports=a}),null);
__d("RTCAppViewHeader.react",["cx","React","RTCLogo.react","RTWebClientFeatureGating","WorkModeConfig","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className;a.isAudioCall;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","isAudioCall"]);var e=b("WorkModeConfig").is_work_user;e=e&&!b("RTWebClientFeatureGating").isChatEnabled()?b("React").createElement(b("RTCLogo.react"),{className:"_4key",mode:"mono"}):null;return b("React").createElement("header",babelHelpers["extends"]({className:b("joinClasses")("_4keu",d)},a),e,c)};e.exports=a}),null);
__d("RTCChatPanelIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement("path",{d:"M24.999,35.9861483 C23.837,35.9861483 22.73,35.8825981 21.6915,35.6289751 C20.828,35.4183729 19.9265,35.4398834 19.0845,35.7270226 L15.083,36.9551183 C14.4385,37.175225 13.813,36.5489213 14.0315,35.8795966 L14.826,33.2498212 C15.1235,32.3378789 15.008,31.3373937 14.5085,30.5224984 C13.4515,28.7971616 13.0005,26.7361621 13,24.4545555 C13.001,17.7953257 18.0255,13 24.999,13 C31.973,13 36.9975,17.7953257 36.9985,24.4525545 C36.9975,31.1122845 31.973,35.9861483 24.999,35.9861483 Z",id:"path-1"})))};e.exports=a}),null);
__d("RTCCallControlsChatButton.react",["cx","fbt","FluxContainer","React","RTCCallControlsButton.react","RTCChatPanelIcon.react","RTCCoExperienceActions","RTCCoExperienceStore","RTWebClientFeatureGating","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(j,b("React").PureComponent);i&&i.prototype;j.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").TOGGLE_CHAT,conferenceState:this.props.conferenceState,surface:b("RTWebLoggingSurface").CALL_CONTROLS})};j.prototype.render=function(){return b("React").createElement(b("RTCCallControlsButton.react"),{className:b("joinClasses")("transparent icon-50 _3n07",this.props.className),"data-testid":b("VideoCallWebDriverIDs").TOGGLE_CHAT_BUTTON,onClick:function(){return this.$1()}.bind(this),title:h._("Open Chat")},b("React").createElement(b("RTCChatPanelIcon.react"),null))};j.prototype.$1=function(){b("RTWebUserActionLogger").logClick({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").TOGGLE_CHAT,conferenceState:this.props.conferenceState,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),b("RTCCoExperienceActions").toggleChatWindow()};function j(){i.apply(this,arguments)}a=b("FluxContainer").createFunctional(function(a){var c=a.isP2P?b("RTWebClientFeatureGating").isChatEnabled():b("RTWebClientFeatureGating").isGroupChatEnabled();return c&&!a.chatWindowVisible?b("React").createElement(j,{conferenceState:a.conferenceState,isP2P:a.isP2P}):null},function(){return[b("RTCCoExperienceStore")]},function(a,c,d){return babelHelpers["extends"]({},c,{chatWindowVisible:b("RTCCoExperienceStore").getState().chatWindowVisible})},{withProps:!0});e.exports=a}),null);
__d("RTCUIDominantSpeakerLayoutIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1="",this.$2=function(a){a&&(this.$1=a.getURL(),this.forceUpdate())}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.shadow;a=babelHelpers.objectWithoutPropertiesLoose(a,["shadow"]);return c?b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement("defs",null,b("React").createElement(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})),b("React").createElement("g",{filter:this.$1},b("React").createElement(h,null)))):b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement(h,null)))};a.defaultProps={shadow:!1};var h=function(){return b("React").createElement("path",{d:"M16.5 14.5h17a2 2 0 0 1 2 2v17a2 2 0 0 1-2 2h-17a2 2 0 0 1-2-2v-17a2 2 0 0 1 2-2zm0 2h17v11h-17zm0 13h4v4h-4zm6.5 0h4v4h-4zm6.5 0h4v4h-4z",fillRule:"evenodd"})};e.exports=a}),null);
__d("RTCCallControlsDominantSpeakerSwitchButton.react",["cx","fbt","FBRTCConstants","React","RTCCallControlsButton.react","RTCGroupCallActions","RTCUIDominantSpeakerLayoutIcon.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCConstants").GroupVideoViewLayout;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("RTCCallControlsButton.react"),{className:"transparent icon-50","data-testid":b("VideoCallWebDriverIDs").DOMINANT_SPEAKER_SWITCH_BUTTON,onClick:this.$1,title:h._("Switch to Primary Speaker View")},b("React").createElement(b("RTCUIDominantSpeakerLayoutIcon.react"),{shadow:!0}))};a.prototype.$1=function(){b("RTCGroupCallActions").setLayout(j.DOMINANT_SPEAKER)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("RTCUIGridLayoutIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1="",this.$2=function(a){a&&(this.$1=a.getURL(),this.forceUpdate())}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.shadow;a=babelHelpers.objectWithoutPropertiesLoose(a,["shadow"]);return c?b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement("defs",null,b("React").createElement(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})),b("React").createElement("g",{filter:this.$1},b("React").createElement(h,null)))):b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement(h,null)))};a.defaultProps={shadow:!1};var h=function(){return b("React").createElement("path",{d:"M16.5 14.5h17a2 2 0 0 1 2 2v17a2 2 0 0 1-2 2h-17a2 2 0 0 1-2-2v-17a2 2 0 0 1 2-2zm0 2H24V24h-7.5zm9.5 0h7.5V24H26zM16.5 26H24v7.5h-7.5zm9.5 0h7.5v7.5H26z",fillRule:"evenodd"})};e.exports=a}),null);
__d("RTCCallControlsGridSwitchButton.react",["cx","fbt","FBRTCConstants","React","RTCCallControlsButton.react","RTCGroupCallActions","RTCUIGridLayoutIcon.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCConstants").GroupVideoViewLayout;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("RTCCallControlsButton.react"),{className:"transparent icon-50","data-testid":b("VideoCallWebDriverIDs").GRID_SWITCH_BUTTON,onClick:this.$1,title:h._("Switch to Grid View")},b("React").createElement(b("RTCUIGridLayoutIcon.react"),{shadow:!0}))};a.prototype.$1=function(){b("RTCGroupCallActions").setLayout(j.GRID)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("RTCUIM4FullscreenIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{height:"36px",viewBox:"0 0 36 36",width:"36px"},b("React").createElement("g",{transform:"translate(9, 9)"},a.direction==="out"?b("React").createElement("path",{d:"M5.06543333,13.2112667 L6.47943333,14.6249333 C6.85576667,15.0012667 6.6601,15.6452667 6.1381,15.7499333 L1.46443333,16.6532667 C0.9981,16.7466 0.586766667,16.3359333 0.680433333,15.8696 L1.5841,11.1976 C1.68876667,10.6756 2.33343333,10.4802667 2.70976667,10.8566 L4.1231,12.2696 L6.86576667,9.52526667 C7.1261,9.26526667 7.54776667,9.26526667 7.8081,9.52526667 C8.0681,9.7856 8.0681,10.2069333 7.8081,10.4672667 L5.06543333,13.2112667 Z M16.6533013,1.46393333 L15.7500361,6.1356 C15.6452614,6.65793333 15.0012637,6.85326667 14.6248754,6.47693333 L13.211751,5.06393333 L10.4699225,7.80793333 C10.2099877,8.06793333 9.78821926,8.06793333 9.52828444,7.80793333 C9.26834963,7.54793333 9.26834963,7.12626667 9.52828444,6.86626667 L12.2701129,4.12193333 L10.8566548,2.70826667 C10.4802665,2.33193333 10.6758016,1.68826667 11.1976732,1.58326667 L15.869159,0.679933333 C16.3359739,0.586266667 16.746731,0.997266667 16.6533013,1.46393333 Z"}):b("React").createElement("path",{d:"M7.08336945,14.8000994 C6.9785947,15.3218852 6.33459702,15.5171384 5.95820874,15.1409595 L4.54541798,13.7285391 L1.80358951,16.4717467 C1.54332102,16.73164 1.12188627,16.73164 0.861617778,16.4717467 C0.601682963,16.2115201 0.601682963,15.7903596 0.861617778,15.5301331 L3.60344624,12.7872587 L2.18998812,11.374172 C1.81359984,10.997993 2.00913489,10.3542572 2.53100658,10.2496335 L7.20249234,9.34667072 C7.66930724,9.25337567 8.08006431,9.66387387 7.98663459,10.1300159 L7.08336945,14.8000994 Z M16.4717376,1.80320271 L13.730068,4.54590401 L15.1438872,5.95929607 C15.5197505,6.3353331 15.3244882,6.97896702 14.8023447,7.08373687 L10.1307105,7.98662613 C9.66421346,8.08005148 9.25336289,7.66964727 9.34666229,7.20318785 L10.2500004,2.53325508 C10.354629,2.01140778 10.9990613,1.81621553 11.3752578,2.19225256 L12.7880773,3.60464363 L15.53008,0.861608666 C15.7899855,0.601686 16.2118321,0.601686 16.4717376,0.861608666 C16.731643,1.12186499 16.731643,1.54294639 16.4717376,1.80320271 Z"}))))}e.exports=a}),null);
__d("RTCCallControlsToggleFullScreenButton.react",["cx","fbt","FBRTCVersionDetection","React","RTCCallControlsButton.react","RTCCallStore","RTCHotKeys","RTCHotKeysConfig","RTCUIFullscreenIcon.react","RTCUIM4FullscreenIcon.react","RTCUtils","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs","debounce","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RTCHotKeysConfig").RTCHotKey,k=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"];a=babelHelpers.inherits(l,b("React").PureComponent);i=a&&a.prototype;function l(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={highlighted:!1},this.$3=function(a){this.setState({highlighted:!0}),this.$1=window.setTimeout(function(){return this.setState({highlighted:!1})}.bind(this),100),b("RTWebUserActionLogger").logClick({component:b("RTCUtils").isFullScreen()?b("RTWebLoggingComponent").FULLSCREEN_DISABLE:b("RTWebLoggingComponent").FULLSCREEN_ENABLE,surface:b("RTWebLoggingSurface").CALL_CONTAINER}),b("RTCUtils").toggleFullScreen()}.bind(this),this.$5=b("debounce")(function(){return this.forceUpdate()}.bind(this),10),c}l.prototype.render=function(){var a=b("RTCUtils").isFullScreen()||this.state.highlighted,c=this.props.isAudioOnly,d=this.props.className;this.props.isM4!==!0&&(d=b("joinClasses")("transparent icon-50",d));d;return b("React").createElement(b("RTCCallControlsButton.react"),{className:d,"data-testid":b("VideoCallWebDriverIDs").FULL_SCREEN_BUTTON,onClick:this.$3,shouldThrottle:this.$4(),title:a?h._("Exit Full Screen"):h._("Enter Full Screen")},this.props.isM4===!0?b("React").createElement(b("RTCUIM4FullscreenIcon.react"),{direction:a?"in":"out"}):b("React").createElement(b("RTCUIFullscreenIcon.react"),{direction:a?"in":"out",shadow:!c}))};l.prototype.$4=function(){return!b("FBRTCVersionDetection").isFirefox()};l.getDocument=function(){return document};l.prototype.componentDidMount=function(){for(var a=0;a<k.length;a++){var c=k[a];l.getDocument().addEventListener(c,this.$5)}b("RTWebUserActionLogger").logImpression({component:b("RTWebLoggingComponent").FULLSCREEN,surface:b("RTWebLoggingSurface").CALL_CONTAINER});this.$2=b("RTCHotKeys").register(j.FULL_SCREEN,this.$3)};l.prototype.componentWillUnmount=function(){window.clearTimeout(this.$1);for(var a=0;a<k.length;a++){var b=k[a];l.getDocument().removeEventListener(b,this.$5)}this.$2&&this.$2.remove()};e.exports=l}),null);
__d("RTCMWAppViewHeader.react",["FBRTCConstants","React","RTCAppViewHeader.react","RTCCallControls.react","RTCCallControlsChatButton.react","RTCCallControlsDominantSpeakerSwitchButton.react","RTCCallControlsGridSwitchButton.react","RTCCallControlsToggleFullScreenButton.react","RTCConferenceState","RTWebClientFeatureGating"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").GroupVideoViewLayout;a=function(a){var c=a.conferenceState,d=a.hideLayoutSwitchButton,e=a.isAudioCall,f=a.layout;a=a.showChatButton;switch(c){case b("RTCConferenceState").CONNECTED:var h=!e||b("RTWebClientFeatureGating").callUnification();a=a?b("React").createElement(b("RTCCallControlsChatButton.react"),{conferenceState:c,isP2P:!1}):null;return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:e},b("React").createElement(b("RTCCallControls.react"),{autoHide:h,compact:!0},h&&!d&&f!==g.DOMINANT_SPEAKER?b("React").createElement(b("RTCCallControlsDominantSpeakerSwitchButton.react"),null):null,h&&!d&&f!==g.GRID?b("React").createElement(b("RTCCallControlsGridSwitchButton.react"),null):null,b("React").createElement(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:e}),a));default:return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:e},b("React").createElement(b("RTCCallControls.react"),{autoHide:!e,compact:!0},b("React").createElement(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:e})))}};e.exports=a}),null);
__d("RTCPeerConnectionStats.react",["FBRTCLogger","React","RTCConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={stats:[]},b}a.prototype.render=function(){if(!b("RTCConfig").PeerConnectionStatsGK)return null;if(this.state.stats.length<1)return null;var a={background:"white",bottom:0,color:"black",fontSize:10,left:0,margin:0,opacity:.7,padding:"1em",position:"absolute",textAlign:"left",zIndex:9};return b("React").createElement("pre",{style:babelHelpers["extends"]({},a,this.props.style)},[this.$2("in"),this.$2("out")].filter(Boolean).join("\n"))};a.prototype.$2=function(a){__p&&__p();var b=this.state.stats.filter(function(b){return b.direction===a}).map(function(b){__p&&__p();b.id;var c=b.type,d=b.packetsLost,e=b.resolution,f=b.frameRate;b=babelHelpers.objectWithoutPropertiesLoose(b,["id","type","packetsLost","resolution","frameRate"]);if(a==="in"){var g=b.bytesReceived,h=b.packetsReceived,i=d/(h+d)||0;g=["b:  "+g,"p:  "+d+" / "+h,"l:  "+i.toFixed(4).replace(/\.?0+$/,"")+"%"]}else{h=b.bytesSent;i=b.packetsSent;b=d/(i+d)||0;g=["b:  "+h,"p:  "+d+" / "+i,"l:  "+b.toFixed(4).replace(/\.?0+$/,"")+"%"]}f&&g.unshift("fr: "+f);e&&g.unshift("r:  "+e);return c+" "+a+":\n  "+g.join("\n  ")}).join("\n");return!b.length?"":b};a.prototype.componentDidMount=function(){__p&&__p();if(!b("RTCConfig").PeerConnectionStatsGK)return;this.$1=window.setInterval(function(){__p&&__p();var a=this.props.connection;if(!a||a.getIceConnectionState()==="closed"||a.getIceConnectionState()==="disconnected")return;a.getStats().then(function(a){__p&&__p();var b=[];for(var a=a.values(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.type==="ssrc"){var f={id:e.id,packetsLost:e.packetsLost||0,type:e.mediaType};if(e.mediaType==="video"){var g=e.googBandwidthLimitedResolution?" (BW limited)":"";if("googFrameWidthSent"in e){var h=e.googFrameWidthSent,i=e.googFrameHeightSent;f.resolution=h+"x"+i+g}else if("googFrameWidthReceived"in e){h=e.googFrameWidthReceived;i=e.googFrameHeightReceived;f.resolution=h+"x"+i+g}if("googFrameRateInput"in e){h=e.googFrameRateInput;i=e.googFrameRateSent;f.frameRate=h+" -> "+i}else if("googFrameRateOutput"in e){g=e.googFrameRateOutput;h=e.googFrameRateReceived;f.frameRate=g+" -> "+h}}"bytesSent"in e?(f.bytesSent=e.bytesSent,f.packetsSent=e.packetsSent,f.direction="out"):(f.bytesReceived=e.bytesReceived,f.packetsReceived=e.packetsReceived,f.direction="in");b.push(f)}}return b}).then(function(a){return this.setState({stats:a})}.bind(this))["catch"](function(a){b("FBRTCLogger").getInstance().logToConsole(JSON.stringify(a))})}.bind(this),1e3)};a.prototype.componentWillUnmount=function(){window.clearInterval(this.$1)};e.exports=a}),null);
__d("FBRTCMobileBrowserAppViewContent.react",["cx","FacepileRounded.react","FBRTCEnterRoomLinkButton.react","FBRTCMobileBrowserInCallView.react","MessengerChatLinksFunnelLogger","React","RTCAppViewMain.react","RTCConferenceState","RTCRingBackTone.react","RTWebRTCUserUtils","RTWebStrings","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=64;a=function(a){__p&&__p();var c=a.isP2P,d=a.conferenceState,e=a.layout,f=a.localUser,g=a.participants,j=a.rejoinCall;a=a.remoteUsers;switch(d){case b("RTCConferenceState").NEW:case b("RTCConferenceState").CONNECTING:case b("RTCConferenceState").CONNECTED:case b("RTCConferenceState").TERMINATING:a=c?b("RTWebRTCUserUtils").getRemoteUsers(a):b("RTWebRTCUserUtils").combineLocalAndRemoteUsers(f,b("RTWebRTCUserUtils").getAllConnectedUsers(a));return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("FBRTCMobileBrowserInCallView.react"),{conferenceState:d,isP2P:c,layout:e,localUser:f,rtcUsers:a}),d===b("RTCConferenceState").CONNECTING?b("React").createElement(b("RTCRingBackTone.react"),{active:!0}):null);case b("RTCConferenceState").TERMINATED:if(!c)return g==null||j==null?null:b("React").createElement(b("RTCAppViewMain.react"),{className:"_6qx6",fullBleed:!0},b("React").createElement("div",{className:"_70y3"},b("React").createElement(b("FacepileRounded.react"),{direction:"descending",imageSize:h,numProfilesToDisplay:2,profiles:i(g)}),b("React").createElement("p",{className:"_73-l"},b("RTWebStrings").chatLinksLeftVideoChat),b("gkx")("825725")?b("React").createElement(b("FBRTCEnterRoomLinkButton.react"),{isRejoin:!0,onClick:function(){b("MessengerChatLinksFunnelLogger").appendAction("click_rejoin_call"),j()}}):null));else return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0});case b("RTCConferenceState").AWAITING_USER_START:return null;default:return null}};function i(a,b){b===void 0&&(b=h);a=a.map(function(a){return{image_src:a.image_src,glyph_size:b,name:a.short_name}});return a.toArray()}e.exports=a}),null);
__d("RTCMobileFlyout.react",["cx","invariant","AbstractDialog.react","AccessibleLayer","CSS","React","ReactLayer","SubscriptionsHandler","debounce","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;function a(a){__p&&__p();this.$4=function(){var a=this.$1.getContentRoot();a!=null||h(0,70);return!0}.bind(this),this.$5=function(){b("requestAnimationFrame")(function(){var a=this.$1.getContentRoot();a!=null||h(0,70);a.addEventListener("transitionend",function(){this.$1.finishHide()}.bind(this));b("CSS").addClass(a,"_71p8")}.bind(this));return!1}.bind(this),this.$1=a,this.$3=new(b("SubscriptionsHandler"))()}a.prototype.enable=function(){this.$2=[this.$1.subscribe("show",this.$4),this.$1.subscribe("starthide",this.$5)]};a.prototype.disable=function(){this.$2&&(this.$2.forEach(function(a){a.unsubscribe()}),this.$2=null),this.$3.release()};var j=b("ReactLayer").createClass(b("AbstractDialog.react").createSpec({displayName:"RTCMobileFlyoutLayer",addedBehaviors:{AccessibleLayer:b("AccessibleLayer"),SlideInFromBottom:a},fixedTopPosition:0}));d=babelHelpers.inherits(c,b("React").PureComponent);i=d&&d.prototype;function c(a){i.constructor.call(this,a),this.state={width:window.innerWidth},this.$1=b("debounce")(function(){this.setState({width:window.innerWidth})}.bind(this),150),window.addEventListener("resize",this.$1)}c.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.$1)};c.prototype.render=function(){return b("React").createElement(j,{className:"_71p9 _72pp",key:"dialog",onToggle:this.props.onToggle,shown:!0,width:this.state.width},this.props.children)};e.exports=c}),null);
__d("RTCMobileFlyoutBody.react",["React","joinClasses"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("section",{className:b("joinClasses")(a.className)},a.children)}e.exports=a}),null);
__d("RTCMobileFlyoutHeader.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("header",{className:b("joinClasses")(a.className,"_71p7")},a.children)}e.exports=a}),null);
__d("RTCMobileGroupCallRosterRow.react",["ix","cssVar","cx","fbt","ClickableArea.react","Image.react","MessengerContactImage.react","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=parseInt("36px",10);function a(a){var c=a.checked,d=a.isLocalUser,e=a.onClick,f=a.participant;a=a.subtitle;d=b("React").createElement("div",{className:"_71p4",role:"group"},b("React").createElement(b("MessengerContactImage.react"),{className:"_71p5",isMessengerUser:f.is_messenger_user,isPartiesUser:f.is_parties_user,size:k,src:f.image_src}),b("React").createElement("div",{className:"_71jj"},b("React").createElement("div",{className:"_71jk"},b("React").createElement("div",{className:"_71jl"},d===!0?j._("You"):f.name),a!=null?b("React").createElement("div",{className:"_71jm"},a):null),c===!0?b("React").createElement(b("Image.react"),{className:"_73kp",src:g("505224")}):null));if(e)return b("React").createElement(b("ClickableArea.react"),{onClick:e},d);else return d}e.exports=a}),null);
__d("RTCMobileGroupCallRosterBody.react",["fbt","FBRTCGroupCallStore","FBRTCParticipantCallState","FluxContainer","React","RTCCallStore","RTCGroupCallActions","RTCMobileGroupCallRosterRow.react","RTCMobileRosterSorter","RTWebStrings","emptyFunction","memoizeWithArgs","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=6;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=b("memoizeWithArgs")(function(a){return function(){b("RTCGroupCallActions").setPinnedSpeaker(this.state.pinnedSpeakerFBID===a?null:a)}.bind(this)}.bind(this),b("emptyFunction").thatReturnsArgument,"_bindOnRowClick"),c}a.getStores=function(){return[b("FBRTCGroupCallStore"),b("RTCCallStore")]};a.calculateState=function(){var a=b("FBRTCGroupCallStore").getState(),c=a.pinnedSpeakerFBID;a=a.participants;var d=b("RTCCallStore").getState(),e=d.localUser;d=d.remoteUsers;return{pinnedSpeakerFBID:c,roster:b("RTCMobileRosterSorter").sort(a,d,e.get("FBID"))}};a.prototype.render=function(){var a=this.state,c=a.pinnedSpeakerFBID;a=a.roster;var d=a.activeParticipants,e=a.localUser,f=a.activeParticipants.length>=i;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCMobileGroupCallRosterRow.react"),{isLocalUser:!0,participant:e.payload}),d.map(function(a){a=a.payload;return b("React").createElement(b("RTCMobileGroupCallRosterRow.react"),{checked:a.fbid===c,key:a.id,onClick:f?this.$1(b("nullthrows")(a.fbid)):null,participant:a,subtitle:f&&a.fbid===c?g._("Selected speaker"):null})}.bind(this)))};a.prototype.$2=function(a){switch(a.participantState){case b("FBRTCParticipantCallState").CONTACTING:return b("RTWebStrings").contacting;case b("FBRTCParticipantCallState").RINGING:return b("RTWebStrings").ringing;case b("FBRTCParticipantCallState").IN_ANOTHER_CALL:return b("RTWebStrings").busy;case b("FBRTCParticipantCallState").NO_ANSWER:return b("RTWebStrings").noAnswer;default:return null}};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCMobileGroupCallRosterView.react",["fbt","ErrorBoundary.react","React","RTCMobileFlyout.react","RTCMobileFlyoutBody.react","RTCMobileFlyoutHeader.react","RTCMobileGroupCallRosterBody.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("RTCMobileFlyout.react"),{onToggle:a.onToggle},b("React").createElement(b("RTCMobileFlyoutHeader.react"),null,g._("In this chat")),b("React").createElement(b("RTCMobileFlyoutBody.react"),null,b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("RTCMobileGroupCallRosterBody.react"),null))))}e.exports=a}),null);
__d("RTCMobileGroupCallDialogController",["DOM","React","ReactDOM","RTCMobileGroupCallRosterView.react"],(function(a,b,c,d,e,f){"use strict";var g={_container:b("DOM").create("div"),showRoster:function(){b("ReactDOM").render(b("React").createElement(b("RTCMobileGroupCallRosterView.react"),{onToggle:this._onUnmount}),this._container)},_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(g._container)}};e.exports=g}),null);
__d("RTCCallControlsRosterButton.react",["cx","fbt","FBRTCParticipantCallState","FluxContainer","React","RTCCallControlsButton.react","RTCCallStore","RTCMobileGroupCallDialogController","RTCUIRosterIcon.react","immutable","joinClasses","memoizeLastByArgs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=7;i=babelHelpers.inherits(k,b("React").PureComponent);i&&i.prototype;k.getStores=function(){return[b("RTCCallStore")]};k.calculateState=function(){var a=b("RTCCallStore").getState();a=a.remoteUsers;return{connectedParticipantCount:k.$1(a)}};k.prototype.render=function(){return this.state.connectedParticipantCount<=1?null:b("React").createElement("div",{className:"_4uwq _720p"},b("React").createElement(b("RTCCallControlsButton.react"),{className:b("joinClasses")(this.props.className,"semiopaque icon-48"),highlighted:!1,onClick:this.$2,title:h._("See Participants")},b("React").createElement(b("RTCUIRosterIcon.react"),null)),this.state.connectedParticipantCount>=j?b("React").createElement("div",{className:"_720q"},this.state.connectedParticipantCount):null)};k.prototype.$2=function(){b("RTCMobileGroupCallDialogController").showRoster()};function k(){i.apply(this,arguments)}k.$1=b("memoizeLastByArgs")(function(a){return 1+a.count(function(a){return((a=a.participantState)==null?void 0:a.state)===b("FBRTCParticipantCallState").CONNECTED})});e.exports=b("FluxContainer").create(k)}),null);
__d("CollabInitStreamTriggerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ESCALATION_APPROVED:"escalation_approved",ESCALATION_INITIATED:"escalation_initiated",REDIAL:"redial",USER_MEDIA_REQUEST:"user_media_request",USER_SETTINGS_CHANGED:"user_settings_changed"})}),null);
__d("RTCMediaDevicesActionTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENUMERATE_MEDIA_DEVICES:"ENUMERATE_MEDIA_DEVICES"})}),null);
__d("RTCMediaDevicesActions",["RTCAppDispatcher","RTCMediaDevicesActionTypes"],(function(a,b,c,d,e,f){"use strict";a={enumerate:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCMediaDevicesActionTypes").ENUMERATE_MEDIA_DEVICES,devices:a})}};e.exports=a}),null);
__d("RTCMediaDevicesStore",["FBRTCConsoleLogger","FluxReduceStore","RTCAppDispatcher","RTCMediaDevices","RTCMediaDevicesActions","RTCMediaDevicesActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("RTCAppDispatcher")),this.$RTCMediaDevicesStore1(),b("RTCMediaDevices").addEventListener("devicechange",this.$RTCMediaDevicesStore1)}a.prototype.$RTCMediaDevicesStore1=function(){b("RTCMediaDevices").enumerateDevices().then(function(a){return b("RTCMediaDevicesActions").enumerate(a)})["catch"](function(a){})};a.prototype.getInitialState=function(){return null};a.prototype.reduce=function(a,c){var d=c.type;c=c.devices;switch(d){case b("RTCMediaDevicesActionTypes").ENUMERATE_MEDIA_DEVICES:return[].concat(c);default:return a}};a.prototype.refresh=function(){this.$RTCMediaDevicesStore1()};a.prototype.getByLabel=function(a,b){var c=this.getState();return!c?null:c.find(function(c){return c.kind===b&&c.label===a})||c.find(function(c){return c.kind===b&&i(c.label,a)})};a.__moduleID=e.id;var h=/#\d+\s(\([\da-f]{4}:[\da-f]{4}\))$|\s#\d+$/;function i(a,b){return a.replace(h,"$1")===b.replace(h,"$1")}e.exports=new a()}),null);
__d("RTCUserSettingsActionTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USER_SETTINGS_CANCEL_EDITING:"USER_SETTINGS_CANCEL_EDITING",USER_SETTINGS_EDIT:"USER_SETTINGS_EDIT",USER_SETTINGS_SAVE:"USER_SETTINGS_SAVE",USER_SETTINGS_SET_AUDIO_INPUT:"USER_SETTINGS_SET_AUDIO_INPUT",USER_SETTINGS_SET_AUDIO_OUTPUT:"USER_SETTINGS_SET_AUDIO_OUTPUT",USER_SETTINGS_SET_VIDEO_INPUT:"USER_SETTINGS_SET_VIDEO_INPUT"})}),null);
__d("RTCUserSettingsReducers",["RTCCallActionTypes","RTCMediaDevicesStore","RTCUserSettingsActionTypes"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){switch(c.type){case b("RTCUserSettingsActionTypes").USER_SETTINGS_EDIT:return a.set("editing",!0);case b("RTCUserSettingsActionTypes").USER_SETTINGS_CANCEL_EDITING:return a.set("editing",!1);case b("RTCUserSettingsActionTypes").USER_SETTINGS_SAVE:return a.set("audioInput",c.audioInput).set("audioOutput",c.audioOutput).set("editing",!1).set("videoInput",c.videoInput);case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_INPUT:return a.set("audioInput",c.audioInput);case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_OUTPUT:return a.set("audioOutput",c.audioOutput);case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_VIDEO_INPUT:return a.set("videoInput",c.videoInput);default:return a}}function c(a,c){switch(c.type){case b("RTCCallActionTypes").ADD_LOCAL_STREAM:return a.set("audioInput",g(c.stream.getAudioTracks()[0],"audioinput")||a.audioInput).set("videoInput",g(c.stream.getVideoTracks()[0],"videoinput")||a.videoInput);default:return a}}function g(a,c){if(!a)return null;a=b("RTCMediaDevicesStore").getByLabel(a.label,c);return a?a.deviceId:null}e.exports={activelySetSettings:a,passivelySetSettings:c}}),null);
__d("RTCUserSettingsStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("immutable").Record({audioInput:null,audioOutput:null,editing:!1,videoInput:null}));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("RTCUserSettingsStore",["FluxReduceStore","RTCAppDispatcher","RTCUserSettingsReducers","RTCUserSettingsStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[b("RTCUserSettingsReducers").activelySetSettings,b("RTCUserSettingsReducers").passivelySetSettings];c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("RTCAppDispatcher"))}a.prototype.getInitialState=function(){return new(b("RTCUserSettingsStoreState"))()};a.prototype.reduce=function(a,b){return h.reduce(function(a,c){return c(a,b)},a)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("RTCP2PRedialButton.react",["cx","fbt","Bootloader","CollabCallMessengerBrowserEventEnum","CollabInitStreamTriggerType","FBRTCConfig","FBRTCConsoleLogger","FBRTCLogger","React","RTCCallActions","RTCCallControlsButtonWithLabel.react","RTCCallStore","RTCP2PCallStore","RTCP2PProtocolHandler","RTCUICameraIcon.react","RTCUIPhoneIcon.react","RTCUserSettingsStore","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs","generateRTCCallID","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;function j(a,c,d,e){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(a,{peerID:e.FBID,callID:Number(d),eventDetails:c})},"RTCP2PRedialButton.react")}function k(){__p&&__p();var a=b("generateRTCCallID")().toString();b("RTCCallActions").resetForRedial(a,a);a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logClick(babelHelpers["extends"]({},a,{callType:b("RTWebLoggingCallType").P2P,component:b("RTWebLoggingComponent").REDIAL,surface:b("RTWebLoggingSurface").CALL_CONTAINER}));a=b("RTCUserSettingsStore").getState();var c=a.audioInput;a=a.videoInput;var d=b("RTCP2PCallStore").isAudioOnly();b("RTCP2PProtocolHandler").initStream(!d,c,a).then(function(a){b("RTCCallActions").addLocalStream(a),b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.REDIAL_BUTTON)})["catch"](function(a){var c=b("RTCCallStore").getState(),d=c.callInfo.conferenceName;c=c.remoteUsers;j(b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,JSON.stringify({error:a.name,constraint:a.constraint,trigger:b("CollabInitStreamTriggerType").REDIAL}),d,c.first())})}i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.componentDidMount=function(){var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logImpression(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!1),component:b("RTWebLoggingComponent").REDIAL,surface:b("RTWebLoggingSurface").CALL_CONTAINER}))};a.prototype.render=function(){var a=this.props,c=a.className,d=a.icon;a=a.title;return b("React").createElement(b("RTCCallControlsButtonWithLabel.react"),{className:b("joinClasses")("semiopaque icon-48",c),"data-testid":b("VideoCallWebDriverIDs").REDIAL_BUTTON,onClick:k,title:a},d)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBRTCMobileBrowserAppViewFooter.react",["cx","FBRTCHangupReason","React","RTCAppViewFooter.react","RTCCallControls.react","RTCCallControlsCloseWindowButton.react","RTCCallControlsEndCallButton.react","RTCCallControlsRosterButton.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleVideoButton.react","RTCCallControlsVideoEscalationButton.react","RTCConferenceState","RTCMWProtocolHandler","RTCP2PRedialButton.react","RTCUICameraIcon.react","RTWebStrings"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.props,c=a.isP2P,d=a.protocolHandler,e=a.conferenceName;a=a.serverInfoData;c&&d?d.endCall():e!=null&&a!=null&&b("RTCMWProtocolHandler").endCall(e,a,b("FBRTCHangupReason").HANGUP_CALL)}.bind(this),c}a.prototype.render=function(){switch(this.props.conferenceState){case b("RTCConferenceState").TERMINATED:return this.props.linkHash==null?b("React").createElement(b("RTCAppViewFooter.react"),null,b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_7f4o"},b("React").createElement(b("RTCCallControlsCloseWindowButton.react"),{className:"_7f4p",label:b("RTWebStrings").dismiss}),b("React").createElement(b("RTCP2PRedialButton.react"),{className:"_7f4q",icon:b("React").createElement(b("RTCUICameraIcon.react"),null),title:b("RTWebStrings").callAgain}))):b("React").createElement(b("RTCAppViewFooter.react"),null);default:return b("React").createElement(b("RTCAppViewFooter.react"),null,b("React").createElement(b("RTCCallControls.react"),{autoHide:!0,className:"_5rdt"},this.props.conferenceState===b("RTCConferenceState").CONNECTED?b("React").createElement(b("RTCCallControlsRosterButton.react"),null):null,this.props.localUser.hasVideo()?b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.props.conferenceState,initializeVideo:!0,isM4:!0,isP2P:this.props.isP2P,videoMuted:this.props.localUser.isVideoMuted()}):b("React").createElement(b("RTCCallControlsVideoEscalationButton.react"),{disabled:!this.props.hasVideoInput,isM4:!0,onClick:function(){return b("RTCMWProtocolHandler").escalateLocalStream()}}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:this.props.localUser.isAudioMuted(),isM4:!0}),b("React").createElement(b("RTCCallControlsEndCallButton.react"),{onClick:this.$1})))}};e.exports=a}),null);
__d("RTCInCallSlidingLogoContainer.react",["cx","fbt","FBRTCConstants","Link.react","MessengerChatLinksFunnelLogger","React","VideoChatLinksLoggingEvent","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCConstants").GroupVideoViewLayout;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.$1=function(){b("MessengerChatLinksFunnelLogger").appendAction("click_app_download_in_call"),this.props.onClick()}.bind(this)}a.prototype.componentDidMount=function(){this.props.userActionsLogger().setEvent(b("VideoChatLinksLoggingEvent").IMPRESSION).log()};a.prototype.render=function(){return b("React").createElement(b("Link.react"),{onClick:this.$1},b("React").createElement("div",{className:"_723-"},b("React").createElement(b("XUIText.react"),{className:"_723_",display:"block",size:"body2"},this.props.layout===j.GRID?h._("Download Messenger"):h._({"*":"{number} people in this chat","_1":"1 person in this chat"},[h._plural(this.props.connectedRemoteUsersSize+1,"number")])),b("React").createElement(b("XUIText.react"),{className:"_7240",display:"block",size:"body2"},this.props.layout===j.GRID?h._("Get the full experience with the app"):h._("Get the best group experience with the app"))))};e.exports=a}),null);
__d("RTCMobilePostCallHeaderBanner.react",["cx","fbt","FlexLayout.react","Link.react","MessengerChatLinksFunnelLogger","React","RTCLogo.react","VideoChatLinksLoggingEvent","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.$1=function(){b("MessengerChatLinksFunnelLogger").appendAction("click_app_download_post_call"),this.props.onClick()}.bind(this)}a.prototype.componentDidMount=function(){this.props.userActionsLogger().setEvent(b("VideoChatLinksLoggingEvent").IMPRESSION).log()};a.prototype.render=function(){return b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_6qxt"},b("React").createElement(b("Link.react"),{onClick:this.$1,target:"_blank"},b("React").createElement(b("RTCLogo.react"),{className:"_4key _6qy5",mode:"color"})),b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("XUIText.react"),{className:"_6qxu",display:"block",size:"body2"},h._("Download Messenger")),b("React").createElement(b("XUIText.react"),{className:"_6qxv",color:"secondary",display:"block",size:"body2"},h._("Join this chat with the Messenger app"))))};e.exports=a}),null);
__d("VideoChatLinksLoggingComponent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMESSAGE_LINK_MESSAGE:"imessage_link_message",IMESSAGE_LINK_MESSAGE_PREVIEW:"imessage_link_message_preview",IMESSAGE_LOGIN_BUTTON:"imessage_login_button",IMESSAGE_OPEN_MESSENGER_BUTTON:"imessage_open_messenger_button",CREATE_LINK_BUTTON:"create_link_button",SHARE_LINK_BUTTON:"share_link_button",SHARE_TO_REVOKE_BUTTON:"link_revoke_button",SHARE_TO_FACEBOOK_BUTTON:"share_to_facebook_button",SHARE_TO_MESSENGER_BUTTON:"share_to_messenger_button",SHARE_TO_INSTAGRAM_BUTTON:"share_to_instagram_button",SHARE_TO_SMS_BUTTON:"share_to_sms_button",SHARE_TO_COPY_BUTTON:"share_to_copy_button",SHARE_TO_MORE_BUTTON:"share_to_more_button",SHARE_ALERT_CONFIRM:"confirm_dialog",SHARE_ALERT_CANCEL:"cancel_dialog",MESSENGER_APP_STORE_LINK:"messenger_app_store_link",MESSENGER_APP_DEEP_LINK:"messenger_app_deep_link"})}),null);
__d("FBRTCMobileBrowserAppViewHeader.react",["cx","FBRTCConstants","React","RTCAppViewHeader.react","RTCCallControls.react","RTCCallControlsButton.react","RTCCallControlsToggleFullScreenButton.react","RTCConferenceState","RTCInCallSlidingLogoContainer.react","RTCLogo.react","RTCMobilePostCallHeaderBanner.react","VideoChatLinksLoggingComponent","VideoChatLinksLoggingEvent","VideoChatLinksLoggingSurface","VideoChatLinksUserActionsTypedLogger","goURI","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBRTCConstants").GroupVideoViewLayout,j="https://play.google.com/store/apps/details?id=com.facebook.orca",k=4e3;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={slideBanner:!1,displayHeader:!1},this.$3=function(){return new(b("VideoChatLinksUserActionsTypedLogger"))().setSurface(this.props.conferenceState===b("RTCConferenceState").TERMINATED?b("VideoChatLinksLoggingSurface").WWW_POSTCALL:b("VideoChatLinksLoggingSurface").WWW_INCALL).setComponent(b("VideoChatLinksLoggingComponent").MESSENGER_APP_STORE_LINK).setVideoCallLinkHash(this.props.linkHash)}.bind(this),this.$2=function(){this.setState({slideBanner:!0}),this.$1=window.setTimeout(function(){this.setState({slideBanner:!1,displayHeader:!1})}.bind(this),k)}.bind(this),this.onLinkClick=function(){this.$3().setEvent(b("VideoChatLinksLoggingEvent").TAP).log(),b("goURI")(this.props.appstoreLink!==null&&this.props.appstoreLink!==void 0?this.props.appstoreLink:j)}.bind(this),c}a.prototype.componentDidUpdate=function(a){a.layout===i.GRID&&this.props.layout===i.DOMINANT_SPEAKER&&(this.setState({displayHeader:!0}),this.$2())};a.prototype.componentDidMount=function(){this.$3().setEvent(b("VideoChatLinksLoggingEvent").IMPRESSION).log()};a.prototype.componentWillUnmount=function(){window.clearTimeout(this.$1)};a.prototype.render=function(){var a=this.props,c=a.isAudioCall,d=a.layout,e=a.connectedRemoteUsersSize,f=a.linkHash;a=a.conferenceState;switch(a){case b("RTCConferenceState").TERMINATING:return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:c});case b("RTCConferenceState").TERMINATED:if(f!=null)return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:c},b("React").createElement(b("RTCMobilePostCallHeaderBanner.react"),{onClick:this.onLinkClick,userActionsLogger:this.$3}));case b("RTCConferenceState").AWAITING_USER_START:case b("RTCConferenceState").CONNECTED:case b("RTCConferenceState").CONNECTING:case b("RTCConferenceState").NEW:case b("RTCConferenceState").RENEGOTIATING:default:return b("React").createElement(b("RTCAppViewHeader.react"),{className:this.state.slideBanner?"_7238":"",isAudioCall:c},b("React").createElement(b("RTCInCallSlidingLogoContainer.react"),{connectedRemoteUsersSize:e,layout:d,onClick:this.onLinkClick,userActionsLogger:this.$3}),b("React").createElement(b("RTCCallControls.react"),{autoHide:!this.state.displayHeader&&!this.state.slideBanner,compact:!0},b("React").createElement(b("RTCCallControlsButton.react"),{className:"_7239",onClick:this.$2,title:""},b("React").createElement(b("RTCLogo.react"),{mode:"mono"})),b("React").createElement(b("RTCCallControlsToggleFullScreenButton.react"),{className:b("joinClasses")("semiopaque","_6tcw"),isM4:!0})))}};e.exports=a}),null);
__d("RTWebMobileCallView.react",["FBRTCMobileBrowserAppViewContent.react","FBRTCMobileBrowserAppViewFooter.react","FBRTCMobileBrowserAppViewHeader.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FBRTCMobileBrowserAppViewHeader.react"),{conferenceState:a.conferenceState,connectedRemoteUsersSize:a.connectedRemoteUsersSize,isAudioCall:a.isAudioCall,layout:a.layout,linkHash:a.linkHash}),b("React").createElement(b("FBRTCMobileBrowserAppViewContent.react"),{conferenceState:a.conferenceState,isP2P:a.isP2P,layout:a.layout,localUser:a.localUser,participants:a.participants,rejoinCall:a.rejoinCall,remoteUsers:a.remoteUsers}),b("React").createElement(b("FBRTCMobileBrowserAppViewFooter.react"),{conferenceName:a.conferenceName,conferenceState:a.conferenceState,hasVideoInput:a.hasVideoInput,isP2P:a.isP2P,linkHash:a.linkHash,localUser:a.localUser,protocolHandler:a.protocolHandler,rejoinCall:a.rejoinCall,serverInfoData:a.serverInfoData}))}e.exports=a}),null);
__d("RTCGroupCallView.react",["cx","fbt","invariant","Promise","FBRTCConsoleLogger","FBRTCConstants","FBRTCHangupReason","FBRTCParticipantCallState","FBRTCSupport","React","RTCAppView.react","RTCChatViewWrapper.react","RTCConferenceState","RTCGrantUserMediaAccessView.react","RTCMWAppViewContent.react","RTCMWAppViewFooter.react","RTCMWAppViewHeader.react","RTCMWProtocolHandler","RTCPeerConnectionStats.react","RTCUserMediaRequestState","RTCUtils","RTWebLoggingComponent","RTWebLoggingSurface","RTWebMobileCallView.react","RTWebUserActionLogger","Run","debounce"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("FBRTCConstants").GroupVideoViewLayout;c=b("React").PureComponent;var l=2,m=8,n=5;function o(a){return a.count(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED})}function p(a,b,c){if(b)return{hideLayoutSwitchButton:!0,remoteUsersLayout:c>n?k.DOMINANT_SPEAKER:k.GRID};b=c>m||c<l;c=c<l?k.GRID:b?k.DOMINANT_SPEAKER:a;return{hideLayoutSwitchButton:b,remoteUsersLayout:c}}d=babelHelpers.inherits(a,c);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={hasVideoInput:!1,wasConnected:!1},this.$1=b("debounce")(function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").WINDOW_RESIZE,surface:b("RTWebLoggingSurface").CALL_CONTAINER})},2e3),c}a.getDerivedStateFromProps=function(a,c){return{wasConnected:c.wasConnected||a.conferenceState===b("RTCConferenceState").CONNECTED}};a.prototype.render=function(){__p&&__p();var a=this.props.userMediaRequest;switch(a.state){case b("RTCUserMediaRequestState").PENDING:case b("RTCUserMediaRequestState").REJECTED:return b("React").createElement(b("RTCGrantUserMediaAccessView.react"),{isAudioCall:this.props.isAudioCall,userMediaRequest:a});default:a=this.props;var c=a.layout;a=babelHelpers.objectWithoutPropertiesLoose(a,["layout"]);var d=this.props.thread?this.props.thread.thread_id:"0";!this.props.chatWindowVisible||this.props.thread!=null||i(0,5576);var e=b("FBRTCSupport").isMobileDevice(),f=o(this.props.remoteUsers);c=p(c,e,f);var g=c.hideLayoutSwitchButton;c=c.remoteUsersLayout;return b("React").createElement(b("RTCChatViewWrapper.react"),{callerID:this.props.localUser.FBID,chatWindowVisible:this.props.chatWindowVisible,threadID:d},b("React").createElement("div",{className:"_38jq _li"+(this.props.conferenceState===b("RTCConferenceState").TERMINATED?" _17cj":"")},b("React").createElement(b("RTCAppView.react"),{isAudioCall:this.props.isAudioCall},e?b("React").createElement(b("RTWebMobileCallView.react"),{conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,connectedRemoteUsersSize:f,hasVideoInput:this.state.hasVideoInput,isAudioCall:this.props.isAudioCall,isP2P:!1,layout:c,linkHash:this.props.linkHash,localUser:this.props.localUser,participants:this.props.participants,rejoinCall:this.props.rejoinCall,remoteUsers:this.props.remoteUsers,serverInfoData:this.props.serverInfoData}):b("React").createElement(q,babelHelpers["extends"]({hasVideoInput:this.state.hasVideoInput,hideLayoutSwitchButton:g,layout:c,wasConnected:this.state.wasConnected},a)))))}};a.prototype.componentDidMount=function(){__p&&__p();window.addEventListener("resize",this.$1),new(b("Promise"))(function(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?a(navigator.mediaDevices.enumerateDevices().then(function(a){return a.some(function(a){a=a.kind;return a==="videoinput"})})):a(!0)}).then(function(a){return this.setState({hasVideoInput:a})}.bind(this))["catch"](function(a){}),b("Run").onBeforeUnload(function(){var a=this.props.conferenceState;switch(a){case b("RTCConferenceState").CONNECTING:case b("RTCConferenceState").CONNECTED:case b("RTCConferenceState").TERMINATING:return h._("Leaving this page will end your call.")}return void 0}.bind(this),!1),b("Run").onUnload(function(){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"window_unload"});var a=this.props.conferenceState;if(a===b("RTCConferenceState").TERMINATED)return;b("RTCMWProtocolHandler").endCall(this.props.conferenceName,this.props.serverInfoData,b("FBRTCHangupReason").HANGUP_CALL,"BrowserClosed")}.bind(this))};a.prototype.componentDidUpdate=function(a){b("FBRTCSupport").isMobileDevice()&&b("RTCUtils").isFullScreen()&&this.props.conferenceState===b("RTCConferenceState").TERMINATED&&a.conferenceState!==b("RTCConferenceState").TERMINATED&&b("RTCUtils").exitFullScreen()};a.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.$1)};function q(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCMWAppViewHeader.react"),babelHelpers["extends"]({showChatButton:a.thread!=null},a)),b("React").createElement(b("RTCMWAppViewContent.react"),a),b("React").createElement(b("RTCMWAppViewFooter.react"),a),b("React").createElement(b("RTCPeerConnectionStats.react"),{connection:a.connection,style:{marginBottom:40}}))}e.exports=a}),null);
__d("RTCCallInitUtils",["invariant","CurrentUser","FBRTCCallSummary","FBRTCCallSummaryStore","FBRTCConstants","MercuryIDs","MercuryParticipantTypes","MessengerParticipants.bs","RTCCallActions","RTCCallStore","RTCUser","URI","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").CallType,i=b("FBRTCConstants").SignalingProtocol;a={initializeCallSummary:function(a){var c=b("FBRTCCallSummary").restoreOrInitialize(b("FBRTCCallSummaryStore").getInstance(),a.peerID,a.callID,a.isCaller);b("RTCCallActions").setCallSummary(c);b("RTCCallStore").mutateCallSummary(function(b){b.onPopupOpened(),b.setCallType(a.protocol===i.P2P?a.isAudio?h.VOIP:h.DIRECT_VIDEO:"mws"),b.setActiveConnection(a.protocol===i.P2P?"p2p":"mws")})},initializeRTCUsers:function(a,c){a=a.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});b("MessengerParticipants.bs").getMulti(a,function(a){a=b("immutable").Map(a);this.initializeParticipantsAndStartCall(a,!0,c)}.bind(this))},initializeParticipantsAndStartCall:function(a,c,d){var e=a.keySeq().toArray();b("MessengerParticipants.bs").getBigImageMultiWithSize(e,function(e){c&&b("RTCCallActions").initRemoteUsers(a.filter(function(a){a=a.fbid;return a!==b("CurrentUser").getID()}).map(function(a){return this._createRTCUser(a,e)}.bind(this)).toSet());var f=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID());b("RTCCallActions").initLocalUser(this._createRTCUser(a.get(f),e));d()}.bind(this),100)},_createRTCUser:function(a,c){var d=a.big_image_src,e=a.fbid,f=a.user_type,h=a.href,i=a.image_src,j=a.is_messenger_user,k=a.name,l=a.room_location,m=a.short_name;a=a.vanity;e||g(0,1174);if(c){var n=b("MercuryIDs").getParticipantIDFromUserID(e);d=c[n]}return new(b("RTCUser"))({FBID:e,isGuestUser:f===b("MercuryParticipantTypes").GUEST,isMessengerUser:!!j,profileUrl:new(b("URI"))(h),profilePictureUrl:d||i,roomLocation:l,userName:k,userShortName:m,vanity:a?a:""})}};e.exports=a}),null);
__d("RTCFeedbackOptionsList.react",["cx","FDSCheckboxInput.maintenance.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.selectedOptions,d=a.options;return b("React").createElement("div",{className:"_78f-"},d.keySeq().toArray().map(function(e){return b("React").createElement("div",{key:e},b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:d.get(e),onChange:function(b){var d=[].concat(c);b?d.push(e):d=d.filter(function(a){return a!==e});a.onFeedbackSubmit(d)},value:c.includes(e)}))}))};e.exports=a}),null);
__d("RTCollabCallFeedback.react",["cx","fbt","AbstractTextArea.react","FDSButton.react","FDSTabGroup.react","React","RTCFeedbackOptionsList.react","immutable","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("keyMirror")({AUDIO:null,OTHER:null,VIDEO:null}),k={};k[j.AUDIO]=b("immutable").Map({delayed_sound:h._("The sound was delayed"),echo_sound:h._("There was echo"),breaking_audio:h._("The audio was breaking up"),other_could_not_hear_me:h._("The others couldn't hear me"),could_not_hear_others:h._("I couldn't hear the others")});k[j.VIDEO]=b("immutable").Map({pixelated_video:h._("Blurry or pixellated video"),no_incoming_video:h._("Didn't receive video"),no_outgoing_video:h._("The others couldn't see me"),freezing_video:h._("Freezing video")});var l=[{label:h._("Video"),value:j.VIDEO},{label:h._("Audio"),value:j.AUDIO},{label:h._("Other"),value:j.OTHER}];c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={feedbackMessage:null,selectedAudioOptions:[],selectedVideoOptions:[],selectedTab:j.VIDEO},this.$4=function(a){this.setState({selectedTab:a})}.bind(this),this.$2=function(a){this.setState({selectedAudioOptions:a})}.bind(this),this.$1=function(a){this.setState({selectedVideoOptions:a})}.bind(this),this.$3=function(a){this.setState({feedbackMessage:a.target.value})}.bind(this),this.$5=function(){var a=this.state,b=a.feedbackMessage,c=a.selectedAudioOptions;a=a.selectedVideoOptions;this.props.onFeedbackSubmit({feedbackMessage:b,selectedFeedbackOptions:c.concat(a)})}.bind(this),b}a.prototype.render=function(){var a=b("React").createElement("div",null);switch(this.state.selectedTab){case j.VIDEO:a=b("React").createElement(n,{onFeedbackSelected:this.$1,selectedOptions:this.state.selectedVideoOptions});break;case j.AUDIO:a=b("React").createElement(o,{onFeedbackSelected:this.$2,selectedOptions:this.state.selectedAudioOptions});break;default:a=b("React").createElement(m,{feedbackValue:this.state.feedbackMessage,onFeedbackMessageChange:this.$3})}return b("React").createElement("div",{className:"_78ew"},b("React").createElement("div",{className:"_78ex"},h._("What went wrong?")),b("React").createElement("div",{className:"_78ey"},h._("Please let us know how we can improve")),b("React").createElement("div",{className:"_78f2"},b("React").createElement("div",{className:"_78f3"},b("React").createElement(b("FDSTabGroup.react"),{onChange:this.$4,tabs:l,value:this.state.selectedTab}),b("React").createElement("div",{className:"_78f4"}),a),b("React").createElement("div",{className:"_78f5"},b("React").createElement(b("FDSButton.react"),{label:h._("Submit feedback"),onClick:this.$5,use:"flatWhite",width:360}))))};var m=function(a){return b("React").createElement(b("AbstractTextArea.react"),{className:"_78f6",onChange:a.onFeedbackMessageChange,placeholder:h._("Describe the problem..."),value:a.feedbackValue})},n=function(a){return b("React").createElement(b("RTCFeedbackOptionsList.react"),{onFeedbackSubmit:a.onFeedbackSelected,options:k[j.VIDEO],selectedOptions:a.selectedOptions})},o=function(a){return b("React").createElement(b("RTCFeedbackOptionsList.react"),{onFeedbackSubmit:a.onFeedbackSelected,options:k[j.AUDIO],selectedOptions:a.selectedOptions})};e.exports=a}),null);
__d("RTCEndOfCallSurvey.react",["cx","fbt","Image.react","React","RTCCallActions","RTCollabCallFeedback.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=2500;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={feedbackComplete:!1,promptFeedback:!1},this.$4=function(){this.setState({promptFeedback:!0})}.bind(this),this.$3=function(){b("RTCCallActions").submitRating(5),this.setState({feedbackComplete:!0}),this.$5()}.bind(this),this.$2=function(a){a.feedbackMessage!=null&&b("RTCCallActions").submitFeedback(a.feedbackMessage),a.selectedFeedbackOptions.length>0&&b("RTCCallActions").submitFeedbackOptions(a.selectedFeedbackOptions),b("RTCCallActions").submitRating(1),this.setState({feedbackComplete:!0}),this.$5()}.bind(this),c}a.prototype.render=function(){if(this.state.feedbackComplete)return b("React").createElement(o,null);else if(this.state.promptFeedback)return b("React").createElement(b("RTCollabCallFeedback.react"),{onFeedbackSubmit:this.$2});return b("React").createElement("div",{className:"_78ew"},b("React").createElement("div",{className:"_78ex"},h._("How was your call?")),b("React").createElement("div",{className:"_78ey"},h._("Please rate the quality of your video call")),b("React").createElement("div",{className:"_78ez"},b("React").createElement(k,{onClick:this.$3},b("React").createElement(l,null),h._("Good")),b("React").createElement(k,{onClick:this.$4},b("React").createElement(m,null),h._("Bad"))))};a.prototype.$5=function(){this.$1=window.setTimeout(function(){return this.props.onDone()}.bind(this),j)};a.prototype.componentWillUnmount=function(){this.$1!=null&&window.clearTimeout(this.$1)};var k=function(a){return b("React").createElement("div",{className:"_78e-",onClick:a.onClick,role:"menuitem",tabIndex:"0"},a.children)},l=function(){return b("React").createElement("div",{className:"_78e_"})},m=function(){return b("React").createElement("div",{className:"_78f0"})},n=function(){return b("React").createElement(b("Image.react"),{src:"/images/chat/webrtc/feedback_thank_you.png",style:{marginBottom:20}})},o=function(){return b("React").createElement("div",{className:"_78ew"},b("React").createElement(n,null),b("React").createElement("div",{className:"_78ex"},h._("Thank you!")),b("React").createElement("div",{className:"_78ey"},h._("Your feedback has been logged and we might contact you if we have any questions.")))};e.exports=a}),null);
__d("RTCP2PIncallView.react",["cx","fbt","FBRTCConstants","FluxContainer","React","RTCAppDispatcher","RTCCallNUXActions","RTCCallNUXIDs","RTCCallNUXStore","RTCCallStore","RTCIncallAudio.react","RTCIncallVideo.react","ShimButton.react","VideoCallWebDriverIDs","XUIAmbientNUX.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCConstants").SignalingProtocol;a=b("React").PureComponent;function k(a){var c=a.audioSinkID;a=a.streams;return a.toArray().map(function(a,d){return b("React").createElement(b("RTCIncallAudio.react"),babelHelpers["extends"]({key:d},{audioSinkID:c,mediaStream:a}))})}c=babelHelpers.inherits(l,a);i=c&&c.prototype;l.getStores=function(){return[b("RTCCallNUXStore")]};l.calculateState=function(a){a===void 0&&(a={});return babelHelpers["extends"]({},a,{showNux:b("RTCCallNUXStore").getState().showRemoteStreamsSliderNUX})};function l(a){__p&&__p();i.constructor.call(this,a),this.state=l.calculateState({ratio:.5,resizing:!1}),this.$11=function(){document.addEventListener("keydown",this.$14)}.bind(this),this.$9=function(){document.removeEventListener("keydown",this.$14)}.bind(this),this.$14=function(a){a=a.key;var b=this.state.ratio;switch(a){case"ArrowLeft":this.$15(b-.025);break;case"ArrowRight":this.$15(b+.025);break;case"Escape":this.$10();break}}.bind(this),this.$10=function(){this.setState({ratio:.5})}.bind(this),this.$12=function(a){__p&&__p();var b=a.clientX;if(!this.$1)return;this.$3=this.$1.offsetLeft;this.$4=this.$1.offsetWidth;this.setState({resizing:!0},function(){return this.$16({clientX:b})}.bind(this));document.addEventListener("mousemove",this.$16);document.addEventListener("mouseup",this.$17);this.state.showNux&&this.$18()}.bind(this),this.$16=function(a){a=a.clientX;if(!this.state.resizing)return;this.$15((a-this.$3)/this.$4)}.bind(this),this.$17=function(){this.$19(),this.setState({resizing:!1})}.bind(this),this.$13=function(a){this.$2=a&&a.getDOMNode?a.getDOMNode():a}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")])}l.prototype.render=function(){__p&&__p();var a=this.props.user;if(!a)return null;var c=a.streams,d=a.screenStreams;if(this.props.isAudioCall)return b("React").createElement("section",{className:"_1b9s"+(this.state.resizing?" resizing":""),ref:function(a){return this.$1=a}.bind(this)},this.props.children,b("React").createElement("div",{className:"_1b9t"},b("React").createElement(k,{audioSinkID:this.props.audioSinkID,streams:c}),b("React").createElement(k,{audioSinkID:this.props.audioSinkID,streams:d})));var e=!(c.isEmpty()||d.isEmpty()||!this.props.renderScreenStreams);return b("React").createElement("section",{className:"_1b9s"+(this.state.resizing?" resizing":""),ref:function(a){return this.$1=a}.bind(this)},this.props.children,this.$5(d,e),this.$6(e),this.$7(e),this.$8(c,e,a.isVideoMuted()))};l.prototype.$6=function(a){return!a?null:b("React").createElement(b("ShimButton.react"),{className:"_1b9u",onBlur:this.$9,onDoubleClick:this.$10,onFocus:this.$11,onMouseDown:this.$12,ref:this.$13,role:"button",tabIndex:0})};l.prototype.$15=function(a){this.setState({ratio:Math.min(.85,Math.max(.15,a))})};l.prototype.$19=function(){document.removeEventListener("mousemove",this.$16),document.removeEventListener("mouseup",this.$17)};l.prototype.$18=function(){b("RTCCallNUXActions").dismissNUX(b("RTCCallNUXIDs").RTC_P2P_REMOTE_STREAMS_SLIDER_NUX)};l.prototype.$7=function(a){if(!this.state.showNux||!a||!this.$1)return null;a=(this.$1.clientHeight-32)/2;var c=h._("Control the size of the video and shared content by dragging the slider");b("RTCCallNUXActions").markNUXViewed(b("RTCCallNUXIDs").RTC_P2P_REMOTE_STREAMS_SLIDER_NUX);return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.$2}.bind(this),customwidth:250,offsetY:a,onCloseButtonClick:this.$18,position:"right",shown:this.state.showNux,width:"custom"},c)};l.prototype.$5=function(a,c){if(a.isEmpty()||!this.props.renderScreenStreams)return null;var d=this.props.audioSinkID;c=c?{flexGrow:this.state.ratio}:null;return b("React").createElement("div",{className:"_1b9t",style:c},a.toArray().map(function(a,c){return b("React").createElement(b("RTCIncallVideo.react"),babelHelpers["extends"]({key:c},{audioSinkID:d,mediaStream:a}))}))};l.prototype.$20=function(a){var b=this.props.user;return!b?a.getVideoTracks().length>0:!b.areAllTracksMuted(a.getVideoTracks())};l.prototype.$8=function(a,c,d){__p&&__p();if(a.isEmpty())return null;var e=this.props.audioSinkID;c=c?{flexGrow:1-this.state.ratio}:null;var f=b("RTCCallStore").getConnection(j.P2P);if(!f)return null;var g=b("immutable").Set(f.getRemoteStreams());return b("React").createElement("div",{className:"_1b9t","data-testid":b("VideoCallWebDriverIDs").INCALL_VIDEO_CONTAINER,style:c},a.filter(function(a){return g.has(a)}).toArray().map(function(a,c){return this.$20(a)?b("React").createElement(b("RTCIncallVideo.react"),babelHelpers["extends"]({key:c},{audioSinkID:e,mediaStream:a,muted:d})):b("React").createElement(b("RTCIncallAudio.react"),babelHelpers["extends"]({key:c},{audioSinkID:e,mediaStream:a}))}.bind(this)))};l.prototype.componentWillUnmount=function(){this.$19(),document.removeEventListener("keydown",this.$14)};l.prototype.componentDidUpdate=function(a){this.props.user!==a.user&&this.$10()};l.defaultProps={renderScreenStreams:!0};e.exports=b("FluxContainer").create(l)}),null);
__d("RTCP2PStartCallButton.react",["cx","fbt","FBRTCLogger","React","RTCP2PCallStore","RTCTextButton.react","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("RTWebUserActionLogger").logClick({callType:b("RTWebLoggingCallType").P2P,component:b("RTWebLoggingComponent").START_CALL,conferenceState:this.props.conferenceState,mediaType:b("RTWebUserActionLogger").getMediaType(this.props.isAudio),surface:b("RTWebLoggingSurface").CALL_CONTAINER}),b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.POPUP_CALL_START_BUTTON)}.bind(this),c}a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebLoggingCallType").P2P,component:b("RTWebLoggingComponent").START_CALL,conferenceState:this.props.conferenceState,mediaType:b("RTWebUserActionLogger").getMediaType(this.props.isAudio),surface:b("RTWebLoggingSurface").CALL_CONTAINER})};a.prototype.render=function(){return b("React").createElement(b("RTCTextButton.react"),{className:"green _2fst","data-testid":b("VideoCallWebDriverIDs").RTC_APP_VIEW_START_CALL_BUTTON,label:h._("Start Call"),onClick:this.$1})};e.exports=a}),null);
__d("RTCLoggingActionTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GENERIC_COLLAB_LOG:"GENERIC_COLLAB_LOG"})}),null);
__d("RTCCallLogActions",["RTCAppDispatcher","RTCLoggingActionTypes"],(function(a,b,c,d,e,f){"use strict";a={logEvent:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCLoggingActionTypes").GENERIC_COLLAB_LOG,event:a,eventDetails:c})}};e.exports=a}),null);
__d("RTCPreCallAudioOutputPreview.react",["cx","FBRTCUtils","MercurySoundsConfig","React","ReactDOM","RTCSVGIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={isPlaying:!1,mediaStream:null},this.$5=function(){this.setState(function(a){if(this.$1!=null){var b=!a.isPlaying;b?this.$1.play():this.$1.pause();return{isPlaying:b}}return a}.bind(this))}.bind(this),b}a.prototype.componentDidMount=function(){b("promiseDone")(this.$2(this.props.audioOutputSinkID).then(function(a){return this.setState({mediaStream:a})}.bind(this))),this.$3(this.state.mediaStream),this.$4()};a.prototype.componentDidUpdate=function(a,c){a.audioOutputSinkID!==this.props.audioOutputSinkID&&(b("promiseDone")(this.$2(this.props.audioOutputSinkID).then(function(a){c.mediaStream!=null&&b("RTCUtils").stopMediaStream(c.mediaStream),this.setState({mediaStream:a})}.bind(this))),this.$4())};a.prototype.render=function(){return b("React").createElement("div",{className:"_426m",onClick:this.$5,role:"main"},b("React").createElement("audio",{autoPlay:!1,loop:!0,ref:function(a){return this.$1=a}.bind(this)},b("React").createElement("source",{src:b("MercurySoundsConfig").settings_preview_sound_mp3_url,type:"audio/mpeg"}),b("React").createElement("source",{src:b("MercurySoundsConfig").settings_preview_sound_ogg_url,type:"audio/ogg"})),this.state.isPlaying?b("React").createElement(j,null):b("React").createElement(i,null))};a.prototype.$2=function(a){return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(a)})};a.prototype.$3=function(a){this.$1&&a&&b("FBRTCUtils").attachMediaStream(this.$1,a)};a.prototype.$4=function(){if(!b("FBRTCUtils").supportsSetSink())return;var a=b("ReactDOM").findDOMNode(this.$1);this.props.audioOutputSinkID&&a!=null&&a.setSinkId(this.props.audioOutputSinkID)};var i=function(){return b("React").createElement(b("RTCSVGIcon.react"),{className:"_6p8c"},b("React").createElement("svg",{height:"61",width:"61"},b("React").createElement("path",{d:"M30.302 0C13.566 0 0 13.568 0 30.302c0 16.736 13.568 30.303 30.302 30.303 16.738 0 30.303-13.568 30.303-30.302C60.605 13.566 47.04 0 30.303 0zm11.284 31.973L24.097 42.07a1.733 1.733 0 0 1-1.727 0 1.73 1.73 0 0 1-.862-1.497V20.381c0-.617.33-1.186.862-1.496a1.733 1.733 0 0 1 1.727 0l17.486 10.097c.535.307.865.879.862 1.496a1.72 1.72 0 0 1-.86 1.494z",fillRule:"evenodd"})))},j=function(){return b("React").createElement(b("RTCSVGIcon.react"),{className:"_6p8c"},b("React").createElement("svg",{height:"60",viewBox:"0 0 60 60",width:"60"},b("React").createElement("path",{d:"M74,31 C90.568,31 104,44.432 104,61 C104,77.568 90.568,91 74,91 C57.432,91 44,77.568 44,61 C44,44.432 57.432,31 74,31 Z M66.7142857,50.7142857 C65.0574315,50.7142857 63.7142857,52.0574315 63.7142857,53.7142857 L63.7142857,69.1428571 C63.7142857,70.7997114 65.0574315,72.1428571 66.7142857,72.1428571 L82.1428571,72.1428571 C83.7997114,72.1428571 85.1428571,70.7997114 85.1428571,69.1428571 L85.1428571,53.7142857 C85.1428571,52.0574315 83.7997114,50.7142857 82.1428571,50.7142857 L66.7142857,50.7142857 Z",fillRule:"evenodd",transform:"translate(-44 -31)"})))};e.exports=a}),null);
__d("SUIMessengerRTCThemeConstants",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={DARK_MAPPING:{buttonDefault:"#4a4a4a",buttonHover:"#373948",buttonActive:"#4a4a4a",buttonDisabled:"#4a4a4a",buttonBorder:"#828282",buttonBorderDisabled:"#828282",buttonText:"#ffffff",buttonTextDisabled:"#828282",buttonPrimaryDefault:"#008FFF",buttonPrimaryHover:"#0077EC",buttonPrimaryActive:"#0060C5",buttonPrimaryDisabled:"#479EBA",buttonPrimaryBorder:"#008FFF",buttonPrimaryText:"#FFFFFF",buttonPrimaryTextDisabled:"#F5F7F9",dropdownShadowMedium:"0 4px 8px 0 rgba(0,0,0,0.15)",glyphPrimary:"#D9E0E7",glyphSecondary:"#A0A6B7",rowBackgroundDefault:"#FFFFFF",rowBackgroundHover:"#0084ff",rowBackgroundActive:"#0084ff",rowBackgroundDisabled:"#373948",highlightedBackgroundColor:"#EBEDF0",rowBorder:"#FFFFFF",rowTextDefault:"#000000",rowTextHover:"#000000",rowTextActive:"#000000",rowTextSelected:"#F9FAFB",rowTextDisabled:"#6E7285",textPrimary:"#CFD6E0",textSecondary:"#A0A6B7",textDisabled:"#6E7285",textInteractive:"#008FFF",textInverted:"#FFFFFF",textLabel:"#A0A6B7",textHighlightBackground:"#FFD34C",textDark:"#272834",washAccent:"#008FFF",washBorder:"#15151D",washEmpty:"#FFFFFF",washPrimary:"#20212C",washSecondary:"#272834",washTertiary:"#2F303E",washDark:"#15151D"},LIGHT_MAPPING:{buttonDefault:"#FFFFFF",buttonHover:"#EAEFF2",buttonActive:"#D9E0E7",buttonDisabled:"#F5F7F9",buttonBorder:"#828282",buttonBorderDisabled:"#D9E0E7",buttonText:"#272834",buttonTextDisabled:"#A0A6B7",buttonPrimaryDefault:"#008FFF",buttonPrimaryHover:"#0077EC",buttonPrimaryActive:"#0060C5",buttonPrimaryDisabled:"#6FC7FF",buttonPrimaryBorder:"#008FFF",buttonPrimaryText:"#FFFFFF",buttonPrimaryTextDisabled:"#F5F7F9",dropdownShadowMedium:"0 4px 8px 0 rgba(0,0,0,0.15)",glyphPrimary:"#272834",glyphSecondary:"#6E7285",rowBackgroundDefault:"#FFFFFF",rowBackgroundHover:"#0084ff",rowBackgroundActive:"#0084ff",rowBackgroundDisabled:"#373948",highlightedBackgroundColor:"#EBEDF0",rowBorder:"#FFFFFF",rowTextDefault:"#000000",rowTextHover:"#000000",rowTextActive:"#000000",rowTextSelected:"#F9FAFB",rowTextDisabled:"#6E7285",textPrimary:"#272834",textSecondary:"#6E7285",textDisabled:"#C1C8D6",textInteractive:"#008FFF",textInverted:"#FFFFFF",textLabel:"#272834",textHighlightBackground:"#FFD34C",textDark:"#272834",washAccent:"#008FFF",washBorder:"#D9E0E7",washEmpty:"#FFFFFF",washPrimary:"#F9FAFB",washSecondary:"#F5F7F9",washTertiary:"#F1F4F6",washDark:"#272834"}};e.exports=a}),null);
__d("messengerRTCCreateSUITheme",["ix","cssVar","Image.react","React","SUIBusinessThemeComponents","SUITheme","SUITypeStyle","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){return new(b("SUITypeStyle"))(babelHelpers["extends"]({},a,{letterSpacing:void 0,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased"}))};function a(a,c){var d=i({color:a.textPrimary,fontFamily:"Helvetica Neue, Segoe UI, Helvetica, Arial, sans-serif",fontSize:"12px",fontWeight:"bold"}),e=b("React").createElement(b("Image.react"),{src:g("376185")}),f=b("React").createElement(b("Image.react"),{src:g("382797")});f=babelHelpers["extends"]({},b("SUIBusinessThemeComponents"),{SUIButton:{height:{normal:32,"short":28,tall:36},padding:{normal:{button:"12px",icon:"6px",onlyIcon:"8px"},"short":{button:"12px",icon:"6px",onlyIcon:"8px"},tall:{button:"12px",icon:"6px",onlyIcon:"8px"}},typeStyle:d,use:{confirm:{active:{background:a.buttonPrimaryActive,borderColor:a.buttonPrimaryActive,color:a.buttonPrimaryText},disabled:{background:a.buttonPrimaryDisabled,borderColor:a.buttonPrimaryDisabled,color:a.buttonPrimaryTextDisabled},hover:{background:a.buttonPrimaryHover,borderColor:a.buttonPrimaryHover,color:a.buttonPrimaryText},normal:{background:a.buttonPrimaryDefault,borderColor:a.buttonPrimaryDefault,color:a.buttonPrimaryText}},"default":{active:{background:a.buttonActive,borderColor:a.buttonBorder,color:a.buttonText},disabled:{background:a.buttonDisabled,borderColor:a.buttonBorderDisabled,color:a.buttonTextDisabled},hover:{background:a.buttonHover,borderColor:a.buttonBorder,color:a.buttonText},normal:{background:a.buttonDefault,borderColor:a.buttonBorder,color:a.buttonText}},special:{active:{background:a.buttonActive,borderColor:a.buttonBorder,color:a.buttonText},disabled:{background:a.buttonDisabled,borderColor:a.buttonBorderDisabled,color:a.buttonTextDisabled},hover:{background:a.buttonHover,borderColor:a.buttonBorder,color:a.buttonText},normal:{background:a.buttonDefault,borderColor:a.buttonBorder,color:a.buttonText}},flat:{active:{background:"transparent",borderColor:"transparent",color:a.buttonText},disabled:{background:"transparent",borderColor:"transparent",color:a.buttonTextDisabled},hover:{background:"transparent",borderColor:"transparent",color:a.buttonText},normal:{background:"transparent",borderColor:"transparent",color:a.buttonText}},flatWhite:{active:{background:"transparent",borderColor:"transparent",color:a.buttonText},disabled:{background:"transparent",borderColor:"transparent",color:a.buttonTextDisabled},hover:{background:"transparent",borderColor:"transparent",color:a.buttonText},normal:{background:"transparent",borderColor:"transparent",color:a.buttonText}}}},SUISelector:{backgroundColor:a.washEmpty,borderColor:a.buttonBorder,boxShadow:a.dropdownShadowMedium},SUISelectorButton:{use:{"default":{chevron:f}},padding:"8px",paddingLeft:"8px",paddingRight:"4px"},SUISelectorOption:{activeBackgroundColor:a.rowBackgroundActive,activeColor:a.rowTextActive,color:a.rowTextDefault,descriptionColor:a.textSecondary,descriptionSelectedColor:a.rowTextDefault,disabledBackgroundColor:a.rowBackgroundDisabled,disabledColor:a.rowTextDisabled,highlightedBackgroundColor:a.highlightedBackgroundColor,highlightedColor:a.rowTextDefault,padding:{bottom:"8px",left:"32px",right:"20px",top:"8px"},paddingWhenNoValue:{bottom:"8px",left:"16px",right:"20px",top:"8px"},selectedBackgroundColor:a.rowBackgroundHover,selectedColor:a.rowTextSelected,selectedIcon:e,selectedTypeStyle:d,selectedIconMarginRight:"8px",selectedIconMarginLeft:"-4px",typeStyle:d}});return new(b("SUITheme"))({id:c,components:f})}e.exports=a}),null);
__d("SUIMessengerRTCLightTheme",["SUIMessengerRTCThemeConstants","messengerRTCCreateSUITheme"],(function(a,b,c,d,e,f){"use strict";a=b("SUIMessengerRTCThemeConstants").LIGHT_MAPPING;e.exports=b("messengerRTCCreateSUITheme")(a,"messenger-rtc-light")}),null);
__d("RTCSettingsMediaDeviceSelector.react",["fbt","React","SUIMessengerRTCLightTheme","SUISelector.react","SUISelectorOption.react","SUITheme","SUIThemeContainer.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="---";a=function(a){var c=a.devices,d=a.disabled===!0?null:a.value||(c.length>0?c[0].deviceId:null);return b("React").createElement(b("SUIThemeContainer.react"),{theme:a.theme?a.theme:b("SUIMessengerRTCLightTheme")},b("React").createElement(b("SUISelector.react"),{buttonBorderedSides:a.buttonBorderedSides,buttonRoundedCorners:a.buttonRoundedCorners,disabled:c.length===0||a.disabled,onChange:a.onChange,placeholder:g._("Select a device"),value:d,width:a.width},j(c,a.disabled,a.selectorType)))};var i={videoinput:"Camera",audioinput:"Microphone",audiooutput:"Audio Output"};function j(a,c,d){__p&&__p();if(c===!0&&d!=null)return b("React").createElement(b("SUISelectorOption.react"),{value:null},g._({"Camera":"Camera disabled","Microphone":"Microphone disabled","Audio Output":"Audio output disabled"},[g._enum(i[d],{Camera:"Camera",Microphone:"Microphone","Audio Output":"Audio Output"})]));if(a.length===0){c=d!=null?g._({"camera":"No camera found","microphone":"No microphone found","audio output":"No audio output found"},[g._enum(i[d].toLowerCase(),{camera:"camera",microphone:"microphone","audio output":"audio output"})]):h;return b("React").createElement(b("SUISelectorOption.react"),{value:null},c)}var e=0;return a.map(function(a){var c=a.label?a.label:g._({"Camera":"Camera{number}","Microphone":"Microphone{number}","Audio Output":"Audio output{number}"},[g._enum(i[a.kind],{Camera:"Camera",Microphone:"Microphone","Audio Output":"Audio Output"}),g._param("number",++e)]);return b("React").createElement(b("SUISelectorOption.react"),{key:a.deviceId,value:a.deviceId},c)})}e.exports=a}),null);
__d("RTCUserSettingsActions",["RTCAppDispatcher","RTCUserSettingsActionTypes"],(function(a,b,c,d,e,f){"use strict";a={edit:function(){b("RTCAppDispatcher").dispatch({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_EDIT})},cancel:function(){b("RTCAppDispatcher").dispatch({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_CANCEL_EDITING})},save:function(a){b("RTCAppDispatcher").dispatch(babelHelpers["extends"]({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_SAVE},a))},setAudioInput:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_INPUT,audioInput:a})},setAudioOutput:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_OUTPUT,audioOutput:a})},setVideoInput:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_VIDEO_INPUT,videoInput:a})}};e.exports=a}),null);
__d("SUIMessengerRTCDarkTheme",["SUIMessengerRTCThemeConstants","messengerRTCCreateSUITheme"],(function(a,b,c,d,e,f){"use strict";a=b("SUIMessengerRTCThemeConstants").DARK_MAPPING;e.exports=b("messengerRTCCreateSUITheme")(a,"messenger-rtc-dark")}),null);
__d("RTCPreCallAudioOutputContainer.react",["cx","FBRTCUtils","FluxContainer","React","RTCMediaDevicesStore","RTCPreCallAudioOutputPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=b("FBRTCUtils").supportsSetSink()?a.audioOutputDevices:[];return b("React").createElement("div",{className:"_142c"},b("React").createElement(b("RTCPreCallAudioOutputPreview.react"),{audioOutputSinkID:a.audioOutput}),b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:c,disabled:!b("FBRTCUtils").supportsSetSink(),onChange:h,selectorType:"audiooutput",theme:b("SUIMessengerRTCDarkTheme"),value:a.audioOutput,width:148}))};var h=function(a){b("RTCUserSettingsActions").setAudioOutput(a)};c=function(){return{audioOutput:b("RTCUserSettingsStore").getState().audioOutput,audioOutputDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"audiooutput")}};e.exports=b("FluxContainer").createFunctional(a,function(){return[b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]},c)}),null);
__d("RTCPreCallUnvailableDeviceText.react",["React","SUIMessengerRTCDarkTheme","SUIText.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").createElement("div",{className:a.className},b("React").createElement(b("SUIText.react"),{color:"white",size:"header4",theme:b("SUIMessengerRTCDarkTheme"),weight:"bold"},a.primaryText),b("React").createElement(b("SUIText.react"),{color:"primary",palette:"dark",size:"header4",style:{marginLeft:"16px",marginTop:"8px"},textAlign:"center",theme:b("SUIMessengerRTCDarkTheme")},a.secondaryText))};e.exports=a}),null);
__d("RTCPreCallVideoPreview.react",["cx","fbt","FBRTCVideo.react","React","RTCP2PProtocolHandler","RTCPreCallUnvailableDeviceText.react","RTCUICameraIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={mediaStream:null},b}a.prototype.componentDidMount=function(){var a=this.props.videoInput;a!=null&&b("promiseDone")(this.$1(a).then(function(a){return this.setState({mediaStream:a})}.bind(this)))};a.prototype.componentDidUpdate=function(a,c){a.videoInput!==this.props.videoInput&&b("promiseDone")(this.$1(this.props.videoInput).then(function(a){c.mediaStream&&b("RTCUtils").stopMediaStream(c.mediaStream),this.setState({mediaStream:a})}.bind(this)))};a.prototype.componentWillUnmount=function(){this.state.mediaStream!=null&&b("RTCUtils").stopMediaStream(this.state.mediaStream)};a.prototype.render=function(){return this.props.isVideoMuted?b("React").createElement(j,null,b("React").createElement(k,null)):b("React").createElement(j,null,this.props.videoInput!=null?b("React").createElement("div",null,b("React").createElement(b("FBRTCVideo.react"),{className:"_4fod",mediaStream:this.state.mediaStream,muted:!0})):b("React").createElement(l,null))};a.prototype.$1=function(a){return b("RTCUtils").getUserMediaWithFallbackToEmptyVideoConstraints({video:b("RTCUserMediaConstraints").video(b("RTCP2PProtocolHandler").getDefaultVideoQuality(),a)})};var j=function(a){return b("React").createElement("div",babelHelpers["extends"]({},a,{className:"_68wu"}))},k=function(){return b("React").createElement("div",{className:"_6i3z"},b("React").createElement(b("RTCUICameraIcon.react"),{className:"_6plt",strikeThrough:!0}))},l=function(){return b("React").createElement(b("RTCPreCallUnvailableDeviceText.react"),{className:"_6cky",primaryText:h._("Couldn't find your camera"),secondaryText:h._("Try connecting a different camera or use WorkChat on your mobile device")})};e.exports=a}),null);
__d("RTCPreCallCameraContainer.react",["cx","FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCMediaDevicesStore","RTCPreCallVideoPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.$1=function(a){b("RTCUserSettingsActions").setVideoInput(a),this.props.onMediaDevicesChange&&this.props.onMediaDevicesChange({videoInput:a})}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")])}a.getStores=function(){return[b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]};a.calculateState=function(){return{isVideoMuted:b("RTCCallStore").getState().localUser.isVideoMuted(),videoDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"videoinput"),videoInput:b("RTCUserSettingsStore").getState().videoInput}};a.prototype.render=function(){var a=this.state,c=a.videoDevices;a=a.videoInput;a=a;a==null&&c.length>0&&(a=c[0].deviceId);return b("React").createElement("div",{className:"_101o"},b("React").createElement(b("RTCPreCallVideoPreview.react"),{isVideoMuted:this.state.isVideoMuted,videoInput:a}),b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:c,disabled:this.state.isVideoMuted,onChange:this.$1,selectorType:"videoinput",theme:b("SUIMessengerRTCDarkTheme"),value:a,width:306}))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCSettingsAudioInputPreview.react",["cx","fbt","AudioContextSingleton","React","cancelAnimationFrame","joinClasses","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j={fftSize:32,minDecibels:-90,maxDecibels:-10,smoothingTimeConstant:1},k=Math.log2(128+1);d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.state={noAudioTrack:!1},this.$2=b("AudioContextSingleton").get(),this.$3=this.$2.createGain(),this.$3.gain.value=a.gain,this.$4=this.$2.createAnalyser(),Object.assign(this.$4,j)}a.prototype.$7=function(a){__p&&__p();this.$8();if(!(a&&this.$1))return;if(a.getAudioTracks().length<1){this.setState({noAudioTrack:!0});return}var c=this.$1.getContext("2d");if(!c)return;this.$5&&this.$5.disconnect();this.$5=this.$2.createMediaStreamSource(a);this.$5.connect(this.$3);this.$3.connect(this.$4);a=this.$4.frequencyBinCount;var d=new Uint8Array(a);a=this.props;var e=a.width,f=a.height,g,h=function(){this.$4.getByteTimeDomainData(d);var a=l(d,e,f,g);g=a;c.clearRect(0,0,e,f);c.fillStyle=this.props.fillStyle;c.fill(n(a,e,f));this.$6=b("requestAnimationFrame")(h)}.bind(this);this.$6=b("requestAnimationFrame")(h)};a.prototype.$8=function(){b("cancelAnimationFrame")(this.$6)};a.prototype.render=function(){var a=this.props,c=a.className,d=a.gain,e=a.height,f=a.width;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","gain","height","width"]);var g=this.state.noAudioTrack;this.$3.gain.value=d;return b("React").createElement("div",babelHelpers["extends"]({className:b("joinClasses")("_brl"+(g?" noAudioTrack":""),c)},a),g?b("React").createElement("span",null,this.props.noMicMessage):null,b("React").createElement("canvas",babelHelpers["extends"]({ref:function(a){return this.$1=a}.bind(this)},{width:f,height:e})))};a.prototype.componentDidUpdate=function(a){var b=this.props.mediaStream;b!==a.mediaStream&&(this.setState({noAudioTrack:!1}),this.$7(b))};a.prototype.componentDidMount=function(){this.$7(this.props.mediaStream)};a.prototype.componentWillUnmount=function(){this.$8(),this.$5&&this.$5.disconnect(),this.$3&&this.$3.disconnect()};a.defaultProps={fillStyle:"rgba(255, 255, 255, .5)",gain:3.5,height:26,noMicMessage:h._("No mic"),width:106};function l(a,b,c,d){return[128].concat(m(a),[128]).map(function(a,e,f){a=c*(Math.log2(Math.abs(a)+1)/k);return{x:e*b/(f.length-1),y:d?Math.min(a,c-(c-d[e].y)*.95):a}})}function m(a){var b=[];for(var c=0;c*2<a.length;c++)b[c]=Math.min(a[c*2],a[c*2+1]||0);return b}function n(a,b,c){__p&&__p();var d=new Path2D();d.moveTo(0,c);a.forEach(function(b,c,a){switch(c){case 0:d.lineTo(b.x,b.y);break;case 1:break;case a.length-1:d.bezierCurveTo.apply(d,o(b,a[c-1],b));d.lineTo(b.x,b.y);break;case 2:d.lineTo((5*a[c-2].x+a[c-1].x)/6,(5*a[c-2].y+a[c-1].y)/6);default:d.bezierCurveTo.apply(d,o(b,a[c-2],a[c-1]))}});d.lineTo(b,c);d.closePath();return d}function o(a,b,c){return[(2*b.x+c.x)/3,(2*b.y+c.y)/3,(b.x+2*c.x)/3,(b.y+2*c.y)/3,(b.x+4*c.x+a.x)/6,(b.y+4*c.y+a.y)/6]}e.exports=a}),null);
__d("RTCPreCallMicPreview.react",["cssVar","cx","React","RTCSettingsAudioInputPreview.react","RTCSVGIcon.react","RTCUIMicrophoneIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={mediaStream:null},b}a.prototype.componentDidMount=function(){b("promiseDone")(this.$1(this.props.audioInput).then(function(a){return this.setState({mediaStream:a})}.bind(this)))};a.prototype.componentDidUpdate=function(a,c){a.audioInput!==this.props.audioInput&&b("promiseDone")(this.$1(this.props.audioInput).then(function(a){c.mediaStream&&b("RTCUtils").stopMediaStream(c.mediaStream),this.setState({mediaStream:a})}.bind(this)))};a.prototype.componentWillUnmount=function(){this.state.mediaStream!=null&&b("RTCUtils").stopMediaStream(this.state.mediaStream)};a.prototype.render=function(){var a=this.props.isAudioMuted;return a?b("React").createElement("div",{className:"_2848"},b("React").createElement(j,null)):b("React").createElement("div",{className:"_2848"},b("React").createElement(k,null),b("React").createElement(b("RTCSettingsAudioInputPreview.react"),{className:"_2-0x",gain:6,mediaStream:this.state.mediaStream}))};a.prototype.$1=function(a){return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(a)})};var j=function(){return b("React").createElement("div",{className:"_6i3z"},b("React").createElement(b("RTCUIMicrophoneIcon.react"),{className:"_6plt",strikeThrough:!0}))},k=function(){return b("React").createElement(b("RTCSVGIcon.react"),{style:{marginTop:"8px"}},b("React").createElement("svg",{fill:"none",height:"100",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"80"},b("React").createElement("path",{d:"M19 10v2a7 6 0 0 1-14 0v-2"}),b("React").createElement("line",{x1:"8",x2:"16",y1:"22",y2:"22"})))};e.exports=a}),null);
__d("RTCPreCallMicrophoneContainer.react",["cx","FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCMediaDevicesStore","RTCPreCallMicPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.$1=function(a){b("RTCUserSettingsActions").setAudioInput(a),this.props.onMediaDevicesChange&&this.props.onMediaDevicesChange({audioInput:a})}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")])}a.getStores=function(){return[b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]};a.calculateState=function(){return{audioInput:b("RTCUserSettingsStore").getState().audioInput,audioDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"audioinput"),isAudioMuted:b("RTCCallStore").getState().localUser.isAudioMuted()}};a.prototype.render=function(){var a=this.state,c=a.audioDevices;a=a.audioInput;a=a;a==null&&c.length>0&&(a=c[0].deviceId);return b("React").createElement("div",{className:"_142c"},b("React").createElement(b("RTCPreCallMicPreview.react"),{audioInput:a,isAudioMuted:this.state.isAudioMuted}),b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:c,disabled:this.state.isAudioMuted,onChange:this.$1,selectorType:"audioinput",theme:b("SUIMessengerRTCDarkTheme"),value:a,width:148}))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PActiveMediaDeviceContainer.react",["cx","fbt","CollabCallMessengerBrowserEventEnum","CollabInitStreamTriggerType","FBLogger","FDSCheckboxInput.maintenance.react","FDSText.react","FluxContainer","React","RTCAppDispatcher","RTCMediaDevicesStore","RTCP2PCallStore","RTCP2PProtocolHandler","RTCPreCallAudioOutputContainer.react","RTCPreCallCameraContainer.react","RTCPreCallMicrophoneContainer.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","RTWebLoggingSurface","RTWebUserActionLogger","WebStorage","dangerouslyBypassDispatchError","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="collab_local_devices";c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();i.constructor.call(this),this.$1=function(a){var c=a.audioInput?a.audioInput:this.state.audioInput;a=a.videoInput?a.videoInput:this.state.videoInput;b("RTCP2PProtocolHandler").initStream(!this.state.isAudioCall,c,a).then(function(a){return b("RTCP2PProtocolHandler").replaceLocalStream(a,!0)})["catch"](function(a){return l(a,b("CollabInitStreamTriggerType").USER_SETTINGS_CHANGED)})}.bind(this),this.$2=function(a){if(a){var b=this.state,c=b.audioInput;b=b.videoInput;o({audioInput:c,videoInput:b})}this.setState({saveLocalDevices:a})}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCMediaDevicesStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")])}a.getStores=function(){return[b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};a.calculateState=function(){var a=b("RTCUserSettingsStore").getState();return{audioInput:a.audioInput,isAudioCall:b("RTCP2PCallStore").isAudioOnly(),saveLocalDevices:m(a.audioInput,a.videoInput),videoInput:a.videoInput}};a.prototype.componentDidMount=function(){__p&&__p();var a=n();if(a!=null){var c=b("RTCMediaDevicesStore").getState(),d=b("RTCUserSettingsStore").getState(),e=d.audioInput;d=d.videoInput;var f=b("RTCUtils").isDevicePresent(c,a.audioInput);f&&a.audioInput!==e&&(this.$1({audioInput:a.audioInput}),b("dangerouslyBypassDispatchError")(function(){b("RTCUserSettingsActions").setAudioInput(a.audioInput)}));e=b("RTCUtils").isDevicePresent(c,a.videoInput);e&&a.videoInput!==d&&(this.$1({videoInput:a.videoInput}),b("dangerouslyBypassDispatchError")(function(){b("RTCUserSettingsActions").setVideoInput(a.videoInput)}));(!f||!e)&&p()}};a.prototype.render=function(){return b("React").createElement("div",{className:"_6p8b"},b("React").createElement("div",null,b("React").createElement(b("RTCPreCallCameraContainer.react"),{onMediaDevicesChange:this.$1}),b("React").createElement(k,null,b("React").createElement(b("RTCPreCallMicrophoneContainer.react"),{onMediaDevicesChange:this.$1}),b("React").createElement(b("RTCPreCallAudioOutputContainer.react"),null))),b("React").createElement("div",{className:"_75_l"},b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:b("React").createElement(b("FDSText.react"),{color:"white",display:"block",size:"header4"},h._("Make these the default devices")),onChange:this.$2,value:this.state.saveLocalDevices})))};var k=function(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_4m1o"),style:a.style},a.children)};function l(a,c){b("RTWebUserActionLogger").logError({errorDomain:b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,errorType:JSON.stringify(a),surface:b("RTWebLoggingSurface").CALL_CONTAINER})}var m=function(a,b){var c=n();return c==null?!1:a===c.audioInput&&b===c.videoInput},n=function(){var a=b("WebStorage").getLocalStorage();if(a!=null){a=a.getItem(j);if(a!=null)return JSON.parse(a)}return null},o=function(a){try{var c=b("WebStorage").getLocalStorage();c!=null&&c.setItem(j,JSON.stringify(a))}catch(a){b("FBLogger")("rtweb").catching(a).debug("Failed to store devices in local storage ")}},p=function(){var a=b("WebStorage").getLocalStorage();a!=null&&a.removeItem(j)};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCRemotePeerInfo.react",["cx","fbt","Image.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.meetingID,d=a.peer;return b("React").createElement("div",{className:"_1h0c"},b("React").createElement("div",{className:"_6f_i"},b("React").createElement("p",{className:"_6f_j"},c!=null?"#"+c:d.userName),b("React").createElement("p",{className:"_6f_k"},b("React").createElement(i,{meetingID:a.meetingID,meetingPassword:a.meetingPassword,peer:d}))),b("React").createElement(b("Image.react"),{className:"_1h11",src:d.profilePictureUrl}))};var i=function(a){var b=a.peer;return a.meetingID!=null?a.meetingPassword!=null?h._("Password: {number}",[h._param("number",a.meetingPassword)]):h._("Meeting ID"):b.roomLocation!=null?b.roomLocation:null};e.exports=a}),null);
__d("RTCPreCallSetup.react",["ix","cx","fbt","Image.react","React","RTCConferenceState","RTCP2PActiveMediaDeviceContainer.react","RTCRemotePeerInfo.react","RTCTextButton.react","VideoCallWebDriverIDs","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.render=function(){switch(this.props.conferenceState){case b("RTCConferenceState").NEW:case b("RTCConferenceState").AWAITING_USER_START:return b("React").createElement(k,{callButtonLabel:this.props.meetingID!=null?i._("Join meeting"):i._("Start Call"),dataTestId:b("VideoCallWebDriverIDs").RTC_APP_VIEW_START_CALL_BUTTON,isAudioMuted:this.props.isAudioMuted,isVideoMuted:this.props.isVideoMuted,meetingID:this.props.meetingID,meetingPassword:this.props.meetingPassword,onClick:this.$1(this.props.conferenceState),peer:this.props.peer,showEndCallReason:!1});case b("RTCConferenceState").TERMINATED:return b("React").createElement(k,{callButtonLabel:i._("Redial"),dataTestId:b("VideoCallWebDriverIDs").REDIAL_BUTTON,endCallReason:this.props.endCallReason,isAudioMuted:this.props.isAudioMuted,isVideoMuted:this.props.isVideoMuted,meetingID:this.props.meetingID,meetingPassword:this.props.meetingPassword,onClick:this.$1(this.props.conferenceState),peer:this.props.peer,showEndCallReason:!0});default:return null}};a.prototype.$1=function(a){return function(){return this.props.onClick(a)}.bind(this)};function a(){j.apply(this,arguments)}var k=function(a){return b("React").createElement("div",{className:"_4m1g"},b("React").createElement("div",{className:"_6p8a"},b("React").createElement(b("RTCRemotePeerInfo.react"),{meetingID:a.meetingID,meetingPassword:a.meetingPassword,peer:a.peer}),b("React").createElement("div",{className:"_2pil"},a.showEndCallReason?a.endCallReason?b("React").createElement("div",{className:"_6pls"},a.endCallReason.toString(!0)):null:b("React").createElement(l,{isAudioMuted:a.isAudioMuted,isVideoMuted:a.isVideoMuted}),b("React").createElement(b("RTCTextButton.react"),{className:"precall","data-testid":a.dataTestId,label:a.callButtonLabel,onClick:a.onClick}))),b("React").createElement("div",null,b("React").createElement(m,{className:"_3v59"},i._("Test your camera and microphone")),b("React").createElement(b("RTCP2PActiveMediaDeviceContainer.react"),null)))},l=function(a){if(!a.isVideoMuted&&!a.isAudioMuted)return null;a.isVideoMuted?a=a.isAudioMuted?i._("You will be joining this call with your microphone and camera disabled"):i._("You will be joining this call with audio only"):a=i._("You will be joining the call with your microphone disabled");return b("React").createElement("div",{className:"_6pls"},b("React").createElement("div",{className:"_6uo2"},b("React").createElement(b("Image.react"),{src:g("504082")})),b("React").createElement("div",{className:"_3-93"},a))},m=function(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_4m1o"),style:a.style},a.children)};e.exports=a}),null);
__d("RTCPreCallSetupContainer.react",["CollabCallMessengerBrowserEventEnum","CollabInitStreamTriggerType","FBRTCLogger","FluxContainer","React","RTCAppDispatcher","RTCCallActions","RTCCallLogActions","RTCCallStore","RTCConferenceState","RTCMediaDevicesStore","RTCOneVCStore","RTCP2PCallStore","RTCP2PProtocolHandler","RTCPreCallSetup.react","RTCUserSettingsStore","generateRTCCallID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){g.constructor.call(this),this.$1=!0,b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCOneVCStore"),b("RTCP2PCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]),b("RTCMediaDevicesStore").refresh()}a.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCOneVCStore")]};a.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo,d=a.localUser;a=a.remoteUsers;var e=b("RTCP2PCallStore").getState();e=e.endCallReason;return{conferenceState:c.conferenceState,endCallReason:e,isAudioMuted:d.isAudioMuted(),isVideoMuted:d.isVideoMuted(),meetingID:b("RTCOneVCStore").getState().meetingID,meetingPassword:b("RTCOneVCStore").getState().meetingPassword,peer:a.first()}};a.prototype.componentDidUpdate=function(a,c){if(this.$1&&this.state.conferenceState===b("RTCConferenceState").TERMINATED){this.$1=!1;a=b("RTCUserSettingsStore").getState();c=a.audioInput;a=a.videoInput;b("RTCP2PProtocolHandler").initStream(!0,c,a).then(function(a){return b("RTCCallActions").addLocalStream(a)})["catch"](function(a){b("RTCCallLogActions").logEvent(b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,{error:a.name,constraint:a.constraint,trigger:b("CollabInitStreamTriggerType").REDIAL})})}};a.prototype.$2=function(a){if(a===b("RTCConferenceState").TERMINATED){a=b("generateRTCCallID")().toString();b("RTCCallActions").resetForRedial(a,a);b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.REDIAL_BUTTON)}else b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.VC_PRECALL_SETUP)};a.prototype.render=function(){return b("React").createElement(b("RTCPreCallSetup.react"),babelHelpers["extends"]({},this.state,{onClick:this.$2}))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PAppViewContent.react",["cx","fbt","FBRTCConfig","React","RTCAppSpinner.react","RTCAppViewMain.react","RTCCallConnectionStatus.react","RTCCallStateInfo.react","RTCCallUser.react","RTCConferenceState","RTCEndOfCallSurvey.react","RTCP2PCallActions","RTCP2PConnectionStatus","RTCP2PIncallView.react","RTCP2PStartCallButton.react","RTCPreCallSetupContainer.react","RTCRingBackTone.react","RTCStarRating.react","RTWebCollabClientFeatureGating","SignalsSimpleFadeOutContainer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();if(a.remoteUser==null)return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("RTCAppSpinner.react"),null));var c=a.awaitingEscalationACK,d=a.conferenceState,e=a.connectionStatus,f=a.endCallReason,g=a.escalationInProgress,m=a.escalationRequest,n=a.isAudioCall,o=a.isRedialFooterButtonShown,p=a.isScreenContentPoppedOut,q=a.isStarRatingShown,r=a.remoteUser;switch(d){case b("RTCConferenceState").NEW:return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("RTWebCollabClientFeatureGating").showPreCallSetup(a.isCaller)?b("React").createElement(b("RTCPreCallSetupContainer.react"),null):b("React").createElement(b("RTCCallUser.react"),{isP2PCall:!0,user:r}),b("React").createElement(b("RTCAppSpinner.react"),null)));case b("RTCConferenceState").AWAITING_USER_START:return b("RTWebCollabClientFeatureGating").showPreCallSetup(a.isCaller)?b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("React").createElement(b("RTCPreCallSetupContainer.react"),null))):b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("React").createElement(b("RTCCallUser.react"),{isP2PCall:!0,user:r}),b("React").createElement(b("RTCCallConnectionStatus.react"),null,h._("Ready to call?")),b("React").createElement(b("RTCP2PStartCallButton.react"),{conferenceState:d,isAudio:n})));case b("RTCConferenceState").CONNECTING:case b("RTCConferenceState").CONNECTED:var s=m&&c||g;return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!n},b("React").createElement(b("RTCP2PIncallView.react"),babelHelpers["extends"]({audioSinkID:a.audioOutput,renderScreenStreams:!p,user:r},{isAudioCall:n}),b("React").createElement(b("RTCCallStateInfo.react"),{className:n?"":"_2fsu"},b("React").createElement(b("RTCCallUser.react"),{isP2PCall:!0,meetingID:a.meetingID,user:r}),b("React").createElement(b("RTCCallConnectionStatus.react"),{connectionStatus:e},s?b("React").createElement(i,{awaitingEscalationACK:c,escalationInProgress:g,escalationRequest:m}):null),k(a.failureReason))),b("React").createElement(j,{conferenceState:d,connectionStatus:e}));case b("RTCConferenceState").TERMINATING:case b("RTCConferenceState").TERMINATED:if(q)return b("RTWebCollabClientFeatureGating").showTheNewEndCallSurvey()?b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCEndOfCallSurvey.react"),{onDone:l,shouldCloseWindow:!1})):b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCStarRating.react"),babelHelpers["extends"]({isGroupCall:!1,onDone:l,shouldCloseWindow:!o},{isAudioCall:n})));else return b("RTWebCollabClientFeatureGating").showPreCallSetup(a.isCaller)?b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("React").createElement(b("RTCPreCallSetupContainer.react"),null))):b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("React").createElement(b("RTCCallUser.react"),{isP2PCall:!0,user:r}),b("React").createElement(b("RTCCallConnectionStatus.react"),{connectionStatus:e},f?f.toString(b("FBRTCConfig").isVCEndpointCall()):null)))}return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1})};var i=function(a){if(a.escalationRequest)return a.awaitingEscalationACK?h._("Sending response..."):b("React").createElement("div",null,h._("Would like to video chat..."),b("React").createElement("br",null),b("React").createElement("div",{className:"_46la _43ut"},h._("This will turn your video on.")));return a.escalationInProgress?h._("Requesting video..."):null},j=function(a){return a.conferenceState===b("RTCConferenceState").CONNECTING?b("React").createElement(b("RTCRingBackTone.react"),{active:a.connectionStatus===b("RTCP2PConnectionStatus").RINGING}):null};function k(a){__p&&__p();var c;switch(a){case"denied":c=h._("The video request was denied...");break;case"cancelled":c=h._("The video request was cancelled...");break;case"timeout":c=h._("Video request timed out...");break;default:return null}return b("React").createElement("div",{className:"_46la"},b("React").createElement(b("SignalsSimpleFadeOutContainer.react"),{delay:1,duration:2},c))}function l(){b("RTCP2PCallActions").starRatingDone(!0)}e.exports=a}),null);
__d("RTCP2PAppViewContentContainer.react",["FluxContainer","React","RTCOneVCStore","RTCP2PAppViewContent.react","RTCP2PCallEscalationStore","RTCP2PCallStore","RTCUserSettingsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("RTCOneVCStore"),b("RTCP2PCallEscalationStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};a.calculateState=function(){var a=b("RTCP2PCallEscalationStore").getState(),c=b("RTCP2PCallStore").getState(),d=c.isCaller,e=c.isRedialFooterButtonShown;c=c.isStarRatingShown;var f=b("RTCUserSettingsStore").getState();f=f.audioOutput;return{audioOutput:f,awaitingEscalationACK:a.awaitingACK,escalationInProgress:a.inProgress,escalationRequest:Boolean(a.request),failureReason:a.failureReason,isCaller:d,isRedialFooterButtonShown:e,isStarRatingShown:c,meetingID:b("RTCOneVCStore").getState().meetingID}};a.prototype.render=function(){return b("React").createElement(b("RTCP2PAppViewContent.react"),babelHelpers["extends"]({},this.props,this.state))};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("RTCCallControlsEscalationAcceptButton.react",["cx","React","RTCCallControlsButtonWithLabel.react","RTCUICameraIcon.react","VideoCallWebDriverIDs","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);return b("React").createElement(b("RTCCallControlsButtonWithLabel.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"opaque redial icon-48"),"data-testid":b("VideoCallWebDriverIDs").ACCEPT_ESCALATION_CALL_BUTTON},a),b("React").createElement(b("RTCUICameraIcon.react"),null))};e.exports=a}),null);
__d("RTCCallControlsEscalationDeclineButton.react",["cx","React","RTCCallControlsButtonWithLabel.react","RTCUIXIcon.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);return b("React").createElement(b("RTCCallControlsButtonWithLabel.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"icon-48 closeWindow")},a),b("React").createElement(b("RTCUIXIcon.react"),null))};e.exports=a}),null);
__d("RTCCollabEndCallFooterContainer.react",["cx","FluxContainer","React","RTCAppViewFooter.react","RTCCallActions","RTCCallControls.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleVideoButton.react","RTCCallStore","RTCP2PCallStore","RTCP2PProtocolHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore")]};a.calculateState=function(a,c){a=b("RTCCallStore").getState();c=a.callInfo;a=a.localUser;c=c.conferenceState;return{conferenceState:c,initializeVideo:a.hasVideo(),localUser:a,wasStarRatingDone:b("RTCP2PCallStore").getState().wasStarRatingDone}};a.prototype.render=function(){return this.state.wasStarRatingDone||b("RTCP2PProtocolHandler").showRedialButton()?b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.props.onResize},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.props.onCallControlsResize},b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.state.conferenceState,disabled:!1,initializeVideo:this.state.initializeVideo,isP2P:!0,onToggle:this.$1,videoMuted:this.state.localUser.isVideoMuted()}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:this.state.localUser.isAudioMuted()}))):b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-7"})};a.prototype.$1=function(a){b("RTCCallActions").toggleMuteVideo(a)};function a(){h.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("RTCP2PAppViewFooterUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getScreenSharingCallControlPopoverBody:function(a,b,c,d,e){if(a)return d?g._("Screen sharing is not currently available for Messenger to room calls."):g._("Screen sharing is disabled for this call because {name}'s device does not support receiving screen shares.",[g._param("name",e)]);else if(b)return g._("{name} is already sharing their screen. You can share your screen as soon as they've stopped sharing.",[g._param("name",e)]);else if(c)return g._("Screen sharing is only available for video calls.");return null},getVideoCallControlPopoverTitle:function(a,b){return!a&&b?g._("Can't find camera"):null},getVideoCallControlPopoverBody:function(a,b,c,d){if(a)return g._("Video is disabled for this call because {name}'s device does not support video.",[g._param("name",d)]);else if(b)return g._("Connect your camera and refresh the page to turn on video. If your camera is already connected, try restarting your browser.");else if(c)return g._("Video is paused because the connection is slow.");return null}};e.exports=a}),null);
__d("RTCP2PAppViewFooter.react",["cx","fbt","Promise","Bootloader","CollabCallMessengerBrowserEventEnum","CollabInitStreamTriggerType","CollabRTCChromeScreenSharingExtension","FBRTCCallControlPopover.react","FBRTCConfig","FBRTCConsoleLogger","FBRTCPoorNetworkTooltip.react","FBRTCSupport","MercuryIDs","MessengerParticipants.bs","React","RTCAppViewFooter.react","RTCCallActions","RTCCallControls.react","RTCCallControlsAddGroupMembersButton.react","RTCCallControlsButton.react","RTCCallControlsCloseWindowButton.react","RTCCallControlsEndCallButton.react","RTCCallControlsEscalationAcceptButton.react","RTCCallControlsEscalationDeclineButton.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleScreenSharingWithFunnelButton.react","RTCCallControlsToggleVideoButton.react","RTCCallControlsVideoEscalationButton.react","RTCCallStore","RTCChromeScreenSharingUtils","RTCCollabEndCallFooterContainer.react","RTCConferenceState","RTCP2PAppViewFooterUtils","RTCP2PCallActions","RTCP2PCallEscalationActions","RTCP2PCallEscalator","RTCP2PProtocolHandler","RTCP2PRedialButton.react","RTCSelfView.react","RTCUIPhoneIcon.react","RTWebClientFeatureGating","RTWebLoggingComponent","RTWebLoggingSurface","RTWebStrings","RTWebUserActionLogger","UserAgent","gkx","immutable","keyMirror","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RTCChromeScreenSharingUtils").getMediaRequestSourceAppId,k=1e4,l=b("keyMirror")({READY:null,SHOWN:null,COMPLETE:null}),m=255,n=255,o=320;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={forceVisible:l.READY,participants:b("immutable").Map(),showPopovers:!0},this.$2=0,this.$4=0,this.$5=null,this.$9=0,this.$11=0,this.shouldAlwaysShowRedial=!1,this.$15=function(){this.props.protocolHandler.endCall()}.bind(this),this.$14=function(a){b("RTWebClientFeatureGating").stopVideoWhenMute()?a?b("promiseDone")(b("RTCP2PProtocolHandler").initStream(!0),function(a){var c=this.props.localUser.getStream();c?b("RTCCallActions").replaceLocalStream(c,a):b("RTCCallActions").addLocalStream(a)}.bind(this)):b("RTCCallActions").stopLocalVideo():b("RTCCallActions").toggleMuteVideo(a)}.bind(this),this.$18=function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").VIDEO_ESCALATE_ACCEPT,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),b("RTCCallStore").mutateCallSummary(function(a){a.setVidEscalationAcceptedClick(),a.setVidEscalationMediaRequested()}),b("RTCP2PCallEscalator").acceptEscalation().then(function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaSuccess()})})["catch"](function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaFailed()}),this.$26(b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,JSON.stringify({error:a.name,constraint:a.constraint,trigger:b("CollabInitStreamTriggerType").ESCALATION_APPROVED}))}.bind(this))}.bind(this),this.$20=function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").VIDEO_ESCALATE,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationInitClick()}),this.props.escalationInProgress?b("RTCP2PCallEscalationActions").cancel():(b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaRequested()}),b("RTCP2PCallEscalator").initEscalation().then(function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaSuccess()})})["catch"](function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaFailed()}),b("RTWebUserActionLogger").logError({errorDomain:"video_escalation_error",errorType:a.toString()}),this.$26(b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,JSON.stringify({error:a.name,constraint:a.constraint,trigger:b("CollabInitStreamTriggerType").ESCALATION_INITIATED}))}.bind(this)))}.bind(this),this.$21=function(a){this.$10!==a&&(this.$10=a,this.forceUpdate())}.bind(this),this.$23=function(a){this.$8!==a&&(this.$8=a,this.forceUpdate())}.bind(this),this.$24=function(a){this.$1!==a&&(this.$1=a,this.forceUpdate())}.bind(this),this.$12=function(a){a=a.width;if(this.$11===a)return;this.$11=a;this.$27()}.bind(this),this.$13=function(a){a=a.width;if(this.$2===a)return;this.$2=a;this.$27()}.bind(this),this.$25=function(a){a=a.width;if(this.$2===a)return;this.$2=a}.bind(this),this.$19=function(a){this.setState({showPopovers:a})}.bind(this),this.$16=function(a){a=a.width;if(this.$9===a)return;this.$9=a;this.$27()}.bind(this),c}a.prototype.componentDidMount=function(){if(b("gkx")("678353")){var a=b("MercuryIDs").getParticipantIDFromUserID(this.props.remoteUserID);b("MessengerParticipants.bs").get(a,function(c){var d;this.setState({participants:b("immutable").Map((d={},d[a]=c,d))})}.bind(this))}this.shouldAlwaysShowRedial=b("RTWebClientFeatureGating").shouldAlwaysShowRedial()};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.canPeerReceiveScreenSharing,d=a.conferenceState,e=a.escalationInProgress,f=a.hasRemoteScreenStream,g=a.initializeVideo,i=a.isAudioCall,j=a.isPoorNetworkQualityShown,k=a.isRedialFooterButtonShown,m=a.isRemoteVideoSupported,n=a.localUser,o=a.remotePeerName,t=a.protocolHandler;a=a.wasStarRatingDone;var u=this.state.participants,v=b("RTCP2PProtocolHandler").supportMultipleStreams(),w=n.getScreenStream(),x=b("gkx")("678353")&&this.props.offerEscalationSupport&&b("FBRTCSupport").isGroupCallWebtrcSupported(),y=g||n.hasVideo();switch(d){case b("RTCConferenceState").AWAITING_USER_START:return b("FBRTCConfig").isVCEndpointCall()?b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$12},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$13,ref:function(a){return this.$3=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:d,disabled:!b("FBRTCConfig").isVCEndpointCall(),initializeVideo:y,isP2P:!0,onToggle:this.$14,videoMuted:n.isVideoMuted()}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:n.isAudioMuted()}))):b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-7"});case b("RTCConferenceState").CONNECTING:return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$12},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$13,ref:function(a){return this.$3=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:d,disabled:!b("FBRTCConfig").isVCEndpointCall(),initializeVideo:y,isP2P:!0,onToggle:this.$14,videoMuted:n.isVideoMuted()}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:n.isAudioMuted()}),b("React").createElement(q,{conferenceState:d,disabled:!0,protocolHandler:t,stream:w}),b("React").createElement(b("RTCCallControlsEndCallButton.react"),{onClick:this.$15})),b("React").createElement(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!v,isAudioCall:i,isP2P:!0,onResize:this.$16,onScreenSharingStop:function(a){return t.stopScreenStream(a)},user:n}));case b("RTCConferenceState").CONNECTED:if(this.props.escalationRequest){var z=this.props.awaitingEscalationACK;return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6"},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7"},b("React").createElement(b("RTCCallControlsEscalationDeclineButton.react"),{disabled:z,onClick:this.$17,title:h._("Decline")}),b("React").createElement(b("RTCCallControlsEscalationAcceptButton.react"),{disabled:z,onClick:this.$18,title:h._("Accept")})))}z=f||n.hasScreenStream();return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$12},b("React").createElement(b("RTCCallControls.react"),{autoHide:!i&&this.state.forceVisible!==l.SHOWN,className:"_2s-7",onResize:this.$13,onUpdateVisibility:this.$19,ref:function(a){return this.$3=a?a.getDOMNode():a}.bind(this)},i&&m?b("React").createElement(b("RTCCallControlsVideoEscalationButton.react"),{onClick:this.$20,videoMuted:i&&!e}):b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:d,disabled:!m,initializeVideo:y,isP2P:!0,nodeRef:this.$21,onToggle:this.$14,videoMuted:n.isVideoMuted()}),this.state.showPopovers?b("React").createElement(b("React").Fragment,null,b("React").createElement(p,{initializeVideo:g,isRemoteVideoSupported:m,localUser:n,peerName:o,referenceElement:this.$10,videoIsAutoDisabled:this.props.videoIsAutoDisabled}),b("RTWebClientFeatureGating").shouldShowNetworkQualityIndicator()?b("React").createElement(b("FBRTCPoorNetworkTooltip.react"),{onClick:this.$22,referenceElement:this.$10,shown:j&&n.hasVideo()&&!n.isVideoMuted()}):null):null),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:n.isAudioMuted()}),b("React").createElement(q,{conferenceState:d,disabled:i||!c||f,nodeRef:this.$23,protocolHandler:t,stream:w}),this.state.showPopovers?b("React").createElement(r,{canPeerReceiveScreenSharing:c,hasRemoteScreenStream:f,isAudioCall:i,peerName:o,referenceElement:this.$8}):null,x?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallControlsAddGroupMembersButton.react"),{conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,disabled:z,isEscalatedCall:!0,isP2P:!0,localUser:n,participants:u,ref:this.$24,remoteUsers:b("immutable").List(this.props.remoteUsers),showNux:this.props.showAddMemberNux,thread:null}),this.state.showPopovers&&z?b("React").createElement(s,{referenceElement:this.$1}):null):null,b("React").createElement(b("RTCCallControlsEndCallButton.react"),{onClick:this.$15})),b("React").createElement(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!v,isAudioCall:i,isP2P:!0,onResize:this.$16,onScreenSharingStop:function(a){return t.stopScreenStream(a)},user:n}));case b("RTCConferenceState").TERMINATING:return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$12},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$13,ref:function(a){return this.$3=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:d,disabled:!0,initializeVideo:y,isP2P:!0,nodeRef:this.$21,onToggle:this.$14,videoMuted:!0}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:!0,disabled:!0}),b("React").createElement(q,{conferenceState:d,disabled:!0,nodeRef:this.$23,protocolHandler:t,stream:null}),b("React").createElement(b("RTCCallControlsEndCallButton.react"),{disabled:!0})),b("React").createElement(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!v,isAudioCall:i,isP2P:!0,onResize:this.$16,user:n}));case b("RTCConferenceState").TERMINATED:if(b("FBRTCConfig").isVCEndpointCall())return b("React").createElement(b("RTCCollabEndCallFooterContainer.react"),{onCallControlsResize:this.$13,onResize:this.$12});return k||a?b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6"},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$25,ref:function(a){return this.$3=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCP2PRedialButton.react"),{icon:b("React").createElement(b("RTCUIPhoneIcon.react"),{variant:"start call"}),title:b("RTWebStrings").redial}),this.props.shouldHideCloseButton?null:b("React").createElement(b("RTCCallControlsCloseWindowButton.react"),null))):b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-7"});default:return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-7"})}};a.prototype.$22=function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").POOR_NETWORK_TOOLTIP,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),b("RTCP2PCallActions").togglePoorNetworkQualityIndicator(!1)};a.prototype.$17=function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").VIDEO_ESCALATE_DECLINE,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationDeclinedClick()}),b("RTCP2PCallEscalator").declineEscalation()};a.prototype.$27=function(){__p&&__p();if(this.$11===0||this.$2===0)return;var a=Math.min(0,this.$11/2-(this.$2/2+this.$9));if(a===this.$4)return;this.$4=a;if(this.$3){var b=this.$3.style;b.transition="none";this.$5=window.requestAnimationFrame(function(){b.transform="translateX("+this.$4+"px)",b.transition=""}.bind(this))}};a.prototype.$28=function(a){var b=this.props,c=b.localUser;b=b.videoIsAutoDisabled;a=a.forceVisible;b||c.hasStream()&&!c.hasVideo()?a===l.READY&&(this.setState({forceVisible:l.SHOWN}),this.$6=window.setTimeout(function(){this.setState({forceVisible:l.COMPLETE})}.bind(this),k)):a===l.SHOWN&&this.setState({forceVisible:l.COMPLETE})};a.prototype.$26=function(a,c){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(a,{peerID:this.props.remoteUserID,callID:Number(this.props.callID),eventDetails:c})}.bind(this),"RTCP2PAppViewFooter.react")};a.prototype.componentDidUpdate=function(a,b){this.$28(b)};a.prototype.componentWillUnmount=function(){window.cancelAnimationFrame(this.$5),window.clearTimeout(this.$6)};a.defaultProps={isRemoteVideoSupported:!0,videoIsAutoDisabled:!1};var p=function(a){var c=a.initializeVideo,d=a.isRemoteVideoSupported,e=a.localUser,f=a.peerName,g=a.referenceElement;a=a.videoIsAutoDisabled;var i=b("RTCP2PAppViewFooterUtils").getVideoCallControlPopoverTitle(!d,!e.hasVideo()&&c);d=b("RTCP2PAppViewFooterUtils").getVideoCallControlPopoverBody(!d,!e.hasVideo()&&c,a,f);return b("React").createElement(b("FBRTCCallControlPopover.react"),{body:d,className:"_26bw",hideOnBlur:!0,label:h._("Video error status"),referenceElement:g,title:i,width:o})},q=function(a){var c=a.conferenceState,d=a.disabled,e=a.nodeRef,f=a.protocolHandler;a=a.stream;return b("React").createElement(b("RTCCallControlsToggleScreenSharingWithFunnelButton.react"),{conferenceState:c,disabled:d,isP2P:!0,onExtensionInstallStart:function(){return b("UserAgent").isBrowser("Chrome")?b("CollabRTCChromeScreenSharingExtension").install(j()):b("Promise").reject("unexpected browser")},onShareStarted:function(a){return f.startScreenStream(a)},onShareStop:function(a){return f.stopScreenStream(a)},onShareStreamUpdate:function(a,b){return f.updateScreenStream(a,b)},ref:e,stream:a})},r=function(a){var c=a.canPeerReceiveScreenSharing,d=a.hasRemoteScreenStream,e=a.isAudioCall,f=a.peerName;a=a.referenceElement;var g=null;c=b("RTCP2PAppViewFooterUtils").getScreenSharingCallControlPopoverBody(!c,d,e,b("FBRTCConfig").isVCEndpointCall(),f);return b("React").createElement(b("FBRTCCallControlPopover.react"),{body:c,className:"_26bw",hideOnBlur:!0,label:h._("Screen-sharing status"),referenceElement:a,title:g,width:n})},s=function(a){a=a.referenceElement;var c=h._("Adding a participant is not allowed while screen-sharing is ongoing");return b("React").createElement(b("FBRTCCallControlPopover.react"),{body:c,className:"_26bw",hideOnBlur:!0,label:h._("Adding a participant is not allowed while screen-sharing is ongoing"),referenceElement:a,title:null,width:m})};e.exports=a}),null);
__d("RTCP2PAppViewFooterContainer.react",["FluxContainer","React","RTCAppDispatcher","RTCCallNUXStore","RTCCallStore","RTCP2PAppViewFooter.react","RTCP2PCallEscalationStore","RTCP2PCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=babelHelpers.inherits(h,b("React").PureComponent);g=a&&a.prototype;h.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCP2PCallEscalationStore"),b("RTCCallNUXStore")]};h.calculateState=function(){var a=b("RTCP2PCallEscalationStore").getState(),c=b("RTCP2PCallStore").getState(),d=b("RTCCallStore").getState();return{awaitingEscalationACK:a.awaitingACK,escalated:a.escalated,escalationInProgress:a.inProgress,escalationRequest:Boolean(a.request),isCaller:c.isCaller,isPoorNetworkQualityShown:c.isPoorNetworkQualityShown,isRedialFooterButtonShown:c.isRedialFooterButtonShown,offerEscalationSupport:c.offerEscalationSupport,protocolHandler:c.protocolHandler,remoteUsers:d.remoteUsers,showAddMemberNux:b("RTCCallNUXStore").getState().showAddGroupMemberNUX,wasStarRatingDone:c.wasStarRatingDone}};function h(){g.constructor.call(this),b("RTCAppDispatcher").explicitlyRegisterStores([].concat(h.getStores()))}h.prototype.render=function(){return b("React").createElement(b("RTCP2PAppViewFooter.react"),babelHelpers["extends"]({},this.props,this.state))};e.exports=b("FluxContainer").create(h)}),null);
__d("RTCUIPopoutIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.filledWindow;c=c===void 0?"front":c;a=babelHelpers.objectWithoutPropertiesLoose(a,["filledWindow"]);return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},c==="front"?b("React").createElement("path",{d:"M26 23H14.012a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2H26a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm9.994-8H24.006a2 2 0 0 0-2 2v4.997h2V17h11.988v8h-6.967v2h6.967a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z"}):b("React").createElement("path",{d:"M36.01 14.996H24.02a2 2 0 0 0-2 2v4.997h4.028a3 3 0 0 1 3 3v2.003h6.96a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm-10.004 8.007H14.018a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11.988a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm0 10H14.018v-8h11.988v8z"})))};e.exports=a}),null);
__d("RTCCallControlsPopOutScreenContentButton.react",["cx","fbt","FluxContainer","React","RTCAppDispatcher","RTCCallControlsButton.react","RTCCallNUXActions","RTCCallNUXIDs","RTCCallNUXStore","RTCP2PCallActions","RTCUIPopoutIcon.react","RTWebLoggingComponent","RTWebUserActionLogger","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;a.getStores=function(){return[b("RTCCallNUXStore")]};a.calculateState=function(a){a===void 0&&(a={});return babelHelpers["extends"]({},a,{showNUX:b("RTCCallNUXStore").getState().showRemoteScreenContentPopOutNUX})};function a(a){i.constructor.call(this,a),this.$2=function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").SCREENSHARING_POP_OUT,surface:this.props.surface}),this.props.onClick!=null?this.props.onClick():(this.state.showNUX&&j(),b("RTCP2PCallActions").togglePopOutScreenContent(this.props.mediaStream))}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")])}a.prototype.render=function(){var a=this.props.mediaStream==null,c=a?h._("Show Shared Content"):h._("Open Shared Content in New Window");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallControlsButton.react"),{className:b("joinClasses")(this.props.className,"transparent icon-50"),onClick:this.$2,ref:function(a){return this.$1=a}.bind(this),title:this.props.title||c},b("React").createElement(b("RTCUIPopoutIcon.react"),{filledWindow:a?"back":"front"})),b("React").createElement(k,{contextRef:function(){return this.$1}.bind(this),shown:this.state.showNUX&&this.props.mediaStream!=null}))};a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({component:b("RTWebLoggingComponent").SCREENSHARING_POP_OUT,surface:this.props.surface}),this.$3()};a.prototype.componentDidUpdate=function(){this.$3()};a.prototype.$3=function(){this.state.showNUX&&this.props.mediaStream!=null&&b("RTCCallNUXActions").markNUXViewed(b("RTCCallNUXIDs").RTC_P2P_REMOTE_SCREEN_CONTENT_POP_OUT_NUX)};function j(){b("RTCCallNUXActions").dismissNUX(b("RTCCallNUXIDs").RTC_P2P_REMOTE_SCREEN_CONTENT_POP_OUT_NUX)}var k=function(a){return b("React").createElement(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:j,position:"below",width:"auto"},a),h._("Pop out shared content as a separate window"))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCPushToTalkIcon.react",["cx","React","RTCSVGIcon.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return b("React").createElement(b("RTCSVGIcon.react"),{className:b("joinClasses")(a.className,"_6zy0")},b("React").createElement("svg",{viewBox:"0 0 48 48"},b("React").createElement("path",{d:"M25 31c.7-.1 1.3-.3 1.9-.6l-.5-.9c-.6.3-1.2.5-1.9.5-2.5 0-4.5 -2.2-4.5-5v-5h-1v5.2c0 3.1 2.2 5.6 5 5.8v3h-3v1h7v-1h-3v-3z m-.5-2c.5 0 1-.1 1.4-.3L21 20.6v4.9c0 1.9 1.6 3.5 3.5 3.5z m-5.8-16l-.9.5L30.3 34l.9-.5L18.7 13zM30 25.2V20h-1v5c0 .8-.2 1.6-.5 2.2l.6 1c.6-.8.9-1.9.9-3zm-2 .3v-9c0-1.9-1.6-3.5-3.5 -3.5-1.5 0-2.7.9-3.2 2.2L28 26.3v-.8z"})))};e.exports=a}),null);
__d("RTCCallControlsPushToTalkButton.react",["cx","fbt","React","RTCCallActions","RTCCallControlsButton.react","RTCHotKeys","RTCHotKeysConfig","RTCPushToTalkIcon.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RTCHotKeysConfig").RTCHotKey;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isPushKeyEnabled:!0},this.$2=function(a){__p&&__p();if(!this.props.isAudioMuted&&this.state.isPushKeyEnabled)return!1;if(a.type==="keydown"&&this.state.isPushKeyEnabled){this.setState(function(a){return{isPushKeyEnabled:!a.isPushKeyEnabled}});b("RTCCallActions").toggleMuteAudio(!0);return!0}if(a.type==="keyup"){this.setState({isPushKeyEnabled:!0});b("RTCCallActions").toggleMuteAudio(!1);return!0}return!1}.bind(this),c}a.prototype.render=function(){var a=this.props.isAudioMuted,c=this.state.isPushKeyEnabled;if(!a&&!c)return null;if(!a&&c)return null;a=h._("Push M to talk");return b("React").createElement(b("RTCCallControlsButton.react"),{className:"pushToTalk icon-48",disabled:!0,labelIsHidden:!1,onClick:b("emptyFunction"),title:a},b("React").createElement(b("RTCPushToTalkIcon.react"),null))};a.prototype.componentDidMount=function(){this.$1=b("RTCHotKeys").register(j.PUSH_TO_TALK,b("emptyFunction"),this.$2)};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove()};e.exports=a}),null);
__d("RTCSettingsAudioOutputPreview.react",["cx","Promise","FBRTCLogger","FBRTCUtils","MercurySoundsConfig","React","ShimButton.react","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={currentTime:0,disabled:!0,duration:0,playing:!1},this.$5=function(){var a=this.$1;if(!a||this.state.disabled)return;this.state.playing?(a.pause(),a.currentTime=0,this.$11()):(this.setState({disabled:!0}),b("promiseDone")(b("Promise").resolve(a.play()),function(){return this.setState({disabled:!1})}.bind(this)))}.bind(this),this.$12=function(a){a&&(this.$2=a)}.bind(this),this.$13=function(a){a&&(a.volume=.3,this.$1=a)}.bind(this),this.$14=function(a){a=a.target;this.setState({disabled:!1,duration:a.duration})}.bind(this),this.$15=function(){window.clearInterval(this.$3);this.setState({playing:!0,currentTime:0});var a=Date.now(),b=function(){return this.setState({currentTime:(Date.now()-a)/1e3})}.bind(this);b();this.$3=window.setInterval(b,40)}.bind(this),this.$11=function(){window.clearInterval(this.$3),this.$3=window.setTimeout(function(){return this.setState({playing:!1,currentTime:0})}.bind(this),250)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("ShimButton.react"),{className:"_7bn0",onClick:this.$5,tabIndex:0},this.$6(),this.$7(),this.$8(),this.$9(),this.$10())};a.prototype.$6=function(){return b("React").createElement("audio",{ref:this.$12,autoPlay:!0})};a.prototype.$7=function(){return b("React").createElement("audio",{ref:this.$13,autoPlay:!1,loop:!1,preload:"auto",onDurationChange:this.$14,onPlay:this.$15,onEnded:this.$11},b("React").createElement("source",{src:b("MercurySoundsConfig").settings_preview_sound_mp3_url,type:"audio/mpeg"}),b("React").createElement("source",{src:b("MercurySoundsConfig").settings_preview_sound_ogg_url,type:"audio/ogg"}))};a.prototype.$8=function(){var a=this.state.playing?b("React").createElement("path",{d:"M7 5h2v10H7V5zm4 0h2v10H11V5z"}):b("React").createElement("path",{d:"M7 6l6 4-6 4"});return b("React").createElement("svg",{className:"_7bn1 button",viewBox:"0 0 20 20"},a)};a.prototype.$9=function(){var a=this.state,c=a.duration;a=a.currentTime;return b("React").createElement("div",{className:"_7bm4"},b("React").createElement("div",{className:"_7bm5",style:{transform:"scaleX("+(c?a/c:0)+")"}}))};a.prototype.$10=function(){var a=this.state.playing?this.state.currentTime:this.state.duration;return b("React").createElement("div",{className:"_7bn1 text"},Math.floor(a)+"s")};a.prototype.componentDidMount=function(){var a=this.props,b=a.sinkID;a=a.mediaStream;this.$16(a);this.$4=window.setTimeout(function(){return this.$17(b)}.bind(this),1e3)};a.prototype.componentDidUpdate=function(a){var b=this.props,c=b.sinkID;b=b.mediaStream;b!==a.mediaStream?(this.$16(b),this.$17(c)):c!==a.sinkID&&this.$17(c)};a.prototype.$16=function(a){this.$2&&a&&b("FBRTCUtils").attachMediaStream(this.$2,a)};a.prototype.$17=function(a){window.clearTimeout(this.$4);if(!this.$18()||!a)return;[this.$2,this.$1].reduce(function(b,c){return c?b.then(function(){return c.setSinkId(a)}):b},b("Promise").resolve())["catch"](function(a){})};a.prototype.$18=function(){var a=HTMLAudioElement;a=a.prototype;return"sinkId"in a&&typeof a.setSinkId==="function"};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.pause(),window.clearInterval(this.$3),window.clearTimeout(this.$4),this.$2=null,this.$1=null};a.defaultProps={sinkID:null};e.exports=a}),null);
__d("RTCSettingsDialog.react",["cx","fbt","FBRTCConfig","FBRTCLogger","FBRTCUtils","FBRTCVideo.react","Link.react","React","RTCDialog.react","RTCDialogBody.react","RTCDialogHeader.react","RTCDialogHeaderButton.react","RTCHotKeysConfig","RTCP2PProtocolHandler","RTCSettingsAudioInputPreview.react","RTCSettingsAudioOutputPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserMediaConstraints","RTCUserSettingsActions","RTCUtils","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","SUIMessengerRTCLightTheme","SUIText.react","VideoCallWebDriverIDs","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={audioInput:this.props.audioInput,audioOutput:this.props.audioOutput,mediaStream:null,videoInput:this.props.videoInput},this.$2=function(){b("RTCUserSettingsActions").cancel(),b("RTWebUserActionLogger").logClick({surface:b("RTWebLoggingSurface").SETTING_DIALOG,component:b("RTWebLoggingComponent").CANCEL}),this.props.onHideDialog()}.bind(this),this.$3=function(){var a=this.state,c=a.audioInput,d=a.audioOutput;a=a.videoInput;b("RTCUserSettingsActions").save({audioInput:c,audioOutput:d,videoInput:a});b("RTWebUserActionLogger").logClick({surface:b("RTWebLoggingSurface").SETTING_DIALOG,component:b("RTWebLoggingComponent").SAVE});this.props.onHideDialog()}.bind(this),c}a.prototype.componentDidMount=function(){b("RTCUserSettingsActions").edit(),b("RTWebUserActionLogger").logImpression({surface:b("RTWebLoggingSurface").SETTING_DIALOG}),this.$1()["catch"](t)};a.prototype.componentWillUnmount=function(){var a=this.state.mediaStream;a&&b("RTCUtils").stopMediaStream(a)};a.prototype.render=function(){return!this.props.devices?null:b("React").createElement(b("RTCDialog.react"),{label:"Video and audio call settings",onToggle:this.props.onHideDialog,width:564},b("React").createElement(o,{onCancel:this.$2,onSave:this.$3}),b("React").createElement(b("RTCDialogBody.react"),null,this.props.isAudioOnly?null:b("React").createElement(j,{devices:this.props.devices,mediaStream:this.state.mediaStream,onVideoInputChange:function(a){return this.$4({videoInput:a})}.bind(this),selectedVideoInput:this.state.videoInput}),b("React").createElement(k,{devices:this.props.devices,mediaStream:this.state.mediaStream,onAudioInputChange:function(a){return this.$4({audioInput:a})}.bind(this),selectedAudioInput:this.state.audioInput}),b("FBRTCUtils").supportsSetSink()?b("React").createElement(l,{devices:this.props.devices,mediaStream:this.props.remoteStream,onAudioOutputChange:function(a){return this.$4({audioOutput:a})}.bind(this),selectedAudioOutput:this.state.audioOutput}):null,b("React").createElement(m,null),b("React").createElement(p,null)))};a.prototype.$4=function(a){this.setState(a,function(){this.$1()["catch"](t)}.bind(this))};a.prototype.$1=function(){var a=this.state,c=a.audioInput,d=a.mediaStream;a=a.videoInput;return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(c),video:this.props.isAudioOnly?!1:b("RTCUserMediaConstraints").video(b("RTCP2PProtocolHandler").getDefaultVideoQuality(),a)}).then(function(a){d&&b("RTCUtils").stopMediaStream(d),this.setState({mediaStream:a})}.bind(this))};var j=function(a){return b("React").createElement(q,{className:"_10mn"},b("React").createElement(r,null,b("React").createElement(s,null,h._("Camera"))),b("React").createElement(r,null,b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"videoinput"),onChange:a.onVideoInputChange,value:a.selectedVideoInput,width:212})),b("React").createElement(r,null,b("React").createElement(b("FBRTCVideo.react"),{className:"_10mo",mediaStream:a.mediaStream,muted:!0})))},k=function(a){return b("React").createElement(q,{className:"_10mn"},b("React").createElement(r,null,b("React").createElement(s,null,h._("Microphone"))),b("React").createElement(r,null,b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"audioinput"),onChange:a.onAudioInputChange,value:a.selectedAudioInput,width:212})),b("React").createElement(r,null,b("React").createElement(b("RTCSettingsAudioInputPreview.react"),{mediaStream:a.mediaStream})))},l=function(a){return b("React").createElement(q,{className:"_10mn"},b("React").createElement(r,null,b("React").createElement(s,null,h._("Audio output"))),b("React").createElement(r,null,b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"audiooutput"),onChange:a.onAudioOutputChange,value:a.selectedAudioOutput,width:212})),b("React").createElement(r,null,b("React").createElement(b("RTCSettingsAudioOutputPreview.react"),{mediaStream:a.mediaStream,sinkID:a.selectedAudioOutput})))},m=function(){var a=b("RTCHotKeysConfig").getSupportedHotKeys();return b("React").createElement(q,{className:"_10mn"},b("React").createElement(r,null,b("React").createElement(s,null,h._("Keyboard shortcuts"))),b("React").createElement("div",{className:"_6zxh"},a.slice(0,Math.ceil(a.length/2)).map(function(a,c){return b("React").createElement(n,{key:c,keyConfig:a})})),b("React").createElement("div",{className:"_6zxh"},a.slice(Math.ceil(a.length/2),a.length).map(function(a,c){return b("React").createElement(n,{key:c,keyConfig:a})})))},n=function(a){a=a.keyConfig;var c=(a.altKey?"Alt + ":"")+a.key.toUpperCase();return b("React").createElement("div",{className:"_6zxi",key:a.label},b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"body1",theme:b("SUIMessengerRTCLightTheme")},a.label),b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"body1",theme:b("SUIMessengerRTCLightTheme")},c))},o=function(a){return b("React").createElement(b("RTCDialogHeader.react"),null,b("React").createElement("h1",{className:"_10mm"},h._("Settings")),b("React").createElement(b("RTCDialogHeaderButton.react"),{label:h._("Cancel"),onClick:a.onCancel}),b("React").createElement(b("RTCDialogHeaderButton.react"),{"data-testid":b("VideoCallWebDriverIDs").SAVE_SETTINGS_BUTTON,label:h._("Save"),onClick:a.onSave}))},p=function(){return b("React").createElement("footer",{className:"_10mv _10mn"},b("React").createElement(r,null,b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"header4",theme:b("SUIMessengerRTCLightTheme")},h._("Tip: Try restarting your browser if you're having trouble with your camera or microphone."))),b("React").createElement(r,null,b("React").createElement(b("SUIText.react"),{color:"blueLink",size:"header4",theme:b("SUIMessengerRTCLightTheme")},b("React").createElement(b("Link.react"),{href:b("FBRTCConfig").userMediaErrorUrl(),target:"_blank"},h._("Get help")))))},q=function(a){var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").createElement("section",babelHelpers["extends"]({className:b("joinClasses")(d,"_10mx")},a),c)},r=function(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return b("React").createElement("div",babelHelpers["extends"]({className:"_10my"},a),c)},s=function(a){a=a.children;return b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"header3",theme:b("SUIMessengerRTCLightTheme")},a)};function t(a){}e.exports=a}),null);
__d("RTCSettingsContainer.react",["FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCCallType","RTCMediaDevicesStore","RTCP2PCallStore","RTCSettingsDialog.react","RTCUserSettingsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=babelHelpers.inherits(h,b("React").PureComponent);g=a&&a.prototype;function h(a){g.constructor.call(this,a),b("RTCAppDispatcher").explicitlyRegisterStores([].concat(h.getStores())),b("RTCMediaDevicesStore").refresh()}h.getStores=function(){return[b("RTCMediaDevicesStore"),b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};h.calculateState=function(){var a=b("RTCCallStore").getState();a=a.remoteUsers;var c=b("RTCP2PCallStore").getState();c=c.callType;var d=b("RTCUserSettingsStore").getState(),e=d.audioInput,f=d.audioOutput;d=d.videoInput;a=a?a.first():null;return{audioInput:e,audioOutput:f,devices:b("RTCMediaDevicesStore").getState(),isAudioOnly:c===b("RTCCallType").AUDIO_ONLY,remoteStream:a?a.streams.first():null,videoInput:d}};h.prototype.render=function(){return b("React").createElement(b("RTCSettingsDialog.react"),babelHelpers["extends"]({},this.props,this.state))};e.exports=b("FluxContainer").create(h)}),null);
__d("RTCUISettingsCogIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1="",this.$2=function(a){a&&(this.$1=a.getURL(),this.forceUpdate())}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.variant,d=a.shadow;a=babelHelpers.objectWithoutPropertiesLoose(a,["variant","shadow"]);return d?b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement("defs",null,b("React").createElement(b("RTCSVGIconDropShadowFilter.react"),{height:24,ref:this.$2,width:24})),b("React").createElement("g",{filter:this.$1},b("React").createElement(h,{variant:c})))):b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement(h,{variant:c})))};a.defaultProps={variant:"outline"};var h=function(a){a=a.variant;return a==="outline"?b("React").createElement("g",{strokeWidth:"2"},b("React").createElement("path",{d:"M34.1 23.4l-1.4-.2c-1.1-.2-1.7-1.5-1-2.4l.8-1.1c.3-.4.3-1-.1-1.3l-.9-.9c-.3-.4-.9-.4-1.3-.1l-1.1.8c-.9.7-2.2.1-2.4-1l-.2-1.4c-.1-.5-.5-.9-1-.9h-1.3c-.5 0-.9.4-1 .9l-.2 1.4c-.2 1.1-1.5 1.7-2.4 1l-1.1-.8c-.4-.3-1-.3-1.3.1l-.9.9c-.3.4-.4.9-.1 1.3l.8 1.1c.7.9.1 2.2-1 2.4l-1.4.2c-.5.1-.9.5-.9 1v1.3c0 .5.4.9.9 1l1.4.2c1.1.2 1.7 1.5 1 2.4l-.8 1.1c-.3.4-.3 1 .1 1.3l.9.9c.3.4.9.4 1.3.1l1.1-.8c.9-.7 2.2-.1 2.4 1l.2 1.4c.1.5.5.9 1 .9h1.3c.5 0 .9-.4 1-.9l.2-1.4c.2-1.1 1.5-1.7 2.4-1l1.1.8c.4.3 1 .3 1.3-.1l.9-.9c.4-.4.4-.9.1-1.3l-.8-1.1c-.7-.9-.1-2.2 1-2.4l1.4-.2c.5-.1.9-.5.9-1v-1.3c0-.5-.4-1-.9-1z",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),b("React").createElement("circle",{cx:"25",cy:"25",fill:"none",r:"3.5"})):b("React").createElement("path",{d:"M34.2 22.9l-1.4-.2c-.4-.1-.6-.3-.8-.6-.1-.3-.1-.7.1-1L33 20c.4-.6.4-1.4-.1-2l-.9-.9c-.3-.3-.7-.4-1.1-.4-.3 0-.6.1-.9.3l-1.1.8c-.2.1-.4.2-.6.2-.4 0-.9-.3-1-.9l-.2-1.4c-.1-.7-.7-1.3-1.5-1.3h-1.3c-.7 0-1.4.5-1.5 1.3l-.2 1.4c-.1.6-.6.9-1 .9-.2 0-.4-.1-.6-.2l-1-.8c-.3-.2-.6-.3-.9-.3-.4 0-.8.2-1.1.4l-.9.9c-.5.5-.6 1.4-.1 2l.8 1.1c.2.3.3.6.1 1-.1.3-.4.6-.8.6l-1.4.2c-.7.1-1.3.7-1.3 1.5v1.3c0 .7.5 1.4 1.3 1.5l1.4.2c.3.1.6.3.8.6s.1.7-.1 1l-.8 1c-.4.6-.4 1.4.1 2l.9.9c.3.3.7.4 1.1.4.3 0 .6-.1.9-.3l1.1-.8c.2-.1.4-.2.6-.2.4 0 .9.3 1 .9l.2 1.4c.1.7.7 1.3 1.5 1.3h1.3c.7 0 1.4-.5 1.5-1.3l.2-1.4c.1-.6.6-.9 1-.9.2 0 .4.1.6.2l1 .8c.3.2.6.3.9.3.4 0 .8-.2 1.1-.4l.9-.9c.5-.5.6-1.4.1-2l-.8-1.1c-.2-.3-.3-.7-.1-1 .1-.3.4-.6.8-.6l1.4-.2c.7-.1 1.3-.7 1.3-1.5v-1.3c-.1-.7-.6-1.3-1.4-1.4zM25 28.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"})};e.exports=a}),null);
__d("RTCCallControlsShowSettingsButton.react",["cx","fbt","FBRTCUserSettings","FluxContainer","React","RTCAppDispatcher","RTCCallControlsButton.react","RTCCallNUXActions","RTCCallNUXIDs","RTCCallNUXStore","RTCCallStore","RTCHotKeys","RTCHotKeysConfig","RTCSettingsContainer.react","RTCUISettingsCogIcon.react","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RTCHotKeysConfig").RTCHotKey;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;a.getStores=function(){return[b("RTCCallNUXStore")]};a.calculateState=function(a){a===void 0&&(a={highlighted:!1,pressed:!1});return babelHelpers["extends"]({},a,{showNux:b("RTCCallNUXStore").getState().showSettingsNUX})};function a(a){i.constructor.call(this,a),this.$3=function(){if(!b("FBRTCUserSettings").isEnabled())return;var a=this.context;a&&a.dialogShow&&a.dialogHide&&(a.dialogShow(b("React").createElement(b("RTCSettingsContainer.react"),{onHideDialog:this.$4})),this.setState({highlighted:!0}));this.state.showNux&&k();a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logClick(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").SETTINGS,surface:b("RTWebLoggingSurface").CALL_CONTROLS}))}.bind(this),this.$4=function(){this.setState({highlighted:!1}),this.context.dialogHide()}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")])}a.prototype.render=function(){__p&&__p();var a=this.state,c=a.highlighted;a=a.pressed;var d=this.props,e=d.isAudioOnly;d=d.className;a=c?a?"outline":"filled":a?"filled":"outline";return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallControlsButton.react"),{className:b("joinClasses")("transparent icon-50",d),"data-testid":b("VideoCallWebDriverIDs").SETTINGS_BUTTON,highlighted:c,onClick:this.$3,onMouseDown:function(){return this.setState({pressed:!0})}.bind(this),onMouseUp:function(){return this.setState({pressed:!1})}.bind(this),ref:function(a){return this.$2=a}.bind(this),title:h._("Settings")},b("React").createElement(b("RTCUISettingsCogIcon.react"),{shadow:!e,variant:a})),b("React").createElement(l,{contextRef:function(){return this.$2}.bind(this),shown:this.state.showNux}))};a.prototype.componentDidMount=function(){this.$5();var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logImpression(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").SETTINGS,surface:b("RTWebLoggingSurface").CALL_CONTROLS}));this.$1=b("RTCHotKeys").register(j.SETTINGS,this.$3)};a.prototype.componentDidUpdate=function(){this.$5()};a.prototype.$5=function(){this.state.showNux&&b("RTCCallNUXActions").markNUXViewed(b("RTCCallNUXIDs").RTC_P2P_SETTINGS_NUX)};a.prototype.componentWillUnmount=function(){var a=this.context;this.state.highlighted&&a&&a.dialogHide&&a.dialogHide();this.$1&&this.$1.remove()};a.contextTypes={dialogShow:c.func,dialogHide:c.func};function k(){b("RTCCallNUXActions").dismissNUX(b("RTCCallNUXIDs").RTC_P2P_SETTINGS_NUX)}var l=function(a){return b("React").createElement(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:k,position:"below",width:"auto"},a),h._("Change your microphone, camera and speaker devices"))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PAppViewHeader.react",["cx","FBRTCConfig","FBRTCUserSettings","JSResource","React","RTCAppViewHeader.react","RTCCallControls.react","RTCCallControlsChatButton.react","RTCCallControlsPopOutScreenContentButton.react","RTCCallControlsPushToTalkButton.react","RTCCallControlsShowSettingsButton.react","RTCCallControlsToggleFullScreenButton.react","RTCCallNUXStore","RTCConferenceState","RTCP2PCallStore","RTWebCollabClientFeatureGating","RTWebLoggingSurface","UserAgent","lazyLoadComponent","BootloaderResource"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("RTCCallControlsShowCameraControlsButton.react").__setRef("RTCP2PAppViewHeader.react")),i=b("lazyLoadComponent")(b("JSResource")("RTCMediaStateController.react").__setRef("RTCP2PAppViewHeader.react")),j=b("lazyLoadComponent")(b("JSResource")("RTCCallControlsMeetingRosterContainer.react").__setRef("RTCP2PAppViewHeader.react")),k=b("lazyLoadComponent")(b("JSResource")("RTCDtmfController.react").__setRef("RTCP2PAppViewHeader.react"));a=function(a){var c=a.callID,d=a.conferenceName,e=a.conferenceState,f=a.isAudioCall,g=a.isScreenContentPoppedOut,o=a.remoteUser,p=!n({callID:c,conferenceName:d,conferenceState:e,isAudioCall:f,isScreenContentPoppedOut:g,remoteUser:o});b("FBRTCConfig").isVCEndpointCall()&&(b("BootloaderResource").preload(b("JSResource")("RTCMediaStateController.react").__setRef("RTCP2PAppViewHeader.react")),b("BootloaderResource").preload(b("JSResource")("RTCDtmfController.react").__setRef("RTCP2PAppViewHeader.react")),b("BootloaderResource").preload(b("JSResource")("RTCCallControlsShowCameraControlsButton.react").__setRef("RTCP2PAppViewHeader.react")),b("BootloaderResource").preload(b("JSResource")("RTCCallControlsMeetingRosterContainer.react").__setRef("RTCP2PAppViewHeader.react")));switch(e){case b("RTCConferenceState").AWAITING_USER_START:return b("FBRTCConfig").isVCEndpointCall()?b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:f},b("React").createElement(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:p}),b("React").createElement(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:f}),b("React").createElement(m,{isAudioOnly:f,peer:o}),b("React").createElement(b("RTCCallControlsChatButton.react"),{conferenceState:e,isP2P:!0}))):b("React").createElement(l,{autoHide:p,callID:c,conferenceName:d,conferenceState:e,isAudioCall:f});case b("RTCConferenceState").CONNECTED:var q=b("RTWebCollabClientFeatureGating").showPushToTalk();return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:f},b("React").createElement(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:p}),q?b("React").createElement("div",{className:"_6zx7"},b("React").createElement(b("RTCCallControlsPushToTalkButton.react"),{isAudioMuted:a.localUser.isAudioMuted()})):null,o&&o.hasScreenStream()?b("React").createElement(b("RTCCallControlsPopOutScreenContentButton.react"),{mediaStream:g?null:o.getScreenStream(),surface:b("RTWebLoggingSurface").CALL_CONTAINER}):null,b("FBRTCConfig").isVCEndpointCall()?b("React").createElement(b("React").Suspense,{fallback:null},b("React").createElement(h,null),b("React").createElement(i,null),b("React").createElement(k,null)):null,b("React").createElement(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:f}),b("React").createElement(m,{isAudioOnly:f,peer:o}),b("RTWebCollabClientFeatureGating").showParticipantsRoster()?b("React").createElement(j,null):null,b("React").createElement(b("RTCCallControlsChatButton.react"),{conferenceState:e,isP2P:!0})));default:return b("React").createElement(l,{autoHide:p,callID:c,conferenceName:d,conferenceState:e,isAudioCall:f})}};var l=function(a){var c=a.autoHide;a.callID;a.conferenceName;var d=a.conferenceState;a=a.isAudioCall;return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:a},b("React").createElement(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:c}),b("React").createElement(b("RTCCallControlsChatButton.react"),{conferenceState:d,isP2P:!0})))},m=function(a){var c=a.isAudioOnly;a=a.peer;var d=b("RTCP2PCallStore").getState();d=d.isPeerOnMobile;d=d&&b("UserAgent").isBrowser("Firefox");d=b("FBRTCUserSettings").isEnabled()&&!d;return d?b("React").createElement(b("RTCCallControlsShowSettingsButton.react"),{isAudioOnly:c,isP2P:!0,remoteStream:a?a.streams.first():null}):null};function n(a){__p&&__p();a.callID;a.conferenceName;var c=a.conferenceState,d=a.isAudioCall,e=a.isScreenContentPoppedOut;a=a.remoteUser;if(d)return!0;if(c!==b("RTCConferenceState").CONNECTED)return!1;d=b("RTCCallNUXStore").getState();c=d.showRemoteCameraControlsNUX;var f=d.showRemoteScreenContentPopOutNUX,g=d.showRemoteStreamsSliderNUX;d=d.showSettingsNUX;return d||b("FBRTCConfig").isVCEndpointCall()&&c||!!a&&a.hasScreenStream()&&!e&&(g||f)}e.exports=a}),null);
__d("RTCP2PAppView.react",["cx","CssBackgroundImage.react","FBRTCPoorNetworkNotification.react","MercuryIDs","MessengerParticipants.bs","React","RTCAppSpinner.react","RTCAppView.react","RTCAppViewFooter.react","RTCAppViewHeader.react","RTCAppViewMain.react","RTCConferenceState","RTCGrantUserMediaAccessView.react","RTCP2PAppViewContentContainer.react","RTCP2PAppViewFooterContainer.react","RTCP2PAppViewHeader.react","RTCP2PCallActions","RTCPeerConnectionStats.react","RTCUserMediaRequestState","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.callID,d=a.conferenceName,e=a.conferenceState,f=a.initializeVideo,g=a.isAudioCall,h=a.isScreenContentPoppedOut,i=a.isPoorNetworkQualityShown,j=a.localUser,k=a.remoteUser,l=a.userMediaRequest;switch(l.state){case b("RTCUserMediaRequestState").PENDING:case b("RTCUserMediaRequestState").REJECTED:return b("React").createElement(b("RTCAppView.react"),{isAudioCall:g},b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:g}),b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("RTCGrantUserMediaAccessView.react"),{isAudioCall:g,userMediaRequest:l})),b("React").createElement(b("RTCAppViewFooter.react"),null));case b("RTCUserMediaRequestState").FULFILLED:l=b("MercuryIDs").getParticipantIDFromUserID(a.remoteUserFBID);l=b("MessengerParticipants.bs").getNow(l);return b("React").createElement(b("RTCAppView.react"),{isAudioCall:g&&!a.acceptedEscalation},b("RTWebClientFeatureGating").callUnification()?b("React").createElement(b("CssBackgroundImage.react"),{backgroundPosition:"center center",className:"_6qmp",height:"100%",imageURI:l.image_src,width:"100%"}):null,b("React").createElement(b("RTCP2PAppViewHeader.react"),{callID:c,conferenceName:d,conferenceState:e,isAudioCall:g,isScreenContentPoppedOut:h,localUser:j,remoteUser:k}),b("React").createElement(b("RTCP2PAppViewContentContainer.react"),{conferenceName:a.conferenceName,conferenceState:e,connectionStatus:a.connectionStatus,endCallReason:a.endCallReason,isAudioCall:g,isScreenContentPoppedOut:h,remoteUser:k}),b("React").createElement(b("RTCP2PAppViewFooterContainer.react"),{callID:c,canPeerReceiveScreenSharing:a.canPeerReceiveScreenSharing,conferenceName:d,conferenceState:e,hasRemoteScreenStream:k?k.hasScreenStream():!1,initializeVideo:f,isAudioCall:g,localUser:a.localUser,remotePeerName:k?k.userName:"",remoteUserID:k?k.FBID:"",shouldHideCloseButton:a.shouldHideCloseButton}),b("RTWebClientFeatureGating").shouldShowNetworkQualityIndicator()?b("React").createElement(b("FBRTCPoorNetworkNotification.react"),{onClick:function(){b("RTCP2PCallActions").togglePoorNetworkQualityIndicator(!1)},shown:i&&(g||j.isVideoMuted())&&e===b("RTCConferenceState").CONNECTED}):null,b("React").createElement(b("RTCPeerConnectionStats.react"),{connection:a.connection,style:{marginBottom:40}}));default:return b("React").createElement(b("RTCAppView.react"),{isAudioCall:g},b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:g}),b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("RTCAppSpinner.react"),null)),b("React").createElement(b("RTCAppViewFooter.react"),null))}};e.exports=a}),null);
__d("RTCP2PAppViewContainer.react",["FBRTCScreenSharingUtils","FluxContainer","React","RTCAppDispatcher","RTCP2PAppView.react","RTCP2PCallEscalationStore","RTCP2PCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=babelHelpers.inherits(h,b("React").PureComponent);g=a&&a.prototype;h.getStores=function(){return[b("RTCP2PCallEscalationStore"),b("RTCP2PCallStore")]};h.calculateState=function(){var a=b("RTCP2PCallStore").getState(),c=a.connectionStatus,d=a.endCallReason,e=a.isPoorNetworkQualityShown,f=a.isScreenContentPoppedOut;a=a.signalingExperiments;return{acceptedEscalation:b("RTCP2PCallEscalationStore").getState().response,connectionStatus:c,endCallReason:d,canPeerReceiveScreenSharing:b("FBRTCScreenSharingUtils").canPeerReceiveScreenSharing(a),isAudioCall:b("RTCP2PCallStore").isAudioOnly(),isScreenContentPoppedOut:f,isPoorNetworkQualityShown:e}};function h(){g.constructor.call(this),b("RTCAppDispatcher").explicitlyRegisterStores([].concat(h.getStores()))}h.prototype.render=function(){return b("React").createElement(b("RTCP2PAppView.react"),babelHelpers["extends"]({},this.props,this.state))};e.exports=b("FluxContainer").create(h)}),null);
__d("RTCP2PUnloadHandler",["FBRTCCallSummaryStore","FBRTCConstants","RTCCallStore","RTCConferenceState","RTCP2PCallStore","RTCUserMediaRequestState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=b("RTCCallStore").getState(),d=c.callInfo;c=c.callSummary;if(d.conferenceState===b("RTCConferenceState").TERMINATED)return;if(d.conferenceState===b("RTCConferenceState").AWAITING_USER_START){c.onCallEnded(b("FBRTCConstants").CallEndReason.HANGUP_CALL,!1,null,"DidNotInitiate");c.save(b("FBRTCCallSummaryStore").getInstance());return}d=b("FBRTCConstants").CallEndReason.HANGUP_CALL;c="BrowserClosed";if(a.state===b("RTCUserMediaRequestState").PENDING)d=b("FBRTCConstants").CallEndReason.CLIENT_ERROR,c="MediaPending";else if(a.state===b("RTCUserMediaRequestState").REJECTED){a=a.error;d=b("FBRTCConstants").CallEndReason.CLIENT_ERROR;c=!a||a.name==="NotAllowedError"?"MediaDenied":a.getEndCallSubReason()}a=b("RTCP2PCallStore").getState();a=a.protocolHandler;a.endCall(d,c,!0)}e.exports={handleUnload:a}}),null);
__d("MessengerRTCUserMediaErrorDialog.react",["cx","fbt","FluxContainer","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogTitleReact.re","React","RTCCallStore","RTCConferenceState","RTWebLoggingSurface","RTWebUserActionLogger","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerDialogTitleReact.re").component,k=300,l=function(a){return b("React").createElement("h2",{className:b("joinClasses")("_4ebz","_6dxt")},a.children)};a=babelHelpers.inherits(m,b("React").Component);i=a&&a.prototype;function m(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state=babelHelpers["extends"]({},m.calculateState()),b}m.getStores=function(){return[b("RTCCallStore")]};m.calculateState=function(){return{conferenceState:b("RTCCallStore").getState().callInfo.conferenceState}};m.prototype.componentDidMount=function(){var a=this.props,c=a.conferenceName;a=a.isGroupCall;b("RTWebUserActionLogger").logImpression({surface:b("RTWebLoggingSurface").AUDIO_FALLBACK_DIALOG,conferenceState:this.state.conferenceState,callType:b("RTWebUserActionLogger").getCallType(a),conferenceName:c})};m.prototype.render=function(){if(this.state.conferenceState!==b("RTCConferenceState").TERMINATED)return b("React").createElement(b("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:k},b("React").createElement(l,null,b("React").createElement(j,null,h._("Can't find camera"))),b("React").createElement(b("MessengerDialogBody.react"),{className:"_233q"},h._("Connect your camera and refresh the Page to turn on video. If your camera is already connected, try restarting your browser.")),b("React").createElement(b("MessengerDialogFooter.react"),null,b("React").createElement(b("MessengerDialogButton.react"),{className:"_30vt _233r",label:h._("OK"),onClick:this.props.onUnmount,type:"primary",use:"default"})));else return null};e.exports=b("FluxContainer").create(m)}),null);
__d("RTCUserMediaErrorDialogController",["DOM","MessengerRTCUserMediaErrorDialog.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={_container:b("DOM").create("div"),_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._container)},showMediaErrorDialog:function(a,c){b("ReactDOM").render(b("React").createElement(b("MessengerRTCUserMediaErrorDialog.react"),{conferenceName:c,isGroupCall:a,onUnmount:function(){return this._onUnmount()}.bind(this)}),this._container)}};e.exports=a}),null);
__d("RTCUserMediaRequest",["immutable","UserMediaRequestError"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({error:null,state:null});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("RTWebGetUserMediaWithRetryOnPermissionChange",["Promise","DateConsts","UserAgent","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2*b("DateConsts").MS_PER_SEC;function h(a,c,d,e){__p&&__p();return d()["catch"](function(f){__p&&__p();e&&e(f);var i=window.navigator.permissions;if(b("UserAgent").isBrowser("Chrome")&&i&&i.query)return new(b("Promise"))(function(a,b){__p&&__p();i.query({name:"microphone"}).then(function(e){if(e.state==="granted"){b(f);return}var h=window.setTimeout(function(){return b(f)},c*g);e.onchange=function(){e.state==="granted"&&(window.clearTimeout(h),a(d()))}})["catch"](function(a){throw f})});else return new(b("Promise"))(function(e,i){f.name==="NotAllowedError"&&a<c?window.setTimeout(function(){h(a+1,c,d,b("emptyFunction")).then(function(a){return e(a)})["catch"](function(a){return i(a)})},g):i(f)})})}a={gen:function(a,b,c){return h(0,a,b,c)}};e.exports=a}),null);
__d("RTCP2PCallView.react",["cx","fbt","PageHooks","Bootloader","CollabCallMessengerBrowserEventEnum","CollabInitStreamTriggerType","CSS","FBRTCCallSummaryStore","FBRTCConfig","FBRTCConstants","FBRTCLogger","FBRTCMessageListener","FBRTCStatsHelpers","FBRTCSupport","MercuryIDs","MessengerBugNub.react","React","RTCAppView.react","RTCCallActions","RTCCallInitUtils","RTCCallStore","RTCCallType","RTCChatViewWrapper.react","RTCConferenceState","RTCMediaDevices","RTCP2PAppViewContainer.react","RTCP2PCallActions","RTCP2PCallWindowHandler","RTCP2PConnectionStatus","RTCP2PProtocolHandler","RTCP2PUnloadHandler","RTCUserMediaErrorDialogController","RTCUserMediaRequest","RTCUserMediaRequestState","RTWebClientFeatureGating","RTWebCollabClientFeatureGating","RTWebGetUserMediaWithRetryOnPermissionChange","RTWebLoggingComponent","RTWebLoggingSurface","RTWebMobileCallView.react","RTWebUserActionLogger","Run","immutable","debounce"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("PageHooks");var j=b("FBRTCConstants").SignalingProtocol,k=60,l=150;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(a){__p&&__p();i.constructor.call(this,a);this.state={userMediaRequest:new(b("RTCUserMediaRequest"))()};this.$1=null;this.$2=b("FBRTCLogger").getInstance();this.$3=function(){return this.props.conferenceState===b("RTCConferenceState").CONNECTED?h._("Leaving this page will end your call."):null}.bind(this);this.$4=function(){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"window_unload"}),b("RTCP2PUnloadHandler").handleUnload(this.state.userMediaRequest)}.bind(this);this.$7=b("debounce")(function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").WINDOW_RESIZE,surface:b("RTWebLoggingSurface").CALL_CONTAINER})},2e3);b("Run").onBeforeUnload(this.$3,!1);b("Run").onUnload(this.$4);if(!a.allowsMWEscalation){a=this.props.conferenceName;b("RTCCallActions").initialize({protocol:j.P2P,conferenceName:a,serverInfoData:null,callID:a});b("RTCP2PCallActions").setCallType(this.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO)}b("RTCP2PCallActions").setIsCaller(this.props.isCaller)}a.prototype.componentDidMount=function(){__p&&__p();b("RTCP2PCallWindowHandler").init(window);document.documentElement!=null&&b("CSS").addClass(document.documentElement,"_2ujx");this.$2.logCallAction(this.$5(),this.$6(),b("FBRTCLogger").CallAction.POPUP_OPENED);window.addEventListener("resize",this.$7);b("RTCCallInitUtils").initializeCallSummary({peerID:this.$5(),callID:String(this.$6()),isCaller:this.props.isCaller,isAudio:this.props.isInitiallyAudioCall,protocol:b("FBRTCConstants").SignalingProtocol.P2P});this.props.protocolHandler.init(this.$5(),this.$6());var a=[this.props.localUser.FBID,this.props.remoteUserFBID];b("RTCCallInitUtils").initializeRTCUsers(a,function(){this.$1=window.setTimeout(function(){this.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("state",a.state||b("RTCUserMediaRequestState").PENDING)}})}.bind(this),2e3),this.$8().then(function(a){window.clearTimeout(this.$1),b("RTCCallActions").addLocalStream(a),this.$9()}.bind(this))["catch"](m)}.bind(this))};a.prototype.$5=function(){return this.props.remoteUserFBID};a.prototype.$6=function(){return Number(this.props.conferenceName)};a.prototype.$10=function(){return b("RTCP2PProtocolHandler").initStream(this.props.initializeVideo)};a.prototype.$11=function(){var a=this.props.isCaller?l:k;return b("RTWebGetUserMediaWithRetryOnPermissionChange").gen(a,function(){return this.$10()}.bind(this),function(a){this.setState(function(c){c=c.userMediaRequest;return{userMediaRequest:c.set("error",a).set("state",b("RTCUserMediaRequestState").REJECTED)}})}.bind(this))};a.prototype.$8=function(){__p&&__p();b("RTCCallStore").mutateCallSummary(function(a){return a.onMediaRequested()});var a=b("RTWebClientFeatureGating").waitForMediaPermission();return(a?this.$11():this.$10()).then(function(a){__p&&__p();var c=!this.props.isInitiallyAudioCall,d=a.getVideoTracks().length>0;if(c&&!d){b("RTCCallStore").mutateCallSummary(function(a){return a.onFellbackToAudio()});c=this.props.conferenceName;d=b("RTWebCollabClientFeatureGating").showPreCallSetup(this.props.isCaller);!d&&this.props.initializeVideo&&b("RTCUserMediaErrorDialogController").showMediaErrorDialog(!1,c)}this.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("state",b("RTCUserMediaRequestState").FULFILLED)}});b("RTCCallStore").mutateCallSummary(function(a){a.onMediaSucceeded()});b("RTCMediaDevices").enumerateDevices().then(function(c){b("RTCCallStore").mutateCallSummary(function(d){b("FBRTCStatsHelpers").logCapabilities(d,a,c)})})["catch"](m);return a}.bind(this))["catch"](function(a){this.setState(function(c){c=c.userMediaRequest;return{userMediaRequest:c.set("error",a).set("state",b("RTCUserMediaRequestState").REJECTED)}});this.props.connectionStatus===b("RTCP2PConnectionStatus").INIT&&b("RTCCallStore").mutateCallSummary(function(c){return c.onCallEnded(b("FBRTCConstants").CallEndReason.CLIENT_ERROR,!1,!0,"MediaDenied: "+a.name+", "+a.constraint)});this.$12(a,b("CollabInitStreamTriggerType").USER_MEDIA_REQUEST);throw a}.bind(this))};a.prototype.$9=function(){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCP2PCallView_startCall"}),this.props.protocolHandler.fetchTURNCredentials().then(function(){n()?this.$13():this.$14()}.bind(this))["catch"](function(a){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCP2PCallView_startCall_start_call_failed"})})};a.prototype.$14=function(){var a=!1;b("FBRTCMessageListener").setParentWindowStartCallHandler(function(b){a=!0,this.props.protocolHandler.startCall(void 0,b)}.bind(this));b("FBRTCMessageListener").init(!0,this.$5());window.setTimeout(function(){a||(b("FBRTCMessageListener").setParentWindowStartCallHandler(null),b("RTCCallActions").waitForUserInput())},1500)};a.prototype.$13=function(){b("FBRTCMessageListener").init(!0,this.$5()),this.props.protocolHandler.startCall("mweb_p2p_call",null)};a.prototype.$12=function(a,c){this.$15(b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,JSON.stringify({error:a.name,constraint:a.constraint,trigger:c}))};a.prototype.$15=function(a,c){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(a,{peerID:this.props.remoteUserFBID,callID:this.$6(),eventDetails:c})}.bind(this),"RTCP2PCallView.react")};a.prototype.render=function(){var a=!b("RTCCallStore").hasRemoteVideo();if(n()){var c=this.props,d=c.localUser,e=c.conferenceState,f=c.protocolHandler;c=c.remoteUser;c=c!=null?b("immutable").List([c]):null;return b("React").createElement("div",{className:"_38jq _li"+(this.props.conferenceState===b("RTCConferenceState").TERMINATED?" _17cj":"")},b("React").createElement(b("RTCAppView.react"),{isAudioCall:a},b("React").createElement(b("RTWebMobileCallView.react"),{conferenceState:e,connectedRemoteUsersSize:1,hasVideoInput:!0,isAudioCall:a,isP2P:!0,layout:"DOMINANT_SPEAKER",localUser:d,protocolHandler:f,remoteUsers:c})))}else return b("React").createElement(b("RTCChatViewWrapper.react"),{callerID:this.props.localUser.FBID,chatWindowVisible:this.props.chatWindowVisible,threadID:b("MercuryIDs").getThreadIDFromUserID(this.$5())},b("React").createElement("div",null,b("React").createElement(b("RTCP2PAppViewContainer.react"),{allowsMWEscalation:this.props.allowsMWEscalation,callID:this.$6().toString(),conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,connection:this.props.connection,initializeVideo:this.props.initializeVideo,localUser:this.props.localUser,remoteUser:this.props.remoteUser,remoteUserFBID:this.$5(),shouldHideCloseButton:!this.props.nonce||this.isParentWindow(),userMediaRequest:this.state.userMediaRequest}),b("React").createElement(b("MessengerBugNub.react"),{isBetaEnabled:this.props.isBetaEnabled,unixName:this.props.unixName}),this.props.children))};a.prototype.componentDidUpdate=function(a){__p&&__p();if(a.userSettings.editing&&!this.props.userSettings.editing){var c=this.props.userSettings,d=c.audioInput;c=c.videoInput;(a.userSettings.audioInput!==d||a.userSettings.videoInput!==c)&&b("RTCP2PProtocolHandler").initStream(!this.props.isAudioCall,d,c).then(function(a){return b("RTCP2PProtocolHandler").replaceLocalStream(a,!0)})["catch"](function(a){return this.$12(a,b("CollabInitStreamTriggerType").USER_SETTINGS_CHANGED)}.bind(this))}this.props.conferenceState!==a.conferenceState&&this.$2.logToConsole('UI: state change - from "'+a.conferenceState+'" to "'+this.props.conferenceState+'"');this.state.userMediaRequest.state===b("RTCUserMediaRequestState").PENDING&&this.props.connectionStatus===b("RTCP2PConnectionStatus").INIT&&b("RTCCallStore").mutateCallSummary(function(a){return a.onCallEnded(b("FBRTCConstants").CallEndReason.CLIENT_ERROR,!1,!0,"MediaPending")})};a.prototype.componentWillUnmount=function(){window.clearTimeout(this.$1),document.documentElement!=null&&b("CSS").removeClass(document.documentElement,"_2ujx"),window.removeEventListener("resize",this.$7)};a.prototype.isParentWindow=function(){return!window.opener};function m(a){}function n(){return b("FBRTCSupport").isMobileDevice()&&b("RTWebClientFeatureGating").canCallMWeb()}e.exports=a}),null);
__d("RTCP2PLoggerStore",["Bootloader","CollabCallMessengerBrowserEventEnum","FBRTCConfig","FBRTCLogger","FluxReduceStore","RTCAppDispatcher","RTCCallActionTypes","RTCCallStore","RTCUserSettingsActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){__p&&__p();var d=b("RTCCallStore").getState(),e=d.remoteUsers;d=d.callInfo;if(!e.count())return a;var f=b("FBRTCLogger").getInstance();e=e.first().FBID;switch(c.type){case b("RTCCallActionTypes").AUDIO_MUTED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_MUTE,!0);break;case b("RTCCallActionTypes").AUDIO_UNMUTED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_MUTE,!1);break;case b("RTCCallActionTypes").VIDEO_MUTED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_VIDEO_ON,!1);break;case b("RTCCallActionTypes").VIDEO_UNMUTED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_VIDEO_ON,!0);break;case b("RTCCallActionTypes").SELF_VIEW_COLLAPSED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_SELF_VIEW_ON,!1);break;case b("RTCCallActionTypes").SELF_VIEW_UNCOLLAPSED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_SELF_VIEW_ON,!0);break;case b("RTCCallActionTypes").ADD_LOCAL_STREAM:this.$RTCP2PLoggerStore1(b("CollabCallMessengerBrowserEventEnum").LOCAL_STREAM_SET,c.stream,e,Number(d.conferenceName));break;case b("RTCUserSettingsActionTypes").USER_SETTINGS_SAVE:case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_INPUT:case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_OUTPUT:case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_VIDEO_INPUT:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.USER_SETTINGS_CHANGED),this.$RTCP2PLoggerStore1(b("CollabCallMessengerBrowserEventEnum").USER_SETTINGS_CHANGED,c,e,Number(d.conferenceName))}return a};a.prototype.$RTCP2PLoggerStore1=function(a,b,c,d){h(function(e){return e.log(a,{peerID:c,callID:d,eventDetails:b})})};function a(){g.apply(this,arguments)}a.__moduleID=e.id;function h(a){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],a,"RTCP2PLoggerStore")}e.exports=new a(b("RTCAppDispatcher"))}),null);
__d("RTWebFluxDebugger",["FluxDebugUtils","WebStorage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("WebStorage").getLocalStorage(),h=!!(g&&g.getItem("__fluxDebug")==="1"),i=new Map(),j;function a(a,b){Object.keys(b).forEach(function(a){i.set(a,b[a])}),j&&r(),j={dispatcher:a,originalDispatch:a.dispatch,patchedDispatch:null},h&&q()}function k(a){return a&&typeof a.toJS==="function"?a.toJS():a}function c(){__p&&__p();var a={};for(var b=i.entries(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];a[f]=k(e.getState())}return a}function l(a,b,c){__p&&__p();var d=Date.now(),e=Array.from(i.entries()).map(function(a){var b=a[0];a=a[1];return{name:b,stateBefore:a.getState(),stateAfter:null}});b.call(a,c);if(!h)return;b=Date.now()-d;e=e.map(function(a,b){b=i.get(a.name);return b!=null?babelHelpers["extends"]({},a,{stateAfter:b.getState()}):null}).filter(Boolean);a=c.type;d=babelHelpers.objectWithoutPropertiesLoose(c,["type"]);console.groupCollapsed("Flux:",a);try{m(e)}finally{console.groupEnd()}}function m(a){a.filter(function(a){return a.stateBefore!==a.stateAfter}).forEach(function(a){o(a.name,function(){var c=k(a.stateBefore),d=k(a.stateAfter);c&&d&&b("FluxDebugUtils").diff(c,d).forEach(n)})})}function n(a){var b=a.path.join(".");switch(a.op){case"add":break;case"update":break;case"delete":break}}function o(a,b){p(a,function(){console.group(a),b()})}function p(a,b){try{b()}finally{console.groupEnd()}}function q(){if(!j)return;j.patchedDispatch&&r();j.patchedDispatch=j.dispatcher.dispatch=l.bind(null,j.dispatcher,j.dispatcher.dispatch)}function r(){if(!j||!j.patchedDispatch)return;j.dispatcher.dispatch=j.originalDispatch;j.patchedDispatch=null}window.__fluxDebugOn=function(){h=!0,g&&g.setItem("__fluxDebug","1"),q()};window.__fluxDebugOff=function(){h=!1,g&&g.setItem("__fluxDebug","0"),r()};window.__fluxDump=function(){__p&&__p();var a=function(){__p&&__p();if(c){if(d>=b.length)return"break";e=b[d++]}else{d=b.next();if(d.done)return"break";e=d.value}var a=e,f=a[0];a=a[1];o(f,function(){return!1})};for(var b=i,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f=a();if(f==="break")break}};window.__fluxDumpState=c;e.exports={attach:a,fluxDumpState:c}}),null);
__d("RobotRTCOneVCLazyload.react",["CurrentUser","JSResource","React","RoboticsPermission","RoboticsRTCMeeting","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(h,null))};var g=b("lazyLoadComponent")(b("JSResource")("RobotRTCOneVCAutoAnswer.react").__setRef("RobotRTCOneVCLazyload.react")),h=function(){var a=b("RoboticsRTCMeeting").robot[b("CurrentUser").getID()];return!b("RoboticsPermission")||!b("RoboticsPermission").is_authorized_robot||!a?null:b("React").createElement(g,null)};e.exports=a}),null);
__d("RTCP2PCallContainer.react",["BootloadOnRender.react","ChannelManager","FBRTCConfig","FluxContainer","JSResource","LazyComponent.react","React","RobotRTCOneVCLazyload.react","RTCAppData","RTCAppDispatcher","RTCCallActions","RTCCallNUXStore","RTCCallStore","RTCCallType","RTCCoExperienceStore","RTCGroupCallEscalationStore","RTCMediaDevicesStore","RTCOneVCActions","RTCOneVCStore","RTCP2PCallActions","RTCP2PCallEscalationStore","RTCP2PCallStore","RTCP2PCallView.react","RTCP2PLoggerStore","RTCUserSettingsStore","RTWebFluxDebugger","RTWebLoggingCallType","RTWebLoggingSurface","RTWebUserActionLogger","dangerouslyBypassDispatchError","generateRTCCallID","objectValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("generateRTCCallID")().toString(),i={RTCCallStore:b("RTCCallStore"),RTCCoExperienceStore:b("RTCCoExperienceStore"),RTCP2PCallStore:b("RTCP2PCallStore"),RTCUserSettingsStore:b("RTCUserSettingsStore")},j=babelHelpers["extends"]({},i,{RTCCallStore:b("RTCCallStore"),RTCCoExperienceStore:b("RTCCoExperienceStore"),RTCP2PCallStore:b("RTCP2PCallStore"),RTCUserSettingsStore:b("RTCUserSettingsStore"),RTCGroupCallEscalationStore:b("RTCGroupCallEscalationStore"),RTCMediaDevicesStore:b("RTCMediaDevicesStore"),RTCP2PCallEscalationStore:b("RTCP2PCallEscalationStore"),RTCCallNUXStore:b("RTCCallNUXStore"),RTCP2PLoggerStore:b("RTCP2PLoggerStore"),RTCOneVCStore:b("RTCOneVCStore")});c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;a.getStores=function(){return b("objectValues")(i)};a.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo,d=c.conferenceState;c=c.conferenceName;var e=a.connections,f=a.localUser;a=a.remoteUsers;var g=b("RTCCoExperienceStore").getState();g=g.chatWindowVisible;var h=b("RTCP2PCallStore").getState(),i=h.callType,j=h.protocolHandler;h=h.connectionStatus;return{chatWindowVisible:g,conferenceName:c,conferenceState:d,connection:e.first(),connectionStatus:h,isAudioCall:i===b("RTCCallType").AUDIO_ONLY,localUser:f,protocolHandler:j,remoteUser:a.first(),userSettings:b("RTCUserSettingsStore").getState()}};function a(a){g.constructor.call(this,a),b("ChannelManager").startChannelManagerForApp(b("RTCAppData").getChannelManagerAppName()),b("RTCAppDispatcher").explicitlyRegisterStoresInMap(j),b("RTWebFluxDebugger").attach(b("RTCAppDispatcher"),j),b("RTCP2PCallActions").setCallType(this.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO),a.meetingID!=null&&b("RTCOneVCActions").setMeetingID(a.meetingID),a.meetingPassword!=null&&b("RTCOneVCActions").setMeetingPassword(a.meetingPassword),b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCP2PCallContainer_created",callID:this.$1(),callType:b("RTWebLoggingCallType").P2P,isCaller:this.props.isCaller,mediaType:b("RTWebUserActionLogger").getMediaType(this.props.isInitiallyAudioCall)})}a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({surface:b("RTWebLoggingSurface").CALL_CONTAINER,conferenceState:this.state.conferenceState})};a.prototype.componentDidUpdate=function(a,c){var d=this.state.remoteUser,e=this.props.roomLocation;if(b("FBRTCConfig").isVCEndpointCall()&&d!=null&&d.getRoomLocation()==null&&e!=null){a=b("RTCCallStore").getState();var f=a.remoteUsers;b("dangerouslyBypassDispatchError")(function(){return b("RTCCallActions").updateRemoteUsers(f["delete"](d).add(d.setRoomLocation(e)))})}};a.prototype.$1=function(){return this.state&&this.state.conferenceName||this.props.conferenceName||h};a.prototype.render=function(){var a=this.props;a.conferenceName;a.roomLocation;a.meetingID;a.meetingPassword;a=babelHelpers.objectWithoutPropertiesLoose(a,["conferenceName","roomLocation","meetingID","meetingPassword"]);return b("React").createElement(b("RTCP2PCallView.react"),babelHelpers["extends"]({},a,this.state,{conferenceName:this.$1(),initializeVideo:this.props.initializeVideo}),b("React").createElement(k,null),b("React").createElement(b("RobotRTCOneVCLazyload.react"),null))};var k=function(){return!b("FBRTCConfig").isVCEndpointCall()?null:b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),null),loader:b("JSResource")("RTCCollabActionLoggerBootloader.react").__setRef("RTCP2PCallContainer.react"),placeholder:b("React").createElement("div",null)})};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCCallContainer.react",["PageHooks","FBRTCConstants","FBRTCGroupCallStore","FBRTCMWProtocolStore","FluxContainer","RTCCallNotificationContainer.react","RTCCallNotificationStore","RTCProxyUserStore","immutable","JSResource","lazyLoadComponent","MessengerBugNub.react","React","RoboticsPermission","RTCGroupCallView.react","RTCP2PCallContainer.react","RTCGroupCallEscalationStore","RTCP2PCallEscalationStore","RTCUserMediaRequest","RTCUserMediaRequestState","RTCAppDispatcher","RTCCallActions","RTCCallStore","RTCCallType","RTCCoExperienceStore","RTCMediaDevicesStore","RTCP2PCallActions","RTCCallNUXStore","RTCP2PCallStore","RTCP2PLoggerStore","RTCUserSettingsStore","generateRTCCallID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("PageHooks");var h=b("FBRTCConstants").SignalingProtocol,i=b("lazyLoadComponent")(b("JSResource")("RobotRTCCallStoreBootloader.react").__setRef("RTCCallContainer.react"));a=babelHelpers.inherits(j,b("React").PureComponent);g=a&&a.prototype;j.getStores=function(){return[b("FBRTCGroupCallStore"),b("RTCCallStore"),b("RTCGroupCallEscalationStore")]};j.calculateState=function(){var a=b("RTCGroupCallEscalationStore").getState();a=a.readyToTransition;var c=b("RTCCallStore").getState(),d=c.callInfo,e=c.connections;c=c.localUser;var f=b("FBRTCGroupCallStore").getState(),g=f.layout;f=f.participants;var h=b("RTCCallStore").getSortedRemoteUsers();return{conferenceState:d.conferenceState,connection:e.first(),layout:g,localUser:c,participants:f,remoteUsers:h,serverInfoData:d.serverInfoData,useGroupCallView:a}};function j(a){g.constructor.call(this,a),this.state=babelHelpers["extends"]({},j.calculateState()),document.documentElement&&(document.documentElement.style.overflow="hidden"),b("RTCAppDispatcher").explicitlyRegisterStores([b("FBRTCGroupCallStore"),b("RTCCallNotificationStore"),b("RTCCallStore"),b("RTCP2PCallEscalationStore"),b("RTCCallNUXStore"),b("RTCP2PCallStore"),b("RTCCoExperienceStore"),b("RTCP2PLoggerStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore"),b("RTCGroupCallEscalationStore"),b("FBRTCMWProtocolStore"),b("RTCProxyUserStore")]),this.$1=this.props.conferenceName!=null?this.props.conferenceName:b("generateRTCCallID")().toString(),b("RTCCallActions").initialize({protocol:h.P2P,conferenceName:this.$1,serverInfoData:null,callID:this.$1}),b("RTCP2PCallActions").setCallType(this.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO)}j.prototype.render=function(){__p&&__p();var a=null;if(this.props.allowsMWEscalation&&this.state.useGroupCallView){var c=b("RTCP2PCallStore").getState();c=c.escalationConferenceName;var d=!b("RTCCallStore").hasRemoteVideo(),e=new(b("RTCUserMediaRequest"))();e=e.set("state",b("RTCUserMediaRequestState").FULFILLED);a=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCGroupCallView.react"),{chatWindowVisible:!1,conferenceName:c||"",conferenceState:this.state.conferenceState,connection:this.state.connection,endCallReason:null,isAudioCall:d,layout:this.state.layout,localUser:this.state.localUser,onStartCallClick:this.$2,participants:this.state.participants,remoteUsers:this.state.remoteUsers,serverInfoData:this.state.serverInfoData,thread:null,userMediaRequest:e}),b("React").createElement(b("MessengerBugNub.react"),{isBetaEnabled:this.props.isBetaEnabled,unixName:this.props.unixName}))}else a=b("React").createElement(b("RTCP2PCallContainer.react"),{allowsMWEscalation:this.props.allowsMWEscalation,conferenceName:this.$1,initializeVideo:this.props.initializeVideo,isBetaEnabled:this.props.isBetaEnabled,isCaller:this.props.isCaller,isInitiallyAudioCall:this.props.isInitiallyAudioCall,nonce:this.props.nonce,remoteUserFBID:this.props.remoteUserFBID,unixName:this.props.unixName});return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallNotificationContainer.react"),{conferenceState:this.state.conferenceState}),b("React").createElement(k,null),a)};j.prototype.$2=function(a,b,c){};var k=function(){return!b("RoboticsPermission").is_authorized_robot?null:b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(i,null))};e.exports=b("FluxContainer").create(j)}),null);