if (self.CavalryLogger) { CavalryLogger.start_js(["m8JjL"]); }

__d("FBStoriesInteractiveLoggingHelper",["MarauderLogger"],(function(a,b,c,d,e,f){"use strict";var g="direct_actions";a={logOpenStoryMediaPermalink:function(a){b("MarauderLogger").log("open_story_media_permalink",g,a)},logStoryInteractiveItemClick:function(a){b("MarauderLogger").log("story_interactive_item_click",g,babelHelpers["extends"]({},a,{action_detail:"click"}))},logStoryInteractiveItemRender:function(a){b("MarauderLogger").log("story_interactive_item_rendering",g,babelHelpers["extends"]({},a))}};e.exports=a}),null);
__d("CameraPostAppAttribution.react",["cx","FBStoriesInteractiveLoggingHelper","Image.react","Link.react","React","TextWithEntities.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){__p&&__p();if(c.entity&&c.entity.url!==void 0&&c.entity.url!==null)return b("React").createElement(b("Link.react"),{href:c.entity,onClick:function(){return this.linkClicked(c.entity.url)}.bind(this),onMouseUp:function(a){return this.stopPropagation(a)}.bind(this),onMouseDown:function(a){return this.stopPropagation(a)}.bind(this),target:"_blank"},a);if(c.entity&&c.entity.url===void 0)return b("React").createElement(b("Link.react"),{href:c.entity,onClick:function(){return this.linkClicked(c.entity)}.bind(this),onMouseUp:function(a){return this.stopPropagation(a)}.bind(this),onMouseDown:function(a){return this.stopPropagation(a)}.bind(this),target:"_blank"},a);return c.entity_with_image?b("React").createElement(b("Image.react"),{className:"_4qqb",src:c.entity_with_image.image.uri,width:c.entity_with_image.image.width/c.entity_with_image.image.scale,height:c.entity_with_image.image.height/c.entity_with_image.image.scale}):a}.bind(this),c}a.prototype.linkClicked=function(a){b("FBStoriesInteractiveLoggingHelper").logOpenStoryMediaPermalink({action_detail:"story_link_attribution_click",link_url:a,thread_id:this.props.currentThreadID})};a.prototype.stopPropagation=function(a){this.props.stopPropagationOnClick&&a.stopPropagation()};a.prototype.render=function(){return b("React").createElement(b("TextWithEntities.react"),{className:"_4qqc",imageRanges:this.props.postStoryAttribution.image_ranges,interpolator:this.$1,ranges:this.props.postStoryAttribution.ranges,text:this.props.postStoryAttribution.text})};e.exports=a}),null);
__d("CameraEventGroupPostOwnerInfo.react",["cx","fbt","CameraPostAppAttribution.react","ProfileLink.react","React","Timestamp.react","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.bucketOwnerName,d=a.threadOwnerName,e=a.time,f=a.bucketOwnerId,g=a.threadOwnerId,i=a.threadID,j=a.originalPostStoryAttribution,k=b("React").createElement(b("Timestamp.react"),{autoUpdate:!0,time:e,text:b("formatDate")(e,"M j, Y",{utc:!0})}),l=h._("by {story_poster}",[h._param("story_poster",d)]);l=g?b("React").createElement(b("ProfileLink.react"),{className:"_o-l",uid:g,target:"_blank"},l):l;a=function(){return j?b("React").createElement("div",{className:"_v5o"},k," \u2022 ",l,"\xa0\u2022\xa0",b("React").createElement(b("CameraPostAppAttribution.react"),{currentThreadID:i,postStoryAttribution:j})):b("React").createElement("div",{className:"_v5o"},k," \u2022 ",l)};return b("React").createElement("div",{className:"_60x1"},b("React").createElement("div",null,b("React").createElement(b("ProfileLink.react"),{uid:f,target:"_blank",className:"_v5n"},c)),a())};e.exports=a}),null);
__d("CameraEventGroupPostOwnerPic.react",["cx","CameraPostTypes","Image.react","ProfileLink.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.bucketProfilePicture,d=a.threadProfilePicture,e=a.cameraPostType,f=a.bucketOwnerId;a=a.threadOwnerId;if(!d)return null;c=(c=c)!=null?c.uri:c;var g=null;c?g=b("React").createElement(b("Image.react"),{src:c,className:"_1___"}):g=b("React").createElement("div",{className:(e===b("CameraPostTypes").EVENT_STORY?"_24ex":"")+(e===b("CameraPostTypes").GROUP_STORY?" _64ag":"")+" _1___"});c=b("React").createElement(b("Image.react"),{src:d.uri,className:"_24ey"});return b("React").createElement("span",null,b("React").createElement(b("ProfileLink.react"),{uid:f,target:"_blank"},g),a?b("React").createElement(b("ProfileLink.react"),{uid:a,target:"_blank"},c):c)};e.exports=a}),null);
__d("ColorUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new RegExp("^[#]{0,1}([\\w]{1,2})?([\\w]{1,2})([\\w]{1,2})([\\w]{1,2})$");a={hexARGBToCSSRGBA:function(a){a=a.match(g);if(a==null)return null;a=a.slice(1).map(function(a){return parseInt(a.length==1?a+a:a,16)});return a.length==4?"rgba("+a[1]+","+a[2]+","+a[3]+","+a[0]+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"},hexRGBAToCSSRGBA:function(a){a=a.match(g);if(a==null)return null;a=a.slice(1).map(function(a){return parseInt(a.length==1?a+a:a,16)});return a.length==4?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"}};e.exports=a}),null);
__d("CameraPostDefaultBackground.react",["cx","ColorUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.componentDidMount=function(){var a,c,d;d=(d=this.props.data)!=null?(d=d.portrait_image)!=null?d.uri:d:d;c=(c=this.props.data)!=null?(c=c.gradient)!=null?c.css:c:c;a=(a=this.props.data)!=null?a.color:a;a=a?b("ColorUtils").hexARGBToCSSRGBA(a):"";this.$1&&(a&&(this.$1.style.backgroundColor=a),d?this.$1.style.backgroundImage="url('"+d+"')":c&&(this.$1.style.backgroundImage=c))};a.prototype.render=function(){return b("React").createElement("div",{className:"_1ugq",ref:function(a){return this.$1=a}.bind(this)})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CameraPostDeletedToast.react",["ix","cx","fbt","Image.react","React","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){a=a.visible;var c=b("React").createElement(b("Image.react"),{src:g("491198")});return!a?b("React").createElement("div",{style:{display:"none"}},c):b("React").createElement("div",{className:"_618_"},b("React").createElement("div",{className:"_j71"},c),b("React").createElement(b("XUIText.react"),{className:"_4b4i"},i._("Deleted")))};e.exports=a}),null);
__d("FBStoryTextWithEntitiesAndDelightsUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getMergedAndConvertTextWithEntitiesAndDelightsRanges:function(a,b){if(a&&a.length>0)var c=a.map(function(a){return{offset:a.offset,length:a.length,entity:{__typename:a.entity.__typename,url:a.entity.url}}});if(b&&b.length>0)var d=b.map(function(a){return{offset:a.offset,length:a.length,campaign:{id:a.campaign.id},entity:{__typename:"",url:""}}});return[].concat(c,d).filter(Boolean)}};e.exports=a}),null);
__d("FBStoriesTextWithEntities.react",["BaseTextWithEntities.react","FBStoryTextWithEntitiesAndDelightsUtils","Link.react","React","ShimButton.react","TextWithEmoticons.react","Tooltip.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){return a?a.filter(function(a){a=(a=a)!=null?(a=a.entity)!=null?a.__typename:a:a;return a!=="ExternalUrl"}):null}c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var c=a.trim();return b("React").createElement(b("TextWithEmoticons.react"),{isWhitespace:c.length===0,text:a,renderEmoticons:!0,renderEmoji:!0,size:this.props.size})}.bind(this),this.$2=function(a,c){__p&&__p();var d;d=(d=c)!=null?(d=d.campaign)!=null?d.id:d:d;if(d&&this.props.delightRangesRenderer)return this.props.delightRangesRenderer&&this.props.delightRangesRenderer(a,c);else if(c.entity&&c.entity.url!==void 0&&c.entity.url!==null)return b("React").createElement(b("Link.react"),{onClick:this.props.onLinkClick,onMouseUp:function(a){return a.stopPropagation()},className:this.props.linkClassName,href:c.entity,target:"_blank"},a);else if(c.entity&&c.entity.url===void 0)return b("React").createElement(b("Link.react"),{onMouseUp:function(a){return a.stopPropagation()},className:this.props.linkClassName,href:c.entity,target:"_blank"},a);else if(c.all_entities&&this.props.openWithSidePanel){d=c.all_entities.edges.map(function(a){return b("React").createElement("div",{key:a.node.id},a.node.name)});return b("React").createElement(b("Tooltip.react"),{tooltip:b("React").createElement("div",null,d)},b("React").createElement(b("ShimButton.react"),{className:this.props.linkClassName,form:"link",onClick:this.props.openWithSidePanel,onMouseUp:function(a){return a.stopPropagation()}},a))}else return a}.bind(this),c}a.prototype.render=function(){var a=h(this.props.ranges);a=b("FBStoryTextWithEntitiesAndDelightsUtils").getMergedAndConvertTextWithEntitiesAndDelightsRanges(a,this.props.delightRanges);return b("React").createElement(b("BaseTextWithEntities.react"),{textRenderer:this.$1,rangeRenderer:this.$2,aggregatedRanges:this.props.aggregatedRanges,ranges:a,text:this.props.text})};e.exports=a}),null);
__d("TextDelightInStoriesGating",["QE2Logger","TextDelightConfig"],(function(a,b,c,d,e,f){"use strict";var g=b("TextDelightConfig").storyOptions;a={isEnabled:function(){return g.enabled},isEnabledAndLogExposure:function(){b("QE2Logger").logExposureForUser(g.universe);return this.isEnabled()}};e.exports=a}),null);
__d("CameraPostDelightedTextWithEntitiesComponent.react",["cx","FBStoriesTextWithEntities.react","React","TextDelightInStoriesGating","TextDelightRange.react","TextDelightSurface","TextWithEmoticons.react","getSquiggleImgURL","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a,c,d){return b("React").createElement(b("TextDelightRange.react"),{campaignID:c,delightStyles:[{style:"background-image",value:"url("+d+")"}],surface:b("TextDelightSurface").STORY},a)}function j(a,b){__p&&__p();return function(c,d,e){__p&&__p();var f=0;for(var g=0;g<a.length;g++){var h=a[g];if(h.offset<f)continue;e(c.substr(f,h.offset-f));d(i(c.substr(h.offset,h.length),h.campaign.id,b));f=h.offset+h.length}f<c.length&&e(c.substr(f))}}var k=b("memoizeWithArgs")(function(a,c,d){__p&&__p();var e=new Map();if(a&&a.length>0)for(var a=a,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;var i=b("getSquiggleImgURL")(c,d),k={campaign:{id:h.campaign.id},length:h.length,offset:0};k=j([k],i);e.set(h.offset,[k])}return e},function(a,b,c){return JSON.stringify(a)+(b+"."+c.toString())});c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=new Map(),this.$2=function(a,c){var d=a.trim();return b("React").createElement("span",{className:"_6st5"},b("React").createElement(b("TextWithEmoticons.react"),{isWhitespace:d.length===0,text:a,renderEmoticons:!0,renderEmoji:!0,size:this.props.size,decorators:this.$1.get(c.offset)}))}.bind(this),c}a.prototype.shouldComponentUpdate=function(a){return a.text!==this.props.text||a.size!==this.props.size};a.prototype.render=function(){b("TextDelightInStoriesGating").isEnabled()&&this.props.delightRanges&&(this.$1=k(this.props.delightRanges,this.props.textColor||"",this.props.isSatp));return b("React").createElement(b("FBStoriesTextWithEntities.react"),{delightRanges:this.props.delightRanges,delightRangesRenderer:this.$2,linkClassName:"_76_l",onLinkClick:this.props.onLinkClick,ranges:this.props.messageRanges,size:this.props.size,text:this.props.text})};a.defaultProps={size:16,textColor:"rgba(255,255,255)",delightRanges:[],messageRanges:[]};e.exports=a}),null);
__d("StoryFooterMetadataFromComposerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MINUTIAE_ONLY:"minutiae_only",LOCATION_ONLY:"location_only",TAGGING_ONLY:"tagging_only",COMPLEX_SOCIAL_SENTENCE:"complex_social_sentence",NONE:"none"})}),null);
__d("FBStoryMetadataUtils",["StoryFooterMetadataFromComposerType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isMetadataOnly:function(a,b,c,d,e,f){return!e&&!d&&!(f&&f.url)&&this.hasMetadata(a,b,c)},hasMetadata:function(a,b,c){return this.locationExists(a)||this.minutiaeExists(b)||this.withTagsExists(c)},minutiaeExists:function(a){return!!(a&&a.edges&&a.edges.length>0)},withTagsExists:function(a){return!!(a&&a.edges&&a.edges.length>0)},locationExists:function(a){return!!(a&&a.contextual_name)},getStoryFooterMetadataType:function(a,c,d,e){__p&&__p();d=this.minutiaeExists(d);e=this.withTagsExists(e);c=this.locationExists(c);if(a&&(e&&c||c&&d||e&&d))return b("StoryFooterMetadataFromComposerType").COMPLEX_SOCIAL_SENTENCE;if(c)return b("StoryFooterMetadataFromComposerType").LOCATION_ONLY;if(e)return b("StoryFooterMetadataFromComposerType").TAGGING_ONLY;return d?b("StoryFooterMetadataFromComposerType").MINUTIAE_ONLY:b("StoryFooterMetadataFromComposerType").NONE}};e.exports=a}),null);
__d("FBStoriesActivityIcon.react",["ix","cx","FBStoryMetadataUtils","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=b("FBStoryMetadataUtils").minutiaeExists(this.props.storyMetadata.inlineActivities),c=b("FBStoryMetadataUtils").locationExists(this.props.storyMetadata.explicitLocation),d=b("FBStoryMetadataUtils").withTagsExists(this.props.storyMetadata.withTags);if(a){a=(a=this.props.storyMetadata)!=null?(a=a.inlineActivities)!=null?a.edges:a:a;a=a&&a.length>0?a[0]:null;a=(a=a)!=null?(a=a.node)!=null?(a=a.taggable_activity_icon)!=null?a.small_image:a:a:a;return a?b("React").createElement(b("Image.react"),{className:"_6mw8",src:a}):null}else if(c)return b("React").createElement(b("Image.react"),{className:"_6mw8",src:g("492195")});else if(d)return b("React").createElement(b("Image.react"),{className:"_6mw8",src:g("492156")});return null};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesActivityDescription.react",["cx","FBStoriesActivityIcon.react","FBStoriesTextWithEntities.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a,c,d;d=(d=this.props.storyMetadata)!=null?d.activityDescription:d;c=(c=d)!=null?c.text:c;a=(a=d)!=null?a.aggregated_ranges:a;return!c?null:b("React").createElement("div",{className:b("joinClasses")("_1b6l",this.props.className)},this.props.displayIcon?b("React").createElement(b("FBStoriesActivityIcon.react"),{storyMetadata:this.props.storyMetadata}):null,b("React").createElement(b("FBStoriesTextWithEntities.react"),{aggregatedRanges:a,linkClassName:"_1b6i",onLinkClick:this.props.onLinkClick,openWithSidePanel:this.props.openWithSidePanel,ranges:(a=d)!=null?a.ranges:a,text:c}))};function a(){h.apply(this,arguments)}a.defaultProps={displayIcon:!0};e.exports=a}),null);
__d("FBStoriesMetadataRenderer.react",["cx","FBStoriesActivityDescription.react","FBStoriesInteractiveLoggingHelper","FBStoryMetadataUtils","React","StoryFooterMetadataFromComposerType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){this.props.onLinkClick(a),this.$5("location")}.bind(this),this.$2=function(a){this.props.onLinkClick(a),this.$5("tagged_people")}.bind(this),this.$4=function(a){this.props.onLinkClick(a),this.$5("multiple_items")}.bind(this),this.$3=function(a){this.props.onLinkClick(a),this.$5("activity")}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props.storyMetadata,c=b("FBStoryMetadataUtils").getStoryFooterMetadataType(a.activityDescription,a.explicitLocation,a.inlineActivities,a.withTags),d=null;switch(c){case b("StoryFooterMetadataFromComposerType").LOCATION_ONLY:d=this.$1;break;case b("StoryFooterMetadataFromComposerType").TAGGING_ONLY:d=this.$2;break;case b("StoryFooterMetadataFromComposerType").MINUTIAE_ONLY:d=this.$3;break;case b("StoryFooterMetadataFromComposerType").COMPLEX_SOCIAL_SENTENCE:d=this.$4;break}return d?b("React").createElement("div",{className:"_72rc"},b("React").createElement(b("FBStoriesActivityDescription.react"),{onLinkClick:d,storyMetadata:a,openWithSidePanel:this.props.openWithSidePanel,className:this.props.activityDescriptionClassName})):null};a.prototype.$5=function(a){this.props.storyMetadata&&this.props.storyMetadata.threadID&&b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({item_type:a,thread_id:this.props.storyMetadata.threadID})};e.exports=a}),null);
__d("FBStoriesFooterMetadataRenderer.react",["cx","FBStoriesMetadataRenderer.react","FBStoryMetadataUtils","React","StoryFooterMetadataFromComposerType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a=this.props.currentThreadData;if(a&&!a.isLive){var c=b("FBStoryMetadataUtils").getStoryFooterMetadataType(a.activityDescription,a.explicitLocation,a.inlineActivities,a.withTags);if(c===b("StoryFooterMetadataFromComposerType").NONE)return null;if(a.isPlainText||a.wwwTextFormatMetadata!==null)return null;var d=b("FBStoryMetadataUtils").isMetadataOnly(a.explicitLocation,a.inlineActivities,a.withTags,a.messageText,a.media,a.linkAttachment);return d&&c!==b("StoryFooterMetadataFromComposerType").COMPLEX_SOCIAL_SENTENCE?null:b("React").createElement(b("FBStoriesMetadataRenderer.react"),{storyMetadata:a,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick,activityDescriptionClassName:"_3frn"})}return null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CameraPostLongTextComponent.react",["ix","cx","fbt","FBStoriesFooterMetadataRenderer.react","FBStoriesInteractiveLoggingHelper","FBStoriesMetadataRenderer.react","Image.react","LineClamp.react","React","asset","cancelAnimationFrame","joinClasses","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.$2=null,this.$3=null,this.state={noOverflow:!1,isExpand:!1},this.$5=function(a){this.props.expandHandler(a),this.$8("read_more"),this.setState({isExpand:!0})}.bind(this),this.$7=function(a){this.$2&&(this.$2.scrollTop=0),this.$8("read_less"),this.props.truncateHandler(a),this.setState({isExpand:!1})}.bind(this),b}a.prototype.componentDidMount=function(){this.$3=b("requestAnimationFrame")(function(){var a=this.props,b=a.lines;a=a.lineHeight;var c=this.$1&&this.$1.scrollHeight||0;this.setState({noOverflow:c<=b*a});c>b*a&&(this.props.onTextOverflow&&this.props.onTextOverflow())}.bind(this)),b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemRender({thread_id:this.props.storyMetadata.threadID,item_type:this.props.mediaCaption?"caption":"text"})};a.prototype.$4=function(){var a={verticalAlign:"text-top",marginLeft:"8px"};a=this.props.mediaCaption?null:b("React").createElement(b("Image.react"),{src:g("533912"),style:a,onClick:this.$5});return b("React").createElement("a",{href:"#",onClick:this.$5,className:this.props.buttonClassName},i._("See more"),a)};a.prototype.$6=function(){var a={verticalAlign:"text-top",marginLeft:"8px"};a=this.props.mediaCaption?null:b("React").createElement(b("Image.react"),{src:g("661795"),style:a,onClick:this.$7});return b("React").createElement("a",{href:"#",onClick:this.$7,className:this.props.buttonClassName},i._("See less"),a)};a.prototype.$8=function(a){b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({thread_id:this.props.storyMetadata.threadID,item_type:this.props.mediaCaption?"caption":"text",button_type:a})};a.prototype.render=function(){var a=this.state.isExpand||this.state.noOverflow;return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:b("joinClasses")(this.props.rootClassName,this.state.isExpand?this.props.expandedRootClassName:null)},b("React").createElement("div",{className:this.props.boxClassName},b("React").createElement("div",{ref:function(a){return this.$2=a}.bind(this),className:this.props.textClassName},b("React").createElement("div",{className:"_6r8c",onClick:a?null:this.$5},b("React").createElement(b("LineClamp.react"),{lines:this.props.lines,lineHeight:this.props.lineHeight,fitHeightToShorterText:!0,className:(this.state.isExpand!==!0?"_6r8d":"")+(this.state.isExpand===!0?" _6r8e":"")},b("React").createElement("div",{className:"_6ria"},this.props.children)),a?null:this.$4()),b("React").createElement("div",{className:(this.state.isExpand!==!0?"_6r8f":"")+(this.state.isExpand===!0?" _6r8g":""),ref:function(a){return this.$1=a}.bind(this)},this.props.children),this.state.isExpand?this.$6():null,this.props.mediaCaption&&this.props.currentThreadData?b("React").createElement(b("FBStoriesFooterMetadataRenderer.react"),{currentThreadData:this.props.currentThreadData,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick}):b("React").createElement(b("FBStoriesMetadataRenderer.react"),{storyMetadata:this.props.storyMetadata,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick,activityDescriptionClassName:this.props.activityDescriptionClassName})))))};a.prototype.componentWillUnmount=function(){b("cancelAnimationFrame")(this.$3)};e.exports=a}),null);
__d("BlurredBackgroundImage.react",["cx","BackgroundImage.react","React","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){if(b("UserAgent").isBrowser("IE")&&this.props.fallbackSrc)return b("React").createElement(b("BackgroundImage.react"),{src:this.props.fallbackSrc,optimizeResizeSpeed:!0,backgroundSize:"cover",width:this.props.width,height:this.props.height,backgroundFocus:"50% 50%",loadingIndicatorStyle:"none",className:"_4kpl fallback"});return this.props.src?b("React").createElement(b("BackgroundImage.react"),{src:this.props.src,optimizeResizeSpeed:!0,backgroundSize:"cover",width:this.props.width,height:this.props.height,backgroundFocus:"50% 50%",loadingIndicatorStyle:"none",className:"_4kpl"}):null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CameraPostMediaGradientBackground.react",["cx","ColorUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a,c;c=(c=this.props.data)!=null?c.top_color:c;a=(a=this.props.data)!=null?a.bottom_color:a;if(c&&a){c=b("ColorUtils").hexRGBAToCSSRGBA(c);a=b("ColorUtils").hexRGBAToCSSRGBA(a);if(c&&a){c="linear-gradient("+c+","+a+")";return b("React").createElement("div",{className:"_1ugq",style:{background:c}})}}return null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBStoryMinutiaeImageRenderer.react",["cx","FBStoryMetadataUtils","Image.react","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c,d=a.inlineActivities,e=a.largeProfilePhoto;if(!b("FBStoryMetadataUtils").minutiaeExists(d))return null;c=(c=d)!=null?(c=c.edges)!=null?(c=c[0])!=null?(c=c.node)!=null?(c=c.taggable_activity_icon)!=null?(c=c.image)!=null?c.uri:c:c:c:c:c:c;if(e){var f;f=(f=d)!=null?(f=f.edges)!=null?(f=f[0])!=null?(f=f.node)!=null?(f=f.attachment_object)!=null?(f=f.profile_photo)!=null?(f=f.large_image)!=null?f.uri:f:f:f:f:f:f:f}else{var g;f=(g=d)!=null?(g=g.edges)!=null?(g=g[0])!=null?(g=g.node)!=null?(g=g.attachment_object)!=null?(g=g.profile_photo)!=null?(g=g.image)!=null?g.uri:g:g:g:g:g:g:g}d=(g=d)!=null?(g=g.edges)!=null?(g=g[0])!=null?(g=g.node)!=null?(g=g.attachment_object)!=null?g.url:g:g:g:g:g;g=null;f?g=f:c&&(g=c);if(!g)return null;c=b("React").createElement(b("Image.react"),{className:"_2pzb"+(f?" _2pzj":""),height:e&&f?288:56,src:g,width:e&&f?288:56});d&&(c=b("React").createElement(b("Link.react"),{href:d,target:"_blank",onClick:a.onLinkClick,onMouseUp:function(a){return a.stopPropagation()}},c));return c}e.exports=a}),null);
__d("CameraPostMinutiaeComponent.react",["cx","FBStoriesActivityDescription.react","FBStoriesInteractiveLoggingHelper","FBStoryMetadataUtils","FBStoryMinutiaeImageRenderer.react","Link.react","React","StoryFooterMetadataFromComposerType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){this.props.onLinkClick(a),b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({item_type:"activity",thread_id:this.props.threadID})}.bind(this),c}a.prototype.$1=function(){__p&&__p();var a,c=b("FBStoryMetadataUtils").getStoryFooterMetadataType(this.props.storyMetadata.activityDescription,this.props.storyMetadata.explicitLocation,this.props.storyMetadata.inlineActivities,this.props.storyMetadata.withTags);a=(a=this.props.storyMetadata.inlineActivities)!=null?(a=a.edges)!=null?(a=a[0])!=null?(a=a.node)!=null?(a=a.attachment_object)!=null?(a=a.profile_photo)!=null?(a=a.large_image)!=null?a.uri:a:a:a:a:a:a:a;if(c===b("StoryFooterMetadataFromComposerType").MINUTIAE_ONLY)return b("React").createElement(b("FBStoriesActivityDescription.react"),{onLinkClick:this.$2,storyMetadata:this.props.storyMetadata,openWithSidePanel:this.props.openWithSidePanel,displayIcon:!!a,className:"_3bkz _13da _13dc"});c=this.props.storyMetadata.inlineActivities&&this.props.storyMetadata.inlineActivities.edges&&this.props.storyMetadata.inlineActivities.edges.length>0?this.props.storyMetadata.inlineActivities.edges[0]:null;a=((a=c)!=null?(a=a.node)!=null?(a=a.attachment_object)!=null?a.name:a:a:a)||((a=c)!=null?(a=a.node)!=null?(a=a.object)!=null?a.name:a:a:a);c=(c=c)!=null?(c=c.node)!=null?(c=c.attachment_object)!=null?c.url:c:c:c;if(a){a=b("React").createElement("div",{className:"_3bkz _13da _13dc"},a);c&&(a=b("React").createElement(b("Link.react"),{className:"_1b6i",href:c,target:"_blank",onClick:this.$2},a));return a}return null};a.prototype.render=function(){return b("React").createElement("div",{className:"_32v7"},b("React").createElement("div",{className:"_32v8"},b("React").createElement(b("FBStoryMinutiaeImageRenderer.react"),{inlineActivities:this.props.storyMetadata.inlineActivities,largeProfilePhoto:!0,onLinkClick:this.$2}),this.$1()))};e.exports=a}),null);
__d("CameraPostMuteButton.react",["ix","cx","AbstractButton.react","Event","Image.react","Keys","React","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){a.preventDefault(),a.stopPropagation(),this.props.onMouseUp()}.bind(this),this.$3=function(a){a=b("Event").getKeyCode(a);switch(a){case b("Keys").SPACE:case b("Keys").RETURN:this.props.onMouseUp()}}.bind(this),c}a.prototype.$1=function(a){a.preventDefault(),a.stopPropagation()};a.prototype.render=function(){var a=g("115742"),c=g("115739");return b("React").createElement(b("AbstractButton.react"),{className:"_tqj",tabIndex:"0",onKeyUp:this.$3,onMouseDown:this.$1,onMouseUp:this.$2,image:b("React").createElement(b("Image.react"),{src:this.props.muted?a:c}),labelIsHidden:!0,label:this.props.muted?"Muted":"Unmuted"})};e.exports=a}),null);
__d("CameraPostSATPBackground.react",["cx","FBKeyframesProject","Keyframes.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$2=function(){var a,c;c=String((c=this.props.satpData)!=null?(c=c.textFormatMetadata)!=null?(c=c.portrait_keyframes_animation)!=null?c.animation_uri:c:c:c);if(c==null||!b("gkx")("678252"))return null;a=String((a=this.props.satpData)!=null?(a=a.textFormatMetadata)!=null?(a=a.portrait_keyframes_animation)!=null?a.id:a:a:a);return b("React").createElement(b("Keyframes.react"),{key:"keyframes",className:"_1ugq",projectName:b("FBKeyframesProject").AWESOME_TEXT_STORIES,assetID:a,source:c,height:this.props.height})};a.prototype.componentDidMount=function(){var a,b;b=(b=this.props.satpData)!=null?(b=b.textFormatMetadata)!=null?(b=b.portrait_background_image)!=null?b.uri:b:b:b;a=(a=this.props.satpData)!=null?(a=a.wwwTextFormatMetadata)!=null?a.body_style:a:a;this.$1&&(b?this.$1.style.backgroundImage="url('"+b+"')":this.$1.setAttribute("style",a||""))};a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_1ugq",ref:function(a){return this.$1=a}.bind(this)}),this.$2())};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CameraPostTextSATPLinkComponent.react",["ix","cssVar","cx","BackgroundImage.react","CameraPostDelightedTextWithEntitiesComponent.react","CameraPostLongTextComponent.react","ColorUtils","FBStoryMetadataUtils","Image.react","React","StoryFooterMetadataFromComposerType","VideoComponentWithLoopingPlayback.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerLoggerSource","XUISpinner.react","asset","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=24,l=80,m=1/1.91,n=600,o=315;function p(a,c,d){__p&&__p();if(a){d=(a=d)!=null?a.caption_font_color:a;if(d){a=b("ColorUtils").hexRGBAToCSSRGBA(d);if(a)return a}}else{a=(d=c)!=null?(d=d.wwwTextFormatMetadata)!=null?d.text_input_style:d:d;if(a!==null&&a!==void 0){c=a.match(/color:([^;]+);/);if(c)return c[1]}}return"#000000"}function q(a){return((a=a)!=null?(a=a.textFormatMetadata)!=null?(a=a.inspirations_custom_font_object)!=null?a.font_url:a:a:a)||""}function r(a){return((a=a)!=null?(a=a.textFormatMetadata)!=null?(a=a.inspirations_custom_font_object)!=null?a.font_postscript_name:a:a:a)||""}c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$3=function(){this.$2||(this.props.onFirstMediaLoaded(),this.$2=!0)}.bind(this),b}a.prototype.componentDidMount=function(){__p&&__p();var a=q(this.props.satpData),c=r(this.props.satpData);if(this.props.isSATP&&q&&r&&this.$1){var d=typeof document.fonts==="object"&&typeof FontFace==="function";if(a&&c&&d){d=new FontFace(c,"url("+a+")");b("promiseDone")(d.load(),function(a){window.document.fonts.add(a);a=c+", Helvetica, Arial, sans-serif";this.$1&&(this.$1.style.fontFamily=a,this.$1.style.visibility="visible")}.bind(this),function(a){this.$1&&(this.$1.style.visibility="visible")}.bind(this))}else this.$1.style.visibility="visible"}};a.prototype.render=function(){__p&&__p();var a,c,d=this.props.messageText.length>l,e=p(this.props.isLink,this.props.satpData,this.props.mediaBackgroundInfo),f=q(this.props.satpData),h=r(this.props.satpData);c=(c=this.props.linkAttachment)!=null?(c=c.animated_media)!=null?c.id:c:c;a=(a=this.props.linkAttachment)!=null?(a=a.animated_media)!=null?(a=a.animated_image)!=null?a.uri:a:a:a;var i=c||a,j=this.props.storyMetadata;j=b("FBStoryMetadataUtils").getStoryFooterMetadataType(j.activityDescription,j.explicitLocation,j.inlineActivities,j.withTags);var s=null;if(j===b("StoryFooterMetadataFromComposerType").NONE)if(!this.props.paused&&c){var t;t=(t=this.props.linkAttachment)!=null?(t=t.animated_media)!=null?t.is_looping:t:t;s=b("React").createElement(b("VideoDataContainer.react"),{videoID:c,renderLoading:function(){return b("React").createElement(b("XUISpinner.react"),{background:"dark",className:"_2out",size:"large"})}},b("React").createElement(b("VideoPlayer.react"),{disableClickPlayPause:!0,autoplay:!0,width:this.props.videoPlayerWidth,height:this.props.videoPlayerWidth*m,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,subOrigin:b("VideoPlayerLoggerSource").NOT_SPECIFIED_PLEASE_FIX,onUpdateMetadata:this.$3},b("React").createElement(b("React").Fragment,null),b("React").createElement(b("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:t})))}else{t=!this.props.paused&&a?a:(c=this.props.linkAttachment)!=null?(c=c.media)!=null?(c=c.image)!=null?c.uri:c:c:c;c=(a=this.props.linkAttachment)!=null?(a=a.media)!=null?(a=a.image)!=null?a.width:a:a:a;a=(a=this.props.linkAttachment)!=null?(a=a.media)!=null?(a=a.image)!=null?a.height:a:a:a;t&&(i||c&&c>=n&&a&&a>=o)&&(s=b("React").createElement(b("BackgroundImage.react"),{optimizeResizeSpeed:!0,backgroundSize:"contain",width:this.props.videoPlayerWidth,height:this.props.videoPlayerWidth*m,src:t,onImageLoad:this.$3}))}s||this.$3();!this.props.messageText&&j===b("StoryFooterMetadataFromComposerType").NONE&&!s&&(s=b("React").createElement("span",{className:"_6ol6"},b("React").createElement(b("Image.react"),{src:g("533522")})));i=!this.props.isTextOverflow&&s?b("React").createElement("div",{className:"_69zt"},s):null;return b("React").createElement("div",{className:"_73es"+(this.props.isSATP&&f&&h?" _6--4":"")+(this.props.isLink?" _69zq":""),ref:function(a){return this.$1=a}.bind(this)},this.props.messageText||j!==b("StoryFooterMetadataFromComposerType").NONE?b("React").createElement(b("CameraPostLongTextComponent.react"),{lines:7,lineHeight:k,rootClassName:"_73et",boxClassName:"_73ew"+(d?" _67g-":""),textClassName:"_73ex",expandedRootClassName:"_73ey",buttonClassName:"_73e-",expandHandler:this.props.expandHandler,truncateHandler:this.props.truncateHandler,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick,onTextOverflow:this.props.onTextOverflow,storyMetadata:this.props.storyMetadata,mediaCaption:!1,activityDescriptionClassName:(d?"":"_13dc")+" _3frn"},b("React").createElement(b("CameraPostDelightedTextWithEntitiesComponent.react"),{delightRanges:this.props.delightRanges,isSatp:this.props.isSATP,messageRanges:this.props.messageRanges,onLinkClick:this.props.onLinkClick,text:this.props.messageText.trim(),textColor:this.props.isSATP?e:"#FFFFFF",size:k})):null,i)};e.exports=a}),null);
__d("CameraPostWithTagsComponent.react",["cx","FBStoriesActivityDescription.react","FBStoriesInteractiveLoggingHelper","FBStoryMetadataUtils","React","SplitImage.react","StoryFooterMetadataFromComposerType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){this.props.onLinkClick(a),b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({item_type:"tagged_people",thread_id:this.props.threadID})}.bind(this),c}a.prototype.$1=function(){var a=b("FBStoryMetadataUtils").getStoryFooterMetadataType(this.props.storyMetadata.activityDescription,this.props.storyMetadata.explicitLocation,this.props.storyMetadata.inlineActivities,this.props.storyMetadata.withTags);return a===b("StoryFooterMetadataFromComposerType").TAGGING_ONLY?b("React").createElement(b("FBStoriesActivityDescription.react"),{onLinkClick:this.$2,storyMetadata:this.props.storyMetadata,openWithSidePanel:this.props.openWithSidePanel,className:"_3bkz _13da _13dc"}):null};a.prototype.render=function(){var a;a=(a=this.props)!=null?(a=a.storyMetadata)!=null?(a=a.withTags)!=null?a.edges:a:a:a;a=a?a.map(function(a){return(a=a)!=null?(a=a.node)!=null?(a=a.large_profile_picture)!=null?a.uri:a:a:a}).filter(Boolean):[];return b("React").createElement("div",{className:"_33ba"},b("React").createElement("div",{className:"_33bb"},b("React").createElement(b("SplitImage.react"),{className:"_2bmp",srcs:a,size:256,border:!0}),this.$1()))};e.exports=a}),null);
__d("FBStoriesLocationComponent.react",["cx","FBStoriesActivityDescription.react","FBStoriesInteractiveLoggingHelper","FBStoryMetadataUtils","GeoCoordinates","GeoMarker","Link.react","React","StaticGeoMapDesktopWeb.react","StaticGeoMapSource","StoryFooterMetadataFromComposerType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=13,j="288px",k="288px";c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){this.props.onLinkClick(a),b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({item_type:"location",thread_id:this.props.threadID})}.bind(this),c}a.prototype.$1=function(){var a,c,d;d=(d=this.props.storyMetadata)!=null?(d=d.explicitLocation)!=null?(d=d.location)!=null?d.latitude:d:d:d;c=(c=this.props.storyMetadata)!=null?(c=c.explicitLocation)!=null?(c=c.location)!=null?c.longitude:c:c:c;a=(a=this.props.storyMetadata)!=null?(a=a.explicitLocation)!=null?a.url:a:a;d=c&&d?b("React").createElement(b("StaticGeoMapDesktopWeb.react"),{width:j,height:k,markers:[new(b("GeoMarker"))(new(b("GeoCoordinates"))(d,c))],source:b("StaticGeoMapSource").FBSTORIES_COMPOSER_CHECKIN,center:new(b("GeoCoordinates"))(d,c),showReportButton:!1,zoom:i}):null;d&&a&&(d=b("React").createElement(b("Link.react"),{href:a,target:"_blank",onClick:this.$2,className:"_14q2"},d));return d};a.prototype.$3=function(){__p&&__p();var a,c=b("FBStoryMetadataUtils").getStoryFooterMetadataType(this.props.storyMetadata.activityDescription,this.props.storyMetadata.explicitLocation,this.props.storyMetadata.inlineActivities,this.props.storyMetadata.withTags);if(c===b("StoryFooterMetadataFromComposerType").LOCATION_ONLY)return b("React").createElement(b("FBStoriesActivityDescription.react"),{onLinkClick:this.$2,storyMetadata:this.props.storyMetadata,openWithSidePanel:this.props.openWithSidePanel,className:"_3bkz _13da _13dc"});c=(c=this.props.storyMetadata)!=null?(c=c.explicitLocation)!=null?c.url:c:c;a=(a=this.props.storyMetadata)!=null?(a=a.explicitLocation)!=null?a.contextual_name:a:a;if(a){a=b("React").createElement("div",{className:"_3bkz _13da _13dc"},a);c&&(a=b("React").createElement(b("Link.react"),{className:"_1b6i",href:c,target:"_blank",onClick:this.$2},a));return a}return null};a.prototype.render=function(){return b("React").createElement("div",{className:"_3bkw"},b("React").createElement("div",{className:"_3bky"},this.$1(),this.$3(),b("React").createElement("div",{className:"_3bkz _13dc"})))};e.exports=a}),null);
__d("FBStoriesTimer",["EventEmitter","VideoPlayerController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=0,i=1e3;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a){__p&&__p();g.constructor.call(this);this.$FBStoriesTimer10=function(){__p&&__p();if(this.$FBStoriesTimer8){this.$FBStoriesTimer1=this.$FBStoriesTimer8.getPlaybackDuration()*i;var a=this.$FBStoriesTimer8.getCurrentTimePosition();this.$FBStoriesTimer5=a*i;this.$FBStoriesTimer9&&(this.$FBStoriesTimer5%=this.$FBStoriesTimer1)}else{a=Date.now();var b=a-this.$FBStoriesTimer6;this.$FBStoriesTimer6=a;this.$FBStoriesTimer5+=b}a=this.$FBStoriesTimer2+(this.$FBStoriesTimer3-this.$FBStoriesTimer2)*(this.$FBStoriesTimer5/this.$FBStoriesTimer1);b=Math.min(this.$FBStoriesTimer3,a);this.emit("tick",b);if(b===this.$FBStoriesTimer3)this.emit("done"),this.$FBStoriesTimer7&&clearTimeout(this.$FBStoriesTimer7);else{a=this.$FBStoriesTimer1-this.$FBStoriesTimer5;b=Math.min(a,h);this.$FBStoriesTimer7=setTimeout(this.$FBStoriesTimer10,b)}}.bind(this);var b=a.duration,c=a.vpc,d=a.start,e=a.end;a=a.loop;this.$FBStoriesTimer1=b;this.$FBStoriesTimer2=d===void 0?0:d;this.$FBStoriesTimer3=e===void 0?100:e;this.$FBStoriesTimer8=c;this.$FBStoriesTimer9=!!a;this.$FBStoriesTimer6=0;this.$FBStoriesTimer4=!1;this.$FBStoriesTimer5=0}a.prototype.getTimeElapsed=function(){return this.$FBStoriesTimer5};a.prototype.setTimeElapsed=function(a){this.$FBStoriesTimer5=a};a.prototype.onDone=function(a){return this.addListener("done",a)};a.prototype.onTick=function(a){return this.addListener("tick",function(b){return a(b)})};a.prototype.pause=function(){clearTimeout(this.$FBStoriesTimer7)};a.prototype.play=function(){this.$FBStoriesTimer6=Date.now(),this.$FBStoriesTimer10()};a.prototype.stop=function(){this.$FBStoriesTimer6=0,clearTimeout(this.$FBStoriesTimer7)};e.exports=a}),null);
__d("FBStoryImageWarningScreen.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_6wm1"},this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("StoriesViewerSphericalPhoto.react",["cx","BootloadedComponent.react","JSResource","PhotoProjection","React","SphericalMediaConstants","SphericalPhotoUtils","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PhotoProjection").CUBESTRIP,j=b("PhotoProjection").TILED_CUBEMAP,k=b("SphericalMediaConstants").LOGGER_SURFACES,l=b("SphericalPhotoUtils").calculatePartialLimits,m=b("SphericalPhotoUtils").getMetadataFromGraphQLResult,n=b("SphericalPhotoUtils").parseNumber;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.componentDidMount=function(){this.props.onImageLoad()};a.prototype.render=function(){__p&&__p();var a=this.props.photoEncodings.find(function(a){a=a.projection_type;return a===i||a===j}),c=this.props.photoEncodings.find(function(a){a=a.projection_type;return a===j}),d=m(a?a.spherical_metadata:{});a=a?a.cdn_uri:"";var e={fov:n(d.InitialViewVerticalFOVDegrees),pitch:n(d.InitialViewPitchDegrees),yaw:n(d.InitialViewRollDegrees)},f=l(d);c={useTiledRenderer:c?c.tiles.length!==0:!1,initialTileUris:c?c.tiles:[],viewportTileUris:[],maxTileLevel:c?c.max_tile_level:0};var g=b("React").createElement(b("XUISpinner.react"),{size:"large"});return b("React").createElement("div",{className:"_24cp"},b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoViewer.react").__setRef("StoriesViewerSphericalPhoto.react"),bootloadPlaceholder:g,canvasNamespace:"Stories",cubeImageURI:a,enableGyro:!0,enableRubberBanding:!0,enableZoom:!0,enableTagging:!1,height:this.props.height,initialView:e,partialLimits:f,photoID:this.props.photoID,photoSphereMetadata:d,surface:k.stories,thumbnail:this.props.thumbnail,tiledSphericalConfig:c,width:this.props.width}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("VideoComponentCommercialBreakLiveTransitionOverlayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoID",type:"ID!"}],c={kind:"LinkedField",alias:"profilePicture",name:"profile_picture",storageKey:"profile_picture(height:56,width:56)",args:[{kind:"Literal",name:"height",value:56,type:"Int"},{kind:"Literal",name:"width",value:56,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},d={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"VideoComponentCommercialBreakLiveTransitionOverlayQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Video",selections:[{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,d]}]}]}]},operation:{kind:"Operation",name:"VideoComponentCommercialBreakLiveTransitionOverlayQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[e,f,{kind:"InlineFragment",type:"Video",selections:[{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,c,d,f]}]}]}]},params:{operationKind:"query",name:"VideoComponentCommercialBreakLiveTransitionOverlayQuery",id:"1737325546388041",text:null,metadata:{}}}}();e.exports=a}),null);
__d("VideoComponentCommercialBreakLiveTransitionOverlay.react",["cx","Image.react","React","RelayModern","VideoCommercialBreakTransitionOverlay","VideoComponent","VideoComponentCommercialBreakLiveTransitionOverlayQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("RelayModern").graphql;var i=56;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.enable=function(a){this.$1||(this.$1=a),this.props.video&&(this.$2=new(b("VideoCommercialBreakTransitionOverlay"))({root:this.refs.root,body:this.refs.body,ownerName:null,ownerPictureUri:null,interactiveAlertAdStartedConfig:null}),this.$2.enable(a))};a.prototype.componentDidUpdate=function(a,b){this.$1&&this.enable(this.$1)};a.prototype.disable=function(){this.$2=null,this.$1=null};a.prototype.render=function(){if(!this.props.video)return null;var a=this.props.video.owner;return b("React").createElement("div",{ref:"root",className:"_2s3i _4fii _167h _4ubd _2lwf"},b("React").createElement("div",{className:"_3y74"},b("React").createElement(b("Image.react"),{src:a.profilePicture.uri,width:i,className:"_2s3l"}),b("React").createElement("div",{className:"_2s3m"},a.name),b("React").createElement("div",{ref:"body"})))};function a(){h.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a,{videoGraphQLQuery:function(){return b("VideoComponentCommercialBreakLiveTransitionOverlayQuery.graphql")}})}),null);
__d("VideoComponentLiveAudioAnimationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoID",type:"ID!"}],c={kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:"isLiveAudioFormat",name:"is_live_audio_format",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"VideoComponentLiveAudioAnimationQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c]}]},operation:{kind:"Operation",name:"VideoComponentLiveAudioAnimationQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c]}]},params:{operationKind:"query",name:"VideoComponentLiveAudioAnimationQuery",id:"1817039808346683",text:null,metadata:{}}}}();e.exports=a}),null);
__d("VideoComponentLiveAudioAnimation.react",["cx","fbt","LiveAudioAnimation","LiveAudioAnimationExperiments","React","ReactDOM","RelayModern","VideoComponent","VideoComponentLiveAudioAnimationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("RelayModern").graphql;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.state={visible:!1},this.initialized=!1}a.prototype.disable=function(){};a.prototype.UNSAFE_componentWillReceiveProps=function(a){a&&a.video&&a.video!==this.props.video&&(a.video.isLiveAudioFormat?(!this.initialized&&b("LiveAudioAnimationExperiments").liveWwwAudioAnimation&&(new(b("LiveAudioAnimation"))(b("ReactDOM").findDOMNode(this.refs.container),this.vpc),this.initialized=!0),this.setState({visible:!0})):this.setState({visible:!1}))};a.prototype.enable=function(a){this.vpc=a};a.prototype.render=function(){var a=null;b("LiveAudioAnimationExperiments").liveWwwAudioAnimation||(a=b("React").createElement("div",{className:"_1tzn"},h._("Audio broadcast")));return b("React").createElement("div",{ref:"container",className:"_4tes _4ubd"+(this.state.visible?"":" hidden_elem")},a)};e.exports=b("VideoComponent").createContainer(a,{videoGraphQLQuery:function(){return b("VideoComponentLiveAudioAnimationQuery.graphql")}})}),null);
__d("CameraPostMedia.react",["cx","BackgroundImage.react","BlurredBackgroundImage.react","CameraPostDefaultBackground.react","CameraPostMediaGradientBackground.react","CameraPostMediaHelper","CameraPostMinutiaeComponent.react","CameraPostMuteButton.react","CameraPostSATPBackground.react","CameraPostTextSATPLinkComponent.react","CameraPostTypes","CameraPostWithTagsComponent.react","DelightsTextTriggerTypedLogger","EventListener","FBLogger","FBStoriesActions","FBStoriesLocationComponent.react","FBStoriesTimer","FBStoryImageWarningScreen.react","FBStoryMetadataUtils","React","ReactCSSTransitionGroup","ShimButton.react","StoriesViewerSphericalPhoto.react","SubscriptionsHandler","TextDelightInStoriesGating","VideoComponentAutoPlayControl.react","VideoComponentCommercialBreakLiveTransitionOverlay.react","VideoComponentCommercialBreakVideoAdOverlay.react","VideoComponentLiveAudioAnimation.react","VideoComponentLiveEndScreen.react","VideoComponentLiveInterruptedScreen.react","VideoComponentLiveVideoIndicator.react","VideoComponentStreamingReactionTray.react","VideoComponentWithCommercialBreak.react","VideoComponentWithInstreamVideo.react","VideoComponentWithLiveBroadcast.react","VideoComponentWithLoopingPlayback.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","XUISpinner.react","createCancelableFunction","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"},j=6e3,k=1e3,l=200,m=12e3,n=200,o=200;a=babelHelpers.inherits(p,b("React").Component);h=a&&a.prototype;function p(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={height:0,width:0,showLoadingSpinner:!1},this.state={height:0,width:0,showLoadingSpinner:!1},this.$17=function(a){this.props.onTimeUpdate&&this.props.onTimeUpdate(a)}.bind(this),this.$11=function(){this.$18(j)}.bind(this),this.$21=function(){this.$6(),this.$22(this.props.cameraPostType)&&this.$11()}.bind(this),this.$23=function(){this.$6(),this.$22(this.props.cameraPostType)&&this.$19()}.bind(this),this.$6=b("createCancelableFunction")(function(){var a=p.getMediaSizeBasedOnWindow(),b=a.width;a=a.height;this.setState({height:a,width:b})}.bind(this)),this.$24=function(a){a||b("FBLogger")("FIXME").mustfix("onUpdateMetaData, VideoPlayerController is undefined.");if(a&&!this.$1){var c=a.getPlaybackDuration();this.$20(c,a)}this.props.isMediaMuted?a&&a.mute():a&&a.unmute();this.props.paused&&(a&&a.pause(b("VideoPlayerReason").USER),this.props.onVideoPaused&&this.props.onVideoPaused())}.bind(this),this.$27=function(){!this.props.disableAutoplay&&!this.props.paused&&this.$2.vpc.getState()!==b("VideoPlayerStates").PLAYING&&this.$2.vpc.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").AUTOPLAY))}.bind(this),this.$29=function(a){this.$4=a}.bind(this),c}p.getMediaSizeBasedOnWindow=function(){var a=window.innerHeight,b,c;a<=700?(b=520,c=292):a>=1350?(b=1080,c=608):(b=a*.83625-48,c=b*(292/520));return{width:c,height:b}};p.prototype.componentDidMount=function(){this.$6(),this.$7(),window.onresize=this.$6,(this.$8()||this.$9()||this.$10())&&this.$11()};p.prototype.componentWillUnmount=function(){this.$12(),this.$6.cancel(),this.$5&&this.$5.release()};p.prototype.UNSAFE_componentWillUpdate=function(a){a.paused!==this.props.paused&&(a.paused?(this.$1&&this.$1.pause(),this.$2&&this.$2.vpc.pause(b("VideoPlayerReason").USER)):(this.$1&&this.$1.play(),this.$2&&this.$2.vpc.play(b("VideoPlayerReason").USER)));a.isMediaMuted!==this.props.isMediaMuted&&(a.isMediaMuted?this.$2&&this.$2.vpc.mute():this.$2&&this.$2.vpc.unmute());this.props.showWarningScreen&&!a.showWarningScreen&&(this.$13()?this.$12():this.$1&&this.$1.setTimeElapsed(0));this.$5&&(a.threadID!==this.props.threadID||((a=a)!=null?(a=a.media)!=null?a.id:a:a)!==((a=this.props)!=null?(a=a.media)!=null?a.id:a:a))&&(this.$5.release(),this.$5=null)};p.prototype.$7=function(){this.props.delightRanges.length>0&&b("TextDelightInStoriesGating").isEnabledAndLogExposure()&&new(b("DelightsTextTriggerTypedLogger"))().setEvent("delights_text_trigger_story_viewed").log()};p.prototype.$14=function(){return b("CameraPostMediaHelper").isSphericalPhoto(this.props.media)};p.prototype.$15=function(){return b("CameraPostMediaHelper").isImage(this.props.media)};p.prototype.$13=function(){return b("CameraPostMediaHelper").isVideo(this.props.media)};p.prototype.$8=function(){return this.props.satpData.wwwTextFormatMetadata!==null};p.prototype.$9=function(){return this.props.isPlainText&&this.props.messageText&&!this.$16()};p.prototype.$16=function(){return(this.props.linkAttachment&&this.props.linkAttachment.url)!=null};p.prototype.$10=function(){return b("FBStoryMetadataUtils").isMetadataOnly(this.props.storyMetadata.explicitLocation,this.props.storyMetadata.inlineActivities,this.props.storyMetadata.withTags,this.props.messageText,this.props.media,this.props.linkAttachment)};p.prototype.$12=function(){this.$1&&(this.$1.stop(),delete this.$1)};p.prototype.$18=function(a,c){this.props.onDone&&this.props.onTimeUpdate&&(this.$12(),this.$1=new(b("FBStoriesTimer"))({duration:a,vpc:c,loop:this.props.loopTimer}),this.$1.onTick(this.$17),this.props.onDone&&this.$1.onDone(this.props.onDone),this.props.paused||this.$1.play())};p.prototype.$19=function(){this.$18(m)};p.prototype.$20=function(a,b){this.$18(a*k,b)};p.prototype.$25=function(a){switch(a){case b("CameraPostTypes").DIRECT:case b("CameraPostTypes").DIRECT_NUX:case b("CameraPostTypes").GROUP_DIRECT:return b("VideoPlayerOrigins").DIRECT_INBOX;case b("CameraPostTypes").STORY:case b("CameraPostTypes").STORY_NUX:case b("CameraPostTypes").EVENT_STORY:case b("CameraPostTypes").GROUP_STORY:case b("CameraPostTypes").PAGE_STORY:case b("CameraPostTypes").BIRTHDAY_STORY:return b("VideoPlayerOrigins").FB_STORIES;default:b("FBLogger")("FIXME").mustfix("invalid Camera Post Type "+a);return b("VideoPlayerOrigins").BACKSTAGE}};p.prototype.$22=function(a){switch(a){case b("CameraPostTypes").STORY:case b("CameraPostTypes").STORY_NUX:case b("CameraPostTypes").EVENT_STORY:case b("CameraPostTypes").GROUP_STORY:case b("CameraPostTypes").PAGE_STORY:case b("CameraPostTypes").BIRTHDAY_STORY:return!0;default:return!1}};p.prototype.$26=function(a){__p&&__p();if(this.$5||!a)return;var c=a.vpc;this.$5=new(b("SubscriptionsHandler"))();this.$5.addSubscriptions(c.addListener("commercialBreak/hideUFI",function(){return b("FBStoriesActions").setIsCommercialBreakRunning(c.getVideoID(),!0)}),c.addListener("commercialBreak/showUFI",function(){return b("FBStoriesActions").setIsCommercialBreakRunning(c.getVideoID(),!1)}),c.addListener("turnOffAutoplay",function(a){a=(a=a)!=null?a.reason:a;if(a!=="manually_paused")return;this.props.onVideoPaused&&this.props.onVideoPaused()}.bind(this)),c.addListener("bufferingChanged",function(){this.setState({showLoadingSpinner:c.isBuffering()})}.bind(this)),c.addListener("pendingPlayRequestChanged",function(){this.setState({showLoadingSpinner:c.isPlayRequestPending()})}.bind(this)));c.runOnApiReady(function(){this.$27(),this.$5&&this.$5.addSubscriptions(c.getVideoAPI().addListener("qualityChange",this.$27))}.bind(this));this.props.isBucketLive&&b("EventListener").listen(c.getRootNode(),"contextmenu",function(a){a.preventDefault()})};p.prototype.render=function(){__p&&__p();var a=this.props,c=a.cameraPostType,d=a.children,e=a.isMediaMuted,f=a.media,g=a.onClick,h=a.onMouseDown,j=a.onMouseUp,k=a.onMuteMouseUp,m=a.showMuteButton,p=a.showOverlay;a=a.showWarningScreen;var q=this.state,r=q.height,s=q.width;q=q.showLoadingSpinner;p=p?b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:i,transitionEnterTimeout:l,transitionLeaveTimeout:l},b("React").createElement("div",{className:"_3dew"})):null;var t=b("React").createElement(b("XUISpinner.react"),{background:"dark",className:"_2out",size:"large"});m=m?b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:i,transitionEnterTimeout:n,transitionLeaveTimeout:o},b("React").createElement(b("CameraPostMuteButton.react"),{muted:e,onMouseUp:k})):null;if(this.$13()){if(a)return b("React").createElement(b("ShimButton.react"),{className:"_ide",onClick:g,onMouseUp:j,onMouseDown:h},this.$28(),b("React").createElement(b("FBStoryImageWarningScreen.react"),null,b("React").createElement(b("BackgroundImage.react"),{src:b("CameraPostMediaHelper").getImageUri(f),backgroundSize:"fitWidth",backgroundPosition:"50% 50%",width:s,height:r,className:"_1s5n",onImageLoad:this.$21,loadingIndicatorStyle:"large"})),d);e=this.props.useVideoPlayerAutoplay||this.props.isBucketLive;k=b("React").createElement(b("VideoDataContainer.react"),{videoID:b("CameraPostMediaHelper").getId(f),renderLoading:function(){return t}},b("React").createElement(b("VideoPlayer.react"),{forceHD:this.props.forceHD,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,playerOrigin:this.$25(c),subOrigin:b("VideoPlayerLoggerSource").CAMERA_POST,autoplay:!this.props.disableAutoplay&&e,ref:function(a){this.$2=a,this.$26(a)}.bind(this),onUpdateMetadata:this.$24,className:"_1s5n"+(this.props.isBucketLive?" _3r0u":"")},!this.props.disableAutoplay&&!e&&b("React").createElement(b("VideoComponentAutoPlayControl.react"),null),b("React").createElement(b("VideoComponentWithLiveBroadcast.react"),null),b("React").createElement(b("VideoComponentLiveAudioAnimation.react"),null),b("React").createElement(b("VideoComponentLiveEndScreen.react"),null),b("React").createElement(b("VideoComponentLiveVideoIndicator.react"),null),b("React").createElement(b("VideoComponentLiveInterruptedScreen.react"),null),b("React").createElement(b("VideoComponentStreamingReactionTray.react"),null),b("React").createElement(b("VideoComponentWithInstreamVideo.react"),null),b("React").createElement(b("VideoComponentWithCommercialBreak.react"),null),b("React").createElement(b("VideoComponentCommercialBreakVideoAdOverlay.react"),null),b("React").createElement(b("VideoComponentCommercialBreakLiveTransitionOverlay.react"),null),this.props.loop&&b("React").createElement(b("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:!0})));return b("React").createElement("div",{className:"_ide",onMouseUp:j,onMouseDown:h},this.$28(),k,m,p,q&&t,d)}if(this.$9()||this.$8()||this.$16())return b("React").createElement("div",{className:"_ide"+(this.props.messageText?" _6b2b":""),onMouseUp:j,onMouseDown:h,ref:this.$29},this.$28(),b("React").createElement(b("CameraPostTextSATPLinkComponent.react"),{className:"_1s5n",delightRanges:this.props.delightRanges,expandHandler:this.props.expandHandler,isLink:this.$16(),isSATP:this.$8(),isTextOverflow:this.props.isTextInMediaComponentOverflow,onTextOverflow:this.props.onTextInMediaComponentOverflow,messageText:this.props.messageText,messageRanges:this.props.messageRanges,onLinkClick:this.props.onLinkClick,openWithSidePanel:this.props.openWithSidePanel,satpData:this.props.satpData,storyMetadata:this.props.storyMetadata,truncateHandler:this.props.truncateHandler,linkAttachment:this.props.linkAttachment,videoPlayerWidth:s,videoPlayerHeight:r,onFirstMediaLoaded:this.$11,paused:this.props.paused,mediaBackgroundInfo:this.props.mediaBackground}),this.$22(c)&&m,p,d);if(this.$15()){e=null;if(this.$14()){k=f&&f.photo_encodings?f.photo_encodings:[];q=f&&f.image&&f.image.uri?f.image.uri:"";e=b("React").createElement(b("StoriesViewerSphericalPhoto.react"),{photoID:b("CameraPostMediaHelper").getId(f),height:r,width:s,thumbnail:q,photoEncodings:k,onImageLoad:this.$23})}else e=b("React").createElement(b("BackgroundImage.react"),{src:b("CameraPostMediaHelper").getImageUri(f),backgroundSize:"fitWidth",backgroundPosition:"50% 50%",width:s,height:r,className:"_1s5n",onImageLoad:this.$21,loadingIndicatorStyle:"large"});a&&(e=b("React").createElement(b("FBStoryImageWarningScreen.react"),null,e));return b("React").createElement("div",{className:"_ide",onClick:g,onMouseUp:j,onMouseDown:h,ref:this.$29},this.$28(),e,this.$22(c)&&m,p,d)}if(this.$10()){q=null;b("FBStoryMetadataUtils").locationExists(this.props.storyMetadata.explicitLocation)?q=b("React").createElement(b("FBStoriesLocationComponent.react"),{storyMetadata:this.props.storyMetadata,threadID:this.props.threadID,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick}):b("FBStoryMetadataUtils").minutiaeExists(this.props.storyMetadata.inlineActivities)?q=b("React").createElement(b("CameraPostMinutiaeComponent.react"),{storyMetadata:this.props.storyMetadata,threadID:this.props.threadID,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick}):b("FBStoryMetadataUtils").withTagsExists(this.props.storyMetadata.withTags)&&(q=b("React").createElement(b("CameraPostWithTagsComponent.react"),{storyMetadata:this.props.storyMetadata,threadID:this.props.threadID,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick}));return b("React").createElement("div",{className:"_ide",onMouseUp:j,onMouseDown:h,ref:this.$29},this.$28(),q,this.$22(c)&&m,p,d)}k="Error: media type not found "+String(b("CameraPostMediaHelper").getType(f));b("FBLogger")("FIXME").mustfix(k);return b("React").createElement("div",{className:"_ide",onClick:g,onMouseUp:j,onMouseDown:h},t,p,d)};p.prototype.$28=function(){var a;a=(a=this.props.backdropImage)!=null?(a=a.image)!=null?a.uri:a:a;if(this.props.mediaBackground)return b("React").createElement(b("CameraPostMediaGradientBackground.react"),{data:this.props.mediaBackground});if(a)return b("React").createElement(b("BlurredBackgroundImage.react"),{width:this.state.width,height:this.state.height,src:a});return this.$8()?b("React").createElement(b("CameraPostSATPBackground.react"),{satpData:this.props.satpData,height:this.state.height}):b("React").createElement(b("CameraPostDefaultBackground.react"),{data:this.props.defaultBackground})};p.defaultProps={forceHD:!1,disableAutoplay:!1,useVideoPlayerAutoplay:!1,loop:!1,loopTimer:!1,media:{id:"",__typename:"Video",preview_image:null,image:null,image_blurred:null},showMuteButton:!0,showOverlay:!1,onTimeUpdate:function(a){},onDone:b("emptyFunction"),onClick:b("emptyFunction"),onMouseUp:b("emptyFunction"),onMouseDown:b("emptyFunction"),paused:!1,cameraPostType:"",userID:null,threadID:null,width:1,height:1,isBucketLive:!1,isMediaMuted:!1,onMuteMouseUp:b("emptyFunction"),satpData:{rootMessageText:"",wwwTextFormatMetadata:null,textFormatMetadata:null},onVideoPaused:b("emptyFunction"),messageText:"",messageRanges:null,isPlainText:!1,backdropImage:null,defaultBackground:null,storyMetadata:{threadID:"1"},openWithSidePanel:function(){},linkAttachment:null,onLinkClick:function(){},expandHandler:function(){},truncateHandler:function(){},mediaBackground:null,delightRanges:[],showWarningScreen:!1,isTextInMediaComponentOverflow:!1,onTextInMediaComponentOverflow:function(){}};e.exports=p}),null);
__d("CameraPostSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({API:"API",NO_COMPOSER:"NO_COMPOSER",CAMERA_SYSTEM:"CAMERA_SYSTEM",COMPOSER:"COMPOSER",FB_STORIES_WEB:"FB_STORIES_WEB",NEWSFEED:"NEWSFEED",INSTAGRAM:"INSTAGRAM",MESSENGER:"MESSENGER",LIVE:"LIVE",FACEBOOK_PROMOTIONS:"FACEBOOK_PROMOTIONS",PLATFORM_COMPOSER:"PLATFORM_COMPOSER",FBLITE_MESSENGER:"FBLITE_MESSENGER",FEED_CTA:"FEED_CTA",PROFILE_ACTION_BAR:"PROFILE_ACTION_BAR",PROFILE_ACTION_SHEET:"PROFILE_ACTION_SHEET",KOTOTORO:"KOTOTORO",SELL_COMPOSER:"SELL_COMPOSER",DAILY_LAUGH:"DAILY_LAUGH",PROFILE_PICTURE_UPDATE:"PROFILE_PICTURE_UPDATE",SERVER_GENERATED_CARDS:"SERVER_GENERATED_CARDS",PLATFORM_STORY_SHORTCUT:"PLATFORM_STORY_SHORTCUT",GOODWILL_VIDEO:"GOODWILL_VIDEO"})}),null);
__d("CameraPostOwnerInfo.react",["cx","fbt","CameraPostAppAttribution.react","CameraPostSource","ProfileLink.react","React","Timestamp.react","Tooltip.react","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function(a,b,c){var d=[];b.forEach(function(a){a[c]&&d.push(a[c])});return d},j=function(a,b,c){var d=[];b.forEach(function(b){b.id!==a&&b[c]&&d.push(b[c])});return d},k=function(a,b,c){a=i(a,b,c);return a.join(", ")},l=function(a,b,c){a=j(a,b,c);b=a.reduce(function(a,b){if(a.showingNames==="")return{showingNames:b,others:a.others};return(a.showingNames+", "+b).length<20?{showingNames:a.showingNames+", "+b,others:a.others}:{showingNames:a.showingNames,others:a.others+1}},{showingNames:"",others:0});return b.others>0?h._({"s":"{names_of_members} and {num_others} other","p":"{names_of_members} and {num_others} others"},[h._param("names_of_members",b.showingNames),h._param("num_others",b.others),h._enum(b.others===1?"s":"p",{s:"other",p:"others"})]):b.showingNames},m=function(a,b,c,d){return c!==""&&c!==null?c:l(a,b,d)},n=function(a,c,d){a=k(a,c,d);return b("React").createElement("div",null,b("React").createElement("p",{className:"_3gpm"},h._("Group members")),b("React").createElement("p",{className:"_3gpn"},a))};a=function(a){__p&&__p();var c=a.id;a.instagramProfileURL;var d=a.isSphericalPhoto,e=a.name,f=a.threadID,g=a.time,i=a.cameraPostType,j=a.cameraPostSource,k=a.participants,l=a.groupName,o=a.originalPostStoryAttribution;a=function(){if(i==="GROUP_DIRECT")return b("React").createElement("p",{className:"_v5n"},e,b("React").createElement("span",{className:"_3gpo"},"\xa0to\xa0"),b("React").createElement(b("Tooltip.react"),{tooltip:n(c,k,"name"),position:"below"},m(c,k,l,"short_name")));else return b("React").createElement(b("ProfileLink.react"),{uid:c,target:"_blank",className:"_v5n"},e)};var p=b("React").createElement(b("Timestamp.react"),{autoUpdate:!0,time:g,text:b("formatDate")(g,"M j, Y")});g=function(){if(o)return b("React").createElement("div",{className:"_v5o"},p,"\xa0\u2022\xa0",b("React").createElement(b("CameraPostAppAttribution.react"),{currentThreadID:f,postStoryAttribution:o}));else if(j===b("CameraPostSource").LIVE)return b("React").createElement("div",{className:"_v5o"},p,"\xa0 \u2022 \xa0",h._("Recorded live"));else if(d)return b("React").createElement("div",{className:"_v5o"},p,"\xa0\u2022\xa0",h._("360 photo"));return b("React").createElement("div",{className:"_v5o"},p)};return b("React").createElement("div",{className:"_60x1"},a(),g())};e.exports=a}),null);
__d("CameraPostOwnerPic.react",["cx","AvailableListConstants","FBStoriesGatingConfig","Image.react","PresenceStatus","ProfileLink.react","QE2Logger","React","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="fb_stories_web_show_user_online_status_universe",i=b("React").createElement("svg",{width:"0",height:"0"},b("React").createElement("defs",null,b("React").createElement("clipPath",{id:"storyUserOnlineStatus"},b("React").createElement("path",{d:"M37.5639554,29.5738543 C36.7864951,29.2058421 35.917286,29 35,29 C31.6862915,29 29,31.6862915 29,35 C29,35.917286 29.2058421,36.7864951 29.5738543,37.5639554 C26.7304079,39.1171646 23.4683026,40 20,40 C8.954305,40 0,31.045695 0,20 C0,8.954305 8.954305,0 20,0 C31.045695,0 40,8.954305 40,20 C40,23.4683026 39.1171646,26.7304079 37.5639554,29.5738543 Z",fill:"black"}))));a=function(a){__p&&__p();var c=a.profile_picture;a=a.id;if(!c)return null;var d=b("FBStoriesGatingConfig").userOnlineStatusEnabled,e=b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE;if(e){b("QE2Logger").logExposureForUser(h);if(d)if(b("UserAgent").isBrowser("Chrome"))return b("React").createElement(b("ProfileLink.react"),{uid:a,target:"_blank",tabIndex:"-1"},i,b("React").createElement(b("Image.react"),{src:c.uri,className:"_1yfe"}),b("React").createElement("div",{className:"_1yff"}));else return b("React").createElement(b("ProfileLink.react"),{uid:a,target:"_blank",tabIndex:"-1"},b("React").createElement(b("Image.react"),{src:c.uri,className:"_1___"}),b("React").createElement("span",{className:"_2jlv"}))}return b("React").createElement(b("ProfileLink.react"),{uid:a,target:"_blank",tabIndex:"-1"},b("React").createElement(b("Image.react"),{src:c.uri,className:"_1___"}))};e.exports=a}),null);
__d("CameraPostOwnerView.react",["cx","CameraEventGroupPostOwnerInfo.react","CameraEventGroupPostOwnerPic.react","CameraPostBucketOwnerHelper","CameraPostOwnerInfo.react","CameraPostOwnerPic.react","CameraPostThreadOwnerHelper","CameraPostTypesHelper","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.bucketOwner,d=a.bucketAlternateName,e=a.instagramProfileURL,f=a.isSphericalPhoto,g=a.threadID,h=a.threadOwner,i=a.time,j=a.cameraPostType,k=a.cameraPostSource,l=a.participants,m=a.groupName;a=a.originalPostStoryAttribution;var n=b("CameraPostBucketOwnerHelper").getId(c);d=d==null?b("CameraPostBucketOwnerHelper").getName(c):d;if(b("CameraPostTypesHelper").isMultiAuthor(j)){var o=b("CameraPostThreadOwnerHelper").getName(h),p=b("CameraPostThreadOwnerHelper").getId(h);h={uri:b("CameraPostThreadOwnerHelper").getProfilePictureUri(h)};var q={uri:b("CameraPostBucketOwnerHelper").getProfilePictureUri(c)};return b("React").createElement("div",{className:"_116v"},b("React").createElement(b("CameraEventGroupPostOwnerPic.react"),{bucketOwnerId:n,threadOwnerId:p,bucketProfilePicture:q,threadProfilePicture:h,cameraPostType:j}),b("React").createElement(b("CameraEventGroupPostOwnerInfo.react"),{bucketOwnerId:n,threadOwnerId:p,bucketOwnerName:d,originalPostStoryAttribution:a,threadID:g,threadOwnerName:o,time:i}))}q={uri:b("CameraPostBucketOwnerHelper").getProfilePictureUri(c)};return b("React").createElement("div",{className:"_116v"},b("React").createElement(b("CameraPostOwnerPic.react"),{profile_picture:q,id:n}),b("React").createElement(b("CameraPostOwnerInfo.react"),{id:n,instagramProfileURL:e,isSphericalPhoto:f,name:d,threadID:g,time:i,cameraPostType:j,cameraPostSource:k,participants:l||[],groupName:m||"",originalPostStoryAttribution:a}))};e.exports=a}),null);
__d("CameraPostReportButton.react",["ix","cx","fbt","AsyncRequest","CameraFileBugButton.react","FBStoriesGatingConfig","FRXEntryPoint","FRXURI","Image.react","NFXStoryLocation","PopoverMenu.react","React","ReactMenu","ReactXUIMenu","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReactMenu").Item,k=b("FBStoriesGatingConfig").isStoriesDebugEligible;a=function(a){var c=function(){var c=b("FRXURI").withEntReportable({reportable_ent_token:a.threadID,story_location:b("NFXStoryLocation").DIRECT_MESSAGING,entry_point:b("FRXEntryPoint").REPORT_BUTTON});c=new(b("AsyncRequest"))().setURI(c);c.send()};c=[].concat(a.children||[],[a.canReportThreadToFacebook?b("React").createElement(j,{onClick:c,key:"report"},b("React").createElement(b("Image.react"),{src:g("372467")}),i._("Give feedback or report story")):null,b("CameraFileBugButton.react")(),k?b("React").createElement(j,{key:"link",href:"https://our.intern.facebook.com/intern/fb_stories/inspector/?id="+a.threadID,target:"_blank"},b("React").createElement(b("Image.react"),{src:g("372467")}),i._("[FB Only] Open in Stories Inspector Tool")):null,null]);c=b("React").createElement(b("ReactXUIMenu"),{className:"_2sh1",onItemClick:a.onPopoverItemClick,onItemFocus:a.onPopoverItemFocus},c);return b("React").createElement("div",{className:"_2sh5"},b("React").createElement(b("PopoverMenu.react"),{alignv:"bottom",alignh:"center","aria-label":i._("More button"),menu:c,position:"below",onItemClick:a.onPopoverItemClick,onShow:a.onPopoverShow,onHide:a.onPopoverHide},b("React").createElement("a",{href:"#"},b("React").createElement(b("Image.react"),{src:g("375454")}))))};e.exports=a}),null);
__d("EventsRSVPStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Going");b=g._("Interested");c=g._("Message");d=g._("View event details");e.exports={goingFBT:a,interestedFBT:b,messageFBT:c,viewEventDetailsFBT:d}}),null);
__d("EventsRelayWatchButtonV2_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"EventsRelayWatchButtonV2_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"connectionStyle",name:"connection_style",args:null,storageKey:null},{kind:"ScalarField",alias:"eventID",name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:"watchStatus",name:"viewer_watch_status",args:null,storageKey:null},{kind:"FragmentSpread",name:"EventsRelayWatchStatusSelectorV2_event",args:null}]};e.exports=a}),null);
__d("EventsRelayWatchStatusSelectorV2_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"EventsRelayWatchStatusSelectorV2_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"connectionStyle",name:"connection_style",args:null,storageKey:null},{kind:"ScalarField",alias:"eventID",name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:"watchStatus",name:"viewer_watch_status",args:null,storageKey:null},{kind:"ScalarField",alias:"hasChildEvents",name:"has_child_events",args:null,storageKey:null}]};e.exports=a}),null);
__d("EventsRelayWatchStatusSelectorV2.react",["ix","EventActionContext","EventConnectionStyle","EventRSVPActionStrings","EventsActionsLogger","EventsRelayWatchActions","EventWatchStatus","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorSeparator.react","Image.react","React","RelayModern","asset","EventsRelayWatchStatusSelectorV2_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){__p&&__p();c.stopPropagation();c=this.props;var d=c.event,e=d.eventID;d=d.watchStatus;c=c.actionContext;if(d===a)return;a===b("EventWatchStatus").WATCHED?b("EventsRelayWatchActions").watch({eventID:e},c,this.$2):a===b("EventWatchStatus").UNWATCHED?b("EventsRelayWatchActions").unwatch({eventID:e},c,this.$2):a===b("EventWatchStatus").GOING&&b("EventsRelayWatchActions").going({eventID:e},c,this.$2);b("EventsActionsLogger").log(this.props.event.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.RSVP_BUTTON,acontext:b("EventActionContext").getFromString(this.props.actionContext)});this.props.onChange&&this.props.onChange()}.bind(this),c}a.prototype.render=function(){var a=this.props.event,c=a.connectionStyle,d=a.hasChildEvents;a=a.watchStatus;if(c!==b("EventConnectionStyle").INTERESTED)return null;c=a===b("EventWatchStatus").WATCHED;a=a===b("EventWatchStatus").GOING;var e=c?b("EventWatchStatus").WATCHED:a?b("EventWatchStatus").GOING:null,f=c||a?b("React").createElement(b("Image.react"),{src:g("495429")}):b("React").createElement(b("Image.react"),{src:g("560884")});d=[d==null||d===!1?b("React").createElement(b("FDSDropdownSelectorOption.react"),{selected:a,value:b("EventWatchStatus").GOING},a?b("EventRSVPActionStrings").getGoingActionText():b("EventRSVPActionStrings").getGoingDecidedText()):null,b("React").createElement(b("FDSDropdownSelectorOption.react"),{selected:c,value:b("EventWatchStatus").WATCHED},c?b("EventRSVPActionStrings").getInterestedDecidedText():b("EventRSVPActionStrings").getInterestedActionText()),b("React").createElement(b("FDSDropdownSelectorSeparator.react"),null),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("EventWatchStatus").UNWATCHED},c?b("EventRSVPActionStrings").getInterestedNegateText():b("EventRSVPActionStrings").getGoingNegateText())].filter(Boolean);return b("React").createElement("div",{key:"watchui"},b("React").createElement(b("FDSDropdownSelector.react"),{buttonSize:"small",buttonIcon:f,onChange:this.$1,placeholder:b("EventRSVPActionStrings").getInterestedActionText(),value:e},d))};a.prototype.$2=function(a){};e.exports=c(a,{event:function(){return b("EventsRelayWatchStatusSelectorV2_event.graphql")}})}),null);
__d("EventsRelayWatchButtonV2.react",["ix","EventActionContext","EventConnectionStyle","EventRSVPActionStrings","EventsActionsLogger","EventsRelayWatchActions","EventsRelayWatchStatusSelectorV2.react","EventWatchStatus","FDSButton.react","Image.react","React","RelayModern","asset","EventsRelayWatchButtonV2_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("EventsActionsLogger").log(this.props.event.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.RSVP_BUTTON,acontext:b("EventActionContext").getFromString(this.props.actionContext)}),b("EventsRelayWatchActions").watch({eventID:this.props.event.eventID},this.props.actionContext,this.$2)}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.actionContext,d=a.event;a=a.onChange;var e=d.connectionStyle,f=d.watchStatus;if(e!==b("EventConnectionStyle").INTERESTED)return null;e=f===b("EventWatchStatus").WATCHED;f=f===b("EventWatchStatus").GOING;if(e||f)return b("React").createElement(b("EventsRelayWatchStatusSelectorV2.react"),{actionContext:c,event:d,onChange:a});e=b("React").createElement(b("Image.react"),{src:g("560884")});return b("React").createElement(b("FDSButton.react"),{size:"small",icon:e,label:b("EventRSVPActionStrings").getInterestedActionText(),onClick:this.$1})};a.prototype.$2=function(a){};e.exports=c(a,{event:function(){return b("EventsRelayWatchButtonV2_event.graphql")}})}),null);
__d("EventInfoBarConstants",[],(function(a,b,c,d,e,f){"use strict";a=56;e.exports={IMAGE_SIZE:a}}),null);
__d("EventInfoBar_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"EventInfoBar_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"EventsRelayWatchButtonV2_event",args:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a,{kind:"ScalarField",alias:"date",name:"day_time_sentence",args:null,storageKey:null},{kind:"LinkedField",alias:"place",name:"event_place",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]},{kind:"LinkedField",alias:null,name:"cover_photo",storageKey:null,args:null,concreteType:"FocusedPhoto",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"photo",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:100,width:100)",args:[{kind:"Literal",name:"height",value:100,type:"Int"},{kind:"Literal",name:"width",value:100,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null}]}]}]}]}}();e.exports=a}),null);
__d("EventInfoBar.react",["cssVar","cx","EventActionContext","EventInfoBarConstants","EventsActionsLogger","EventsRelayWatchButtonV2.react","EventsRSVPStrings","FDSLink.react","FDSPopover.react","FDSText.react","React","RelayModern","ScaledImage.react","XEventsPermalinkController","EventInfoBar_event.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("EventInfoBarConstants").IMAGE_SIZE,k=b("EventsRSVPStrings").viewEventDetailsFBT;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={showImage:!0},this.setShowImage=function(){var a;this.setState({showImage:(((a=this.$1)==null?void 0:a.offsetWidth)||0)>=6*j})}.bind(this),this.onPauseAnimation=function(){this.props.onPauseAnimation&&this.props.onPauseAnimation()}.bind(this),this.onStartAnimation=function(){this.props.onStartAnimation&&this.props.onStartAnimation()}.bind(this),b}a.prototype.componentDidMount=function(){b("EventsActionsLogger").log(this.props.event.id,{type:b("EventsActionsLogger").Type.VIEW,target:b("EventsActionsLogger").Target.EVENT_INFO_BAR,acontext:b("EventActionContext").getFromString(this.props.actionContext)}),this.setShowImage(),window.addEventListener("resize",this.setShowImage)};a.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.setShowImage)};a.prototype.render=function(){__p&&__p();var a,c,d,e=this.props,f=e.actionContext;e=e.event;var g=e.id,h=e.name;e=e.date;a=(a=this.props.event.place)==null?void 0:a.name;c=(c=this.props.event.cover_photo)==null?void 0:(c=c.photo)==null?void 0:c.image;return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{onMouseEnter:this.onPauseAnimation,onMouseLeave:this.onStartAnimation,className:"_6vr0",ref:function(a){return this.$1=a}.bind(this)},b("React").createElement("div",{className:"_6vr1"},b("React").createElement("div",{className:"_6x31"},c!=null&&this.state.showImage?b("React").createElement("div",{className:"_6vr2"},b("React").createElement(b("ScaledImage.react"),{className:"_6vr3",height:j,imageSize:{height:(d=c.height)!=null?d:0,width:(d=c.width)!=null?d:0},src:c.uri,width:j})):null,b("React").createElement("div",{className:"_6vr4"},b("React").createElement(b("FDSText.react"),{size:"body3",color:"white"},b("React").createElement("div",{style:{color:"#F35369"},className:"_6yvq"},e)),b("React").createElement(b("FDSText.react"),{size:"header3",color:"white",weight:"bold"},b("React").createElement("div",{className:"_6yvq"},h)),b("React").createElement(b("FDSText.react"),{size:"body3",color:"white"},b("React").createElement("div",{className:"_6yvq"},a)))),b("React").createElement("div",{className:"_6vr5"},b("React").createElement(b("EventsRelayWatchButtonV2.react"),{event:this.props.event,actionContext:(d=f)!=null?d:"{}",onChange:this.onStartAnimation})))),b("React").createElement(b("FDSPopover.react"),{content:b("React").createElement("div",{onMouseEnter:this.onPauseAnimation,onMouseLeave:this.onStartAnimation},b("React").createElement(b("FDSLink.react"),{onClick:function(){return b("EventsActionsLogger").log(this.props.event.id,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.VIEW_EVENT,acontext:b("EventActionContext").getFromString(this.props.actionContext)})}.bind(this),target:"_self",href:b("XEventsPermalinkController").getURIBuilder().setInt("event_id",g).setString("acontext",f).getURI()},b("React").createElement(b("FDSText.react"),null,k))),contextRef:function(){return this.$1}.bind(this),hoverContextRef:function(){return this.$1}.bind(this),position:"above",alignment:"center"}))};e.exports=c(a,{event:function(){return b("EventInfoBar_event.graphql")}})}),null);
__d("EventInfoBarLoading.react",["cx","EventInfoBarConstants","FBLoadShimmer.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("EventInfoBarConstants").IMAGE_SIZE,j=.15;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_6vr0"},b("React").createElement("div",{className:"_6vr1"},b("React").createElement("div",{className:"_6x31"},b("React").createElement("div",{className:"_6vr2"},b("React").createElement(b("FBLoadShimmer.react"),{style:{opacity:j},className:"_6vr3",height:i,width:i})),b("React").createElement("div",{className:"_6vr4"},b("React").createElement(b("FBLoadShimmer.react"),{style:{opacity:j},height:12,width:120,className:"_3-8h"}),b("React").createElement(b("FBLoadShimmer.react"),{style:{opacity:j},height:12,width:180,className:"_3-8h"}),b("React").createElement(b("FBLoadShimmer.react"),{style:{opacity:j},height:12,width:150,className:"_3-8h"}))),b("React").createElement("div",{className:"_6vr5"},b("React").createElement(b("FBLoadShimmer.react"),{style:{opacity:j},height:28,width:92}))))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("EventInfoBarRendererQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"eventID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"eventID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"EventInfoBarRendererQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"event",storageKey:null,args:b,concreteType:"Event",plural:!1,selections:[{kind:"FragmentSpread",name:"EventInfoBar_event",args:null}]}]},operation:{kind:"Operation",name:"EventInfoBarRendererQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"event",storageKey:null,args:b,concreteType:"Event",plural:!1,selections:[{kind:"ScalarField",alias:"connectionStyle",name:"connection_style",args:null,storageKey:null},{kind:"ScalarField",alias:"eventID",name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:"watchStatus",name:"viewer_watch_status",args:null,storageKey:null},{kind:"ScalarField",alias:"hasChildEvents",name:"has_child_events",args:null,storageKey:null},c,d,{kind:"ScalarField",alias:"date",name:"day_time_sentence",args:null,storageKey:null},{kind:"LinkedField",alias:"place",name:"event_place",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d,c]},{kind:"LinkedField",alias:null,name:"cover_photo",storageKey:null,args:null,concreteType:"FocusedPhoto",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"photo",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:100,width:100)",args:[{kind:"Literal",name:"height",value:100,type:"Int"},{kind:"Literal",name:"width",value:100,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null}]},c]}]}]}]},params:{operationKind:"query",name:"EventInfoBarRendererQuery",id:"2448703058503545",text:null,metadata:{}}}}();e.exports=a}),null);
__d("EventInfoBarRenderer.react",["BanzaiODS","EventInfoBar.react","EventInfoBarLoading.react","FBLogger","React","RelayFBEnvironment","RelayModern","EventInfoBarRendererQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var h=function(){return b("EventInfoBarRendererQuery.graphql")};function a(a){__p&&__p();var c=a.eventID,d=babelHelpers.objectWithoutPropertiesLoose(a,["eventID"]);a={eventID:c};return b("React").createElement(g,{environment:b("RelayFBEnvironment"),query:h,variables:a,render:function(a){__p&&__p();var c=a.error;a=a.props;if(c){b("FBLogger")("EventInfoBar").catching(c).debug("Error querying graphQL endpoint for event info bar");b("BanzaiODS").bumpEntityKey("events.event_info_bar","renderer_error");return null}else if(a)return b("React").createElement(b("EventInfoBar.react"),babelHelpers["extends"]({event:a.event},d));return b("React").createElement(b("EventInfoBarLoading.react"),null)}})}e.exports=a}),null);
__d("FBStoriesStrings",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Friends");c=g._("Connections");d=function(a){return g._({"*":"{number} new","_1":"1 new"},[g._plural(a,"number")])};f=g._("When friends open your story, they'll appear here");var h=g._("Others"),i=g._("Followers");b=g._("Learn more about {=Messenger connections}",[g._param("=Messenger connections",b("React").createElement("a",{href:"https://www.facebook.com/help/messenger-app/122070095126335",target:"_blank"},g._("Messenger connections")))]);e.exports={messengerConnectionsFBT:b,othersFBT:h,followersFBT:i,friendsFBT:a,connectionsFBT:c,newCountFBT:d,noFriendsViewedStoryFBT:f}}),null);
__d("FBStoriesNavigationDirection",[],(function(a,b,c,d,e,f){"use strict";e.exports={PREV:"prev",NEXT:"next",STAY_HERE:"stay_here"}}),null);
__d("FBStoriesThreadNavigationButton.react",["cx","fbt","FBStoriesNavigationDirection","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();if(!a.showStoryUI||a.showPausedOverlay||!a.enableNavigation)return null;var c=a.allowedNavType==="PREV_ONLY"&&a.direction===b("FBStoriesNavigationDirection").NEXT,d=a.allowedNavType==="NEXT_ONLY"&&a.direction===b("FBStoriesNavigationDirection").PREV;if(d||c)return null;d=function(b){b.preventDefault(),b.stopPropagation(),a.rootElem.focus(),a.directionChange()};c=function(b){b.stopPropagation(),a.setNavDirection(a.direction)};return b("React").createElement("button",{"aria-label":a.direction===b("FBStoriesNavigationDirection").NEXT?h._("Next button"):a.direction===b("FBStoriesNavigationDirection").PREV?h._("Previous button"):h._("Button"),className:"_24o5"+(a.direction===b("FBStoriesNavigationDirection").NEXT?" _24o8":"")+(a.direction===b("FBStoriesNavigationDirection").PREV?" _24o7":"")+(a.navDirectionOnClick===a.direction?" _24o6":""),onClick:d,onMouseMove:c,tabIndex:0})};e.exports=a}),null);
__d("SegmentedProgressBar.react",["cx","React","range"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.currentSegmentIndex,d=a.currentSegmentPercentComplete;a=a.segmentCount;a=b("range")(0,a).map(function(a){var e=0;a<c?e=100:a>c?e=0:e=d;return b("React").createElement(j,{current:a===c,key:a,percentDone:e})});return b("React").createElement("div",{className:"_jxz"},a)};function a(){h.apply(this,arguments)}i=babelHelpers.inherits(j,b("React").Component);i&&i.prototype;j.prototype.render=function(){var a=this.props.percentDone;a={width:a+"%"};return b("React").createElement("div",{className:"_jx-"},b("React").createElement("div",{className:"_jx_",style:a}))};function j(){i.apply(this,arguments)}e.exports=a}),null);
__d("StoriesMediaStoreActionsEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({START_GALLERY_SESSION:"start_gallery_session",END_GALLERY_SESSION:"end_gallery_session",START_GALLERY_TAB_SESSION:"start_gallery_tab_session",END_GALLERY_TAB_SESSION:"end_gallery_tab_session",PRIVATE_GALLERY_THUMBNAILS_DOWNLOADED:"private_gallery_thumbnails_downloaded",START_SAVING_SHEET_SESSION:"start_saving_sheet_session",END_SAVING_SHEET_SESSION:"end_saving_sheet_session",SAVE_TO_PRIVATE_GALLERY:"save_to_private_gallery",SAVE_TO_PRIVATE_GALLERY_FAILED:"save_to_private_gallery_failed",TAP_OVERFLOW_BUTTON:"tap_overflow_button",DELETE_PRIVATE_GALLERY_MEDIA:"delete_private_gallery_media",DELETE_PRIVATE_GALLERY_MEDIA_FAILED:"delete_private_gallery_media_failed",PRIVATE_GALLERY_SAVE_BUTTON_NUX_IMPRESSION:"private_gallery_save_button_nux_impression",DISABLE_PRIVATE_GALLERY_NUX:"disable_private_gallery_nux",UPLOAD_START:"upload_start",UPLOAD_FAIL:"upload_fail",READ_FAILED_OPERATION_MEDIA_FROM_CACHE:"read_failed_operation_media_from_cache",OPEN_MEDIA_IN_CAMERA:"open_media_in_camera",DIALOG_OPEN:"dialog_open",TAP_DIALOG_OPTION:"tap_dialog_option",NETWORK_QUERY_FAILED:"network_query_failed",TAP_BUTTON:"tap_button",START_MEDIA_STORE_SESSION:"start_media_store_session",END_MEDIA_STORE_SESSION:"end_media_store_session",START_MEDIA_PAGE_SESSION:"start_media_page_session",END_MEDIA_PAGE_SESSION:"end_media_page_session",STORIES_ARCHIVE_SETTINGS_PAGE_OPEN:"stories_archive_settings_page_open",SELECT_MEDIA:"select_media",MEDIA_FETCHED:"media_fetched",MEDIA_SAVED:"media_saved",MEDIA_DELETED:"media_deleted",MEDIA_SHARED:"media_shared",STORY_ARCHIVE_DELETED:"story_archive_deleted",STORIES_ARCHIVE_ENTER:"stories_archive_enter",STORIES_ARCHIVE_EXIT:"stories_archive_exit",STORIES_ARCHIVE_TOGGLE_ON:"stories_archive_toggle_on",STORIES_ARCHIVE_TOGGLE_OFF:"stories_archive_toggle_off",SAVED_PHOTOS_AUTOSAVE_TOGGLE_ON:"saved_photos_autosave_toggle_on",SAVED_PHOTOS_AUTOSAVE_TOGGLE_OFF:"saved_photos_autosave_toggle_off",MEDIA_STORE_QUERIED:"media_store_queried",PUBLISH_START:"publish_start",PUBLISH_SUCCESS:"publish_success",SAVE_MEDIA_TOGGLE_ON_ARCHIVE:"save_media_toggle_on_archive"})}),null);
__d("StoriesMediaStoreActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:StoriesMediaStoreActionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:StoriesMediaStoreActionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:StoriesMediaStoreActionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setActiveStoriesCount=function(a){this.$1.active_stories_count=a;return this};a.prototype.setArchiveSavingModeLastModifiedTime=function(a){this.$1.archive_saving_mode_last_modified_time=a;return this};a.prototype.setButtonName=function(a){this.$1.button_name=a;return this};a.prototype.setCameraSystemMediaAttributes=function(a){this.$1.camera_system_media_attributes=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setClientArchiveID=function(a){this.$1.client_archive_id=a;return this};a.prototype.setDialogName=function(a){this.$1.dialog_name=a;return this};a.prototype.setDialogOptionName=function(a){this.$1.dialog_option_name=a;return this};a.prototype.setEntryPoint=function(a){this.$1.entry_point=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventSpecificExtraData=function(a){this.$1.event_specific_extra_data=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setEventType=function(a){this.$1.event_type=a;return this};a.prototype.setGalleryTab=function(a){this.$1.gallery_tab=a;return this};a.prototype.setMediaContentID=function(a){this.$1.media_content_id=a;return this};a.prototype.setMediaFbid=function(a){this.$1.media_fbid=a;return this};a.prototype.setNetworkQueryName=function(a){this.$1.network_query_name=a;return this};a.prototype.setProductName=function(a){this.$1.product_name=a;return this};a.prototype.setReason=function(a){this.$1.reason=a;return this};a.prototype.setSavedPhotosUseCase=function(a){this.$1.saved_photos_use_case=a;return this};a.prototype.setSavingDestinations=function(a){this.$1.saving_destinations=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setServerOriginalMediaFbid=function(a){this.$1.server_original_media_fbid=a;return this};a.prototype.setServerOriginalStoryCardFbid=function(a){this.$1.server_original_story_card_fbid=a;return this};a.prototype.setSessionDurationMs=function(a){this.$1.session_duration_ms=a;return this};a.prototype.setSessionIdsMap=function(a){this.$1.session_ids_map=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setSessionStartReasonsMap=function(a){this.$1.session_start_reasons_map=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setStoryCardFbid=function(a){this.$1.story_card_fbid=a;return this};a.prototype.setStoryCardType=function(a){this.$1.story_card_type=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={active_stories_count:!0,archive_saving_mode_last_modified_time:!0,button_name:!0,camera_system_media_attributes:!0,client_archive_id:!0,dialog_name:!0,dialog_option_name:!0,entry_point:!0,event:!0,event_specific_extra_data:!0,event_type:!0,gallery_tab:!0,media_content_id:!0,media_fbid:!0,network_query_name:!0,product_name:!0,reason:!0,saved_photos_use_case:!0,saving_destinations:!0,server_original_media_fbid:!0,server_original_story_card_fbid:!0,session_duration_ms:!0,session_ids_map:!0,session_start_reasons_map:!0,story_card_fbid:!0,story_card_type:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("StoriesMediaStoreProductName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SAVED_PHOTOS:"saved_photos",STORIES_ARCHIVE:"stories_archive",PAGE_STORIES_ARCHIVE:"page_stories_archive"})}),null);
__d("FBStoriesArchiveLoggingHelper",["CurrentUser","DirectMessagingTypedLogger","FBStoriesLoggingConstants","StoriesMediaStoreActionsEvent","StoriesMediaStoreActionsTypedLogger","StoriesMediaStoreProductName"],(function(a,b,c,d,e,f){"use strict";var g={deleteStoryCardLog:function(a,c){new(b("DirectMessagingTypedLogger"))().setName(b("FBStoriesLoggingConstants").ACTION_DELETE_MEDIA).setStoryOwner(b("CurrentUser").getID()).setClientMediaID(c).setCardID(a).setSource(b("FBStoriesLoggingConstants").SOURCES.ARCHIVE).log()},selectMediaLog:function(a,c){g._archiveEventLog(a,c,b("StoriesMediaStoreActionsEvent").SELECT_MEDIA)},openMediaInComposerLog:function(a,c){g._archiveEventLog(a,c,b("StoriesMediaStoreActionsEvent").OPEN_MEDIA_IN_CAMERA)},_archiveEventLog:function(a,c,d){new(b("StoriesMediaStoreActionsTypedLogger"))().setProductName(b("StoriesMediaStoreProductName").STORIES_ARCHIVE).setEvent(d).setStoryCardFbid(a).setMediaFbid(c).setEventType("client").log()},openSeenSummaryLog:function(a,c){new(b("DirectMessagingTypedLogger"))().setName(b("FBStoriesLoggingConstants").ACTION_OPEN_SEEN_SUMMARY).setStoryOwner(b("CurrentUser").getID()).setClientMediaID(c).setCardID(a).setSource(b("FBStoriesLoggingConstants").SOURCES.ARCHIVE).log()},openMediaLog:function(a,c){new(b("DirectMessagingTypedLogger"))().setName(b("FBStoriesLoggingConstants").ACTION_OPEN_MEDIA).setStoryOwner(b("CurrentUser").getID()).setClientMediaID(c).setCardID(a).setSource(b("FBStoriesLoggingConstants").SOURCES.ARCHIVE).log()}};e.exports=g}),null);
__d("FBStoriesDeleteConfirmationDialog.react",["cx","fbt","React","StoriesTestID","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=500;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{width:j,shown:this.props.shown,isStrictlyControlled:!0,onHide:this.props.hideAction,"data-testid":b("StoriesTestID").VIEWER_DELETE_CONFIRMATION_DIALOG},b("React").createElement(b("XUIDialogTitle.react"),null,this.$1(this.props.mediaType)),b("React").createElement(b("XUIDialogBody.react"),null,this.$2(this.props.mediaType)),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.hideAction}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",className:"_4jy1",label:h._("Delete"),onClick:this.props.confirmAction,"data-testid":b("StoriesTestID").VIEWER_OPTION_MENU_DELETE_CONFIRM_BUTTON}))))};a.prototype.$2=function(a){a=a||"";switch(a.toUpperCase()){case"PHOTO":return h._("Delete this photo from your story?");case"VIDEO":return h._("Delete this video from your story?");default:return h._("Delete this from your story?")}};a.prototype.$1=function(a){a=a||"";switch(a.toUpperCase()){case"PHOTO":return h._("Delete photo?");case"VIDEO":return h._("Delete video?");default:return h._("Delete?")}};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("EventsLoggerActionEventStoryTypeEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PERSONAL:"personal"})}),null);
__d("FBStoriesExternalSong.react",["ix","cx","fbt","FBStoriesInteractiveLoggingHelper","Image.react","Link.react","React","asset","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.linkClicked=function(){b("FBStoriesInteractiveLoggingHelper").logOpenStoryMediaPermalink({action_detail:"external_song_button_click",link_type:this.props.overlay.song_data.platform_name,link_url:this.props.overlay.url,thread_id:this.props.currentThreadID})}.bind(this),c}a.prototype.render=function(){__p&&__p();if(!this.props.overlay.song_data||!b("gkx")("678363"))return null;var a=i._("Listen on {partnerName}",[i._param("partnerName",this.props.overlay.song_data.platform_name)]),c=null;switch(this.props.overlay.song_data.platform_name){case"Spotify":a=i._("Play on {partnerName}",[i._param("partnerName",this.props.overlay.song_data.platform_name)]);c=b("React").createElement(b("Image.react"),{className:"_3-_y _3-8_",src:g("506051")});break;case"iTunes":a=i._("Get it on iTunes");break}var d=this.props.overlay.link_bounds.y*100;d={top:d+"%"};return b("React").createElement(b("Link.react"),{className:"_3vp6",href:this.props.overlay.url,label:a,onClick:this.linkClicked,style:d,target:"_blank"},c,a)};e.exports=a}),null);
__d("FBStoriesPollStickerConstants",[],(function(a,b,c,d,e,f){"use strict";a=12;b={HEIGHT:72,WIDTH:240,DEFAULT_OPTION_WIDTH:120,AVAILABLE_WIDTH:240-2*a,TEXT_SMALL_HEIGHT:25,TEXT_BIG_HEIGHT:40,TEXT_BIG_MIN_FONT_SIZE:20,TEXT_BIG_MAX_FONT_SIZE:30,TEXT_SMALL_MIN_FONT_SIZE:12,TEXT_SMALL_MAX_FONT_SIZE:20,VOTE_OPTION_MAX_WIDTH_RATIO:.75,MINIMUM_LABEL_WIDTH:.31*240,H_PADDING:a};c={VOTING:"VOTING",JUST_VOTED:"JUST_VOTED",RESULTS:"RESULTS"};e.exports={DIMENSIONS:b,VOTING_PHASES:c}}),null);
__d("Autosize.react",["cx","Autosize","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{style:{height:"auto",width:this.props.width?this.props.width+"px":"auto"},className:"_1obl invisible_elem",ref:function(a){return this.$1=a}.bind(this)},this.props.children)};a.prototype.componentDidMount=function(){new(b("Autosize"))(this.$1,babelHelpers["extends"]({},this.props)),requestAnimationFrame(function(){return b("Autosize").onNodeInserted()})};a.prototype.componentDidUpdate=function(a){new(b("Autosize"))(this.$1,babelHelpers["extends"]({},this.props)).fit()};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("StoryOverlayPollStyle",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TWO_OPTION_COMBINED:"two_option_combined",IG_TWO_OPTION_COMBINED:"ig_two_option_combined",FIVE_OPTION_STAR_RATING:"five_option_star_rating"})}),null);
__d("FBStoriesPollStickerOptionLabel.react",["cx","Autosize.react","FBStoriesPollStickerConstants","React","StoryOverlayPollStyle","range"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBStoriesPollStickerConstants").DIMENSIONS;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.voteCountPercent,c=a!==void 0&&a!==null,d=this.$1(c),e=i.VOTE_OPTION_MAX_WIDTH_RATIO*100,f="_2iz1"+(this.props.isResultView?" resultView":"")+(this.props.isSelected?" selected":"")+(this.props.isOverflowedOption?" overflow_option":"")+(c?" hasPercent":"")+(this.props.pollStyle===b("StoryOverlayPollStyle").IG_TWO_OPTION_COMBINED.toUpperCase()?" instagramPoll":"")+(this.props.isLeftOption?" left":"")+(this.props.isLeftOption?"":" right"),g=this.props.isOverflowLayout?i.DEFAULT_OPTION_WIDTH*i.VOTE_OPTION_MAX_WIDTH_RATIO:d.width,h={};a={width:g,height:d.height,zIndex:a!==void 0&&a!==null?a<=50?1:0:0};this.props.isOverflowLayout?(h.maxWidth=g,a.width="auto"):h.maxWidth=e+"%";e={width:a.width,zIndex:a.zIndex};var j=c?i.TEXT_SMALL_MIN_FONT_SIZE:i.TEXT_BIG_MIN_FONT_SIZE,k=c?i.TEXT_SMALL_MAX_FONT_SIZE:i.TEXT_BIG_MAX_FONT_SIZE;return b("React").createElement("div",{className:f,style:h},b("React").createElement("div",{className:"_2i_3",style:a},b("React").createElement(b("Autosize.react"),{sizes:b("range")(j,k+1,2),width:g,height:d.height},this.props.text.toUpperCase())),c&&b("React").createElement("div",{className:"_66ry",style:e},(this.props.voteCountPercent||0)+"%"))};a.prototype.$1=function(a){var b=(this.props.voteCountPercent||50)/100;b=Math.floor(i.AVAILABLE_WIDTH*b*i.VOTE_OPTION_MAX_WIDTH_RATIO);a=a?i.TEXT_SMALL_HEIGHT:i.TEXT_BIG_HEIGHT;return{width:b,height:a}};function a(){h.apply(this,arguments)}a.defaultProps={voteCountPercent:void 0,isLeftOption:!1,isSelected:!1,isResultView:!1,isOverflowLayout:!1,isOverflowedOption:!1};e.exports=a}),null);
__d("FBStoriesPollStickerOption.react",["cx","FBStoriesPollStickerConstants","FBStoriesPollStickerOptionLabel.react","React","ReactMotion","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("FBStoriesPollStickerConstants").DIMENSIONS;var i=b("FBStoriesPollStickerConstants").VOTING_PHASES,j=b("ReactMotion").Motion,k=b("ReactMotion").presets,l=b("ReactMotion").spring,m=c.DEFAULT_OPTION_WIDTH+"px",n=c.AVAILABLE_WIDTH;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){__p&&__p();if(this.props.votingPhase===i.VOTING)return b("React").createElement(b("ShimButton.react"),{className:"_1jl5 _66l8 voting"+(this.props.isSelected?" selected":""),onClick:this.props.onSelect,style:{width:m}},b("React").createElement(b("FBStoriesPollStickerOptionLabel.react"),{isLeftOption:this.props.isLeftOption,isSelected:this.props.isSelected,isOverflowLayout:this.props.isOverflowLayout,isOverflowedOption:this.props.isOverflowedOption,pollStyle:this.props.pollStyle,text:this.props.text}));else if(this.props.votingPhase===i.RESULTS)return b("React").createElement("div",{className:"_1jl5 _66l8 results"+(this.props.isConsumer?" consumer":"")+(this.props.isSelected?" selected":"")+(this.props.isOverflowLayout?" overflow":"")+(this.props.isOverflowedOption?" overflow_option":""),style:{width:this.props.width}},b("React").createElement(b("FBStoriesPollStickerOptionLabel.react"),{isLeftOption:this.props.isLeftOption,isResultView:!this.props.isConsumer,isSelected:this.props.isSelected,isOverflowLayout:this.props.isOverflowLayout,isOverflowedOption:this.props.isOverflowedOption,pollStyle:this.props.pollStyle,text:this.props.text,voteCountPercent:this.props.voteCountPercent}));else{var a=this.props.isLeftOption&&this.props.isSelected||!this.props.isLeftOption&&!this.props.isSelected;a=a?0:n;var c=this.props.isLeftOption?this.props.width:Math.abs(this.props.width-n);a=this.props.isLeftOption?a:Math.abs(n-a);c=this.props.isLeftOption?c:Math.abs(n-c);return b("React").createElement(j,{defaultStyle:{width:a},style:{width:l(c,babelHelpers["extends"]({},k.noWobble))}},function(a){return b("React").createElement("div",{className:"_1jl5 _66l8 justVoted"+(this.props.isSelected?" selected":"")+(this.props.isOverflowLayout?" overflow":"")+(this.props.isOverflowedOption?" overflow_option":""),style:a},b("React").createElement(b("FBStoriesPollStickerOptionLabel.react"),{isSelected:this.props.isSelected,isOverflowLayout:this.props.isOverflowLayout,isOverflowedOption:this.props.isOverflowedOption,pollStyle:this.props.pollStyle,text:this.props.text,voteCountPercent:this.props.voteCountPercent}))}.bind(this))}};function a(){h.apply(this,arguments)}a.defaultProps={animateIn:!1,isConsumer:!0,isSelected:!1,votingPhase:i.VOTING,isOverflowLayout:!1,isOverflowedOption:!1,isLeftOption:!1,voteCountPercent:void 0};e.exports=a}),null);
__d("FBStoriesPollSticker.react",["cx","FBStoriesPollStickerConstants","FBStoriesPollStickerOption.react","React","StoryOverlayPollStyle","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBStoriesPollStickerConstants").DIMENSIONS,j=b("FBStoriesPollStickerConstants").VOTING_PHASES;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={didVoteChange:!1},b}a.prototype.render=function(){var a=this.$1();return b("React").createElement("div",{onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,className:"_4gto"+(this.props.pollStyle===b("StoryOverlayPollStyle").IG_TWO_OPTION_COMBINED.toUpperCase()?" instagramPoll":"")},a)};a.prototype.$2=function(a){if(!this.props.canViewerVote)return;this.props.onOptionVoted&&this.props.onOptionVoted(this.props.pollId,a);this.setState({didVoteChange:!0})};a.prototype.$3=function(){return this.props.pollOptions.filter(function(a){return a.voteCount>0}).length===1};a.prototype.$1=function(){var a=this.$4(),c=a.findIndex(function(a){return a.width<=i.MINIMUM_LABEL_WIDTH});return a.map(function(a,d){return b("React").createElement(b("FBStoriesPollStickerOption.react"),babelHelpers["extends"]({},a,{isLeftOption:d===0,isOverflowLayout:c>=0,isOverflowedOption:c===d,pollStyle:this.props.pollStyle}))}.bind(this))};a.prototype.$4=function(){__p&&__p();var a=this.props,b=a.pollOptions,c=a.viewerVoteIndex,d=a.canViewerVote,e=a.isConsumer,f=b.reduce(function(a,b){return a+=b.voteCount},0),g=b.reduce(function(a,c,d){c.voteCount>b[a].voteCount&&(a=d);return a},0),h=c!==void 0&&c!==null&&c>=0;a=e?!h&&d:f===0;var k=!a&&!this.state.didVoteChange,l=!a&&this.state.didVoteChange,m=0;return b.reduce(function(a,d,n){__p&&__p();var o=d.text;d=d.voteCount;var p=this.$3();p=n===c||p;if((k||l)&&d===0)return a;var q=void 0,r=i.DEFAULT_OPTION_WIDTH,s=j.VOTING,t=!1;if(k||l){k?s=j.RESULTS:l&&(s=j.JUST_VOTED);var u=!e&&!h&&g===n;t=p||u;if(n===b.length-1)q=100-m;else{p=d/f;q=p*100;u=Math.round(q)!=q;d=q<.1;p=u?q.toFixed(d?1:0):q;q=parseFloat(p);m+=q}r=i.WIDTH*(q/100)}a.push({animateIn:this.state.didVoteChange,key:n,isConsumer:e,isSelected:t,votingPhase:s,onSelect:function(){return this.$2(n)}.bind(this),text:o,voteCountPercent:q,width:r});return a}.bind(this),[])};a.defaultProps={top:0,left:0,rotation:0,scaleX:1,scaleY:1,canViewerVote:!0,viewerVoteIndex:void 0,isConsumer:!0,onMouseEnter:b("emptyFunction"),onMouseLeave:b("emptyFunction"),onOptionVoted:b("emptyFunction")};e.exports=a}),null);
__d("FBStoriesReactionSticker.react",["cx","FBKeyframesProject","FBStoriesReactionStickerConstants","Keyframes.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBStoriesReactionStickerConstants").ANIMATIONS_INTERVAL_THROTTLE,j=b("FBStoriesReactionStickerConstants").HOLD_DELAY;function k(a,b){var c=Date.now();return function(){c+b-Date.now()<0&&(a(),c=Date.now())}}c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={keyframes:[this.$1("AFFORDANCE",this.props.animations)]},this.$2=null,this.$3=0,this.$4=null,this.$6=k(function(){var a=this.props,b=a.onPauseThread,c=a.onReactToSticker;a=a.id;b();this.$3+=1;c(a,this.$3);this.setState(function(a,b){return{keyframes:[].concat(a.keyframes,[this.$1("TAP",b.animations)])}}.bind(this));this.$2=setTimeout(function(){this.$7()}.bind(this),j)}.bind(this),i),this.$8=function(){clearTimeout(this.$2),clearTimeout(this.$4)}.bind(this),b}a.prototype.$1=function(a,c,d){__p&&__p();d===void 0;var e={key:"",animation:c[0],repeatCount:1,onRepeatEnd:b("emptyFunction")};e.key=Date.now().toString();for(var d=c,c=Array.isArray(d),f=0,d=c?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(g.type===a){e.animation=g;break}}a==="TAP"&&(e.repeatCount=1,e.onRepeatEnd=function(){this.$5(e.key,this.props.onPlayThread)}.bind(this));a==="AFFORDANCE"&&(e.repeatCount=Infinity,e.onRepeatEnd=b("emptyFunction"));return e};a.prototype.$5=function(a,b){this.setState(function(c,d){d=c.keyframes.slice();for(var c=0;c<d.length;c++)if(d[c].key===a){d.splice(c,1);break}d.length<2&&b();return{keyframes:d}})};a.prototype.$7=function(){this.$3+=1,this.$4=setTimeout(function(){this.setState(function(a,b){return{keyframes:[].concat(a.keyframes,[this.$1("TAP",b.animations)])}}.bind(this)),this.$7()}.bind(this),i)};a.prototype.$9=function(a){__p&&__p();var c=a.key,d=a.animation,e=a.repeatCount;a=a.onRepeatEnd;var f=this.props,g=f.originalHeight;f=f.originalWidth;var h=d?d.asset:{};h=h.keyframe_uri;var i=d?d.asset.initial_state_bounds:{},j=i.height,k=i.width,l=i.x;i=i.y;g=g/j;j=f/k;f={position:"absolute",left:"-"+l*j+"px",top:"-"+i*g+"px"};return b("React").createElement(b("Keyframes.react"),{className:d.type==="TAP"?"_6w0m":"",key:c,style:f,height:g,width:j,source:h,projectName:b("FBKeyframesProject").FACEBOOK_STORIES,assetName:"reaction_sticker",repeatCount:e,onRepeatEnd:a})};a.prototype.render=function(){var a=this.state.keyframes;return b("React").createElement("div",{className:"_6w0n",onMouseDown:this.$6,onMouseUp:this.$8,onMouseLeave:this.$8},a.map(function(a){return this.$9(a)}.bind(this)))};e.exports=a}),null);
__d("ResharesConsumptionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ResharesConsumptionLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ResharesConsumptionLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ResharesConsumptionLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setOriginalContentID=function(a){this.$1.original_content_id=a;return this};a.prototype.setProductTag=function(a){this.$1.product_tag=a;return this};a.prototype.setThreadID=function(a){this.$1.thread_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={event_name:!0,original_content_id:!0,product_tag:!0,thread_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("FBStoriesTagSticker.react",["cx","fbt","Link.react","React","ResharesConsumptionTypedLogger","XUIContextualDialog.react","XUIContextualDialogBody.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={dialogShown:!1},this.$1=function(){this.props.onPauseThread(),this.setState({dialogShown:!0})}.bind(this),this.$2=function(){this.props.onPlayThread(),this.setState({dialogShown:!1})}.bind(this),this.$3=function(){return this.refs&&this.refs.body}.bind(this),b}a.prototype.$4=function(){switch(this.props.type){case"LOCATION":return h._("See location");case"PEOPLE":return h._("See people");case"EVENT":return h._("See event")}return null};a.prototype.$5=function(){var a=Math.cos(this.props.bounds.rotation/180*Math.PI);return a<0?"below":"above"};a.prototype.$6=function(){new(b("ResharesConsumptionTypedLogger"))().setEventName("reshared_post_tap").setOriginalContentID(this.props.tag_id).log()};a.prototype.render=function(){var a={transform:"rotate("+-this.props.bounds.rotation+"deg)"},c=this.props.tag_url;c===void 0&&(this.props.tag_id!==void 0&&(c="/"+this.props.tag_id));return b("React").createElement(b("Link.react"),{href:c,target:"_blank",onClick:function(){return this.$6()}.bind(this)},b("React").createElement("div",{className:"_6zqx",onMouseLeave:this.$2,onMouseEnter:this.$1},b("React").createElement("div",{ref:"body",style:a},b("React").createElement(b("XUIContextualDialog.react"),{shown:this.state.dialogShown,contextRef:this.$3,position:this.$5(),alignment:"center",label:""},b("React").createElement(b("XUIContextualDialogBody.react"),null,this.props.dialogBodyText===null||this.props.dialogBodyText===void 0?this.$4():this.props.dialogBodyText)))))};a.propTypes={tag_url:function(a){if(a.tag_url===void 0&&a.tag_id===void 0)return new Error("Please provide either tag_id or tag_url")}};e.exports=a}),null);
__d("FBStoriesInteractiveFeedbackOverlay.react",["cx","EventActionContext","EventInfoBarRenderer.react","EventsActionsLogger","EventsLoggerActionEventStoryTypeEnum","FBStoriesActions","FBStoriesExternalSong.react","FBStoriesGatingConfig","FBStoriesPollSticker.react","FBStoriesPollStickerConstants","FBStoriesReactionSticker.react","FBStoriesReactionStickerConstants","FBStoriesTagSticker.react","React","StoryOverlayPollStyle","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=[b("StoryOverlayPollStyle").TWO_OPTION_COMBINED.toUpperCase(),b("StoryOverlayPollStyle").IG_TWO_OPTION_COMBINED.toUpperCase()];h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_4xuu",style:{width:this.props.widthPx,height:this.props.heightPx,top:this.props.topPx,left:this.props.leftPx}},this.$1())};a.prototype.$1=function(){__p&&__p();return this.props.overlays.reduce(function(a,c){__p&&__p();if(this.props.heightPx===""||this.props.widthPx==="")return a;var d=parseInt(this.props.heightPx.replace("px",""),10),e=parseInt(this.props.widthPx.replace("px",""),10);if(c.__typename==="StoryOverlayPollSticker"){if(i.indexOf(c.style)===-1)return a;var f=c.poll,g=f.can_viewer_vote,h=f.viewer_vote_index,k=f.id;f=f.poll_options;f=f.map(function(a){return{voteCount:a.vote_count,text:a.text}});a.push(b("React").createElement(j,{key:"poll_"+c.poll.id,containerHeight:d,containerWidth:e,width:b("FBStoriesPollStickerConstants").DIMENSIONS.WIDTH,height:b("FBStoriesPollStickerConstants").DIMENSIONS.HEIGHT,bounds:c.voting_control_bounds},b("React").createElement(b("FBStoriesPollSticker.react"),{canViewerVote:g,viewerVoteIndex:h,isConsumer:this.props.isConsumer,pollId:k,pollOptions:f,onOptionVoted:this.$2,onMouseEnter:this.props.onInteractiveOverlayMouseEnter,onMouseLeave:this.props.onInteractiveOverlayMouseLeave,pollStyle:c.style})))}else if(c.__typename==="StoryOverlayExternalSong")a.push(b("React").createElement(b("FBStoriesExternalSong.react"),{key:"song",overlay:c,currentThreadID:this.props.currentThreadID}));else if(c.__typename==="StoryOverlayReactionSticker"){if(b("FBStoriesGatingConfig").canSeeInteractiveStickers){g=c.reaction_sticker.sticker_asset.sticker_animation_assets;a.push(b("React").createElement(j,{key:"reaction_"+c.reaction_sticker.id,containerHeight:d,containerWidth:e,height:b("FBStoriesReactionStickerConstants").DIMENSIONS.HEIGHT,width:b("FBStoriesReactionStickerConstants").DIMENSIONS.WIDTH,bounds:c.bounds},b("React").createElement(b("FBStoriesReactionSticker.react"),{id:c.reaction_sticker.id,animations:g,originalHeight:b("FBStoriesReactionStickerConstants").DIMENSIONS.HEIGHT,originalWidth:b("FBStoriesReactionStickerConstants").DIMENSIONS.WIDTH,onPauseThread:this.props.onInteractiveOverlayMouseEnter||b("emptyFunction"),onPlayThread:this.props.onInteractiveOverlayMouseLeave||b("emptyFunction"),onReactToSticker:this.$3})))}}else if(c.__typename==="StoryOverlayEventInfoBar"){h=b("gkx")("678356");if(h){k=c.event_id;f=c.event_info_bar_style;g=c.sticker_bounds;h=b("EventActionContext").addActionHistoryEntry(b("EventActionContext").getNewActionContext(),{surface:b("EventsActionsLogger").Surface.FACEBOOK_STORY,mechanism:b("EventsActionsLogger").Mechanism.EVENT_INFO_BAR,extra_data:JSON.stringify({action_button_type:f,event_id:k,story_id:this.props.currentThreadID,events_story_type:b("EventsLoggerActionEventStoryTypeEnum").PERSONAL})});f=g.height;var l=g.width,m=g.x,n=g.y;g=g.rotation;g={transform:"rotate("+g+"deg)"};a.push(b("React").createElement("div",{className:"_4xux",style:g},b("React").createElement("div",{style:{position:"absolute",width:e*l,height:d*f,top:n*100+"%",left:m*100+"%",pointerEvents:"all"}},b("React").createElement(b("EventInfoBarRenderer.react"),{eventID:k,actionContext:b("EventActionContext").toString(h),onPauseAnimation:this.props.onInteractiveOverlayMouseEnter,onStartAnimation:this.props.onInteractiveOverlayMouseLeave}))))}}else if(c.__typename==="StoryOverlayTagSticker"){g=b("gkx")("692141");if(g){l=c.bounds;f=c.tag_id;n=c.type;a.push(b("React").createElement(j,{containerHeight:d,containerWidth:e,height:l.height*d,width:l.width*e,bounds:l},b("React").createElement(b("FBStoriesTagSticker.react"),{tag_id:f,type:n,bounds:l,onPauseThread:this.props.onInteractiveOverlayMouseEnter||b("emptyFunction"),onPlayThread:this.props.onInteractiveOverlayMouseLeave||b("emptyFunction"),onReactToSticker:this.$3})))}}else if(c.__typename==="StoryOverlayResharedPost"&&b("gkx")("719196")){m=c.bounds;k=c.action_title;h=c.post_url;a.push(b("React").createElement(j,{key:"reshare_"+h,containerHeight:d,containerWidth:e,height:m.height*d,width:m.width*e,bounds:m},b("React").createElement(b("FBStoriesTagSticker.react"),{dialogBodyText:k,tag_url:h,bounds:m,onPauseThread:this.props.onInteractiveOverlayMouseEnter||b("emptyFunction"),onPlayThread:this.props.onInteractiveOverlayMouseLeave||b("emptyFunction")})))}return a}.bind(this),[])};a.prototype.$2=function(a,c){b("FBStoriesActions").onPollOptionVoted(a,c)};a.prototype.$3=function(a,c){b("FBStoriesActions").onReactToSticker(a,c)};function a(){h.apply(this,arguments)}var j=function(a){__p&&__p();var c=a.bounds,d=c.height,e=c.width,f=c.x,g=c.y;c=c.rotation;d=a.containerHeight*d;e=a.containerWidth*e;d=d/a.height;e=e/a.width;g=g*100;f=f*100;g={width:a.width+"px",height:a.height+"px",top:g+"%",left:f+"%",transform:"scaleY("+d+") scaleX("+e+")"};f={transform:"rotate("+c+"deg)"};return b("React").createElement("div",{className:"_4xuv",style:g},b("React").createElement("div",{className:"_4xux",style:f},a.children))};e.exports=a}),null);
__d("FBStoriesIntegrityContext.react",["ix","cx","Image.react","IntegrityContextEntryPointJSEnum","Link.react","React","XArticleContextMainDialogController","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props.integrityInfo;if(a&&a.object_id){a=b("XArticleContextMainDialogController").getURIBuilder().setFBID("share_id",a.object_id).setEnum("entry_type",b("IntegrityContextEntryPointJSEnum").STORIES_LEARN_MORE).getURI();return b("React").createElement(b("Link.react"),{onClick:this.props.onLinkClick,onMouseUp:function(a){return a.stopPropagation()},ajaxify:a,href:"#",rel:"dialog-post",className:"_2xoz"},b("React").createElement(b("Image.react"),{src:g("650443")}))}return null};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesLinkRenderer.react",["ix","cx","FBStoriesIntegrityContext.react","FBStoriesInteractiveLoggingHelper","FBStoryMetadataUtils","Image.react","LineClamp.react","Link.react","React","StoryFooterMetadataFromComposerType","asset","first"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=600,k=315,l=56;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){this.props.onLinkClick(a),this.$3("link")}.bind(this),this.$2=function(a){this.props.onLinkClick(a),this.$3("integrity_context")}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props.currentThreadData;if(a&&!a.isLive){var c=b("FBStoryMetadataUtils").getStoryFooterMetadataType(a.activityDescription,a.explicitLocation,a.inlineActivities,a.withTags);a=a.linkAttachment;if(a&&a.url){var d,e,f,h,i;i=((i=a)!=null?(i=i.title_with_entities)!=null?i.text:i:i)||"";h=((h=a)!=null?(h=h.animated_media)!=null?h.animated_image_attribution:h:h)||"";h=h||((h=a)!=null?(h=h.source)!=null?h.text:h:h)||"";var m=a.action_links||[];m=b("first")(m.filter(function(a){return a.__typename==="ArticleContextActionLink"&&a.object_id}));f=(f=a)!=null?(f=f.media)!=null?(f=f.small_image)!=null?f.uri:f:f:f;e=(e=a)!=null?(e=e.media)!=null?(e=e.image)!=null?e.width:e:e:e;d=(d=a)!=null?(d=d.media)!=null?(d=d.image)!=null?d.height:d:d:d;var n=null;f&&e&&d&&(e<j||d<k||c!==b("StoryFooterMetadataFromComposerType").NONE||this.props.isTextInMediaComponentOverflow)&&(n=b("React").createElement("div",{className:"_6z27"},b("React").createElement(b("Image.react"),{width:l,height:l,src:f})));return b("React").createElement("div",{className:"_68xc"},b("React").createElement(b("Link.react"),{onClick:this.$1,onMouseUp:function(a){return a.stopPropagation()},href:a.url,target:"_blank",className:"_3ddv"},n,b("React").createElement("div",{className:"_68xd"},b("React").createElement(b("LineClamp.react"),{lines:2,className:"_68xe"+(m!==null?" _6q76":"")},i),b("React").createElement("div",{className:"_68xf"},b("React").createElement(b("Image.react"),{className:"_15iz",src:g("533519")}),h))),b("React").createElement(b("FBStoriesIntegrityContext.react"),{onLinkClick:this.$2,integrityInfo:m}))}}return null};a.prototype.$3=function(a){this.props.currentThreadData&&!this.props.currentThreadData.isLive&&this.props.currentThreadData.threadID&&b("FBStoriesInteractiveLoggingHelper").logStoryInteractiveItemClick({item_type:a,thread_id:this.props.currentThreadData.threadID})};e.exports=a}),null);
__d("FBStoriesViewersAnchor.react",["ix","cx","fbt","Image.react","React","asset","emptyFunction","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$2=function(a){return this.$1=a}.bind(this),this.$3=function(){return this.$1}.bind(this),this.$4=function(a){a.stopPropagation();a.preventDefault();if(this.props.disabled)return;this.props.onClick()}.bind(this),b}a.prototype.render=function(){var a=this.props.totalViewers;if(a===0)return null;a=b("intlSummarizeNumber")(a);var c=this.props.color==="light"?g("380946"):g("404279");return b("React").createElement("div",{className:"_1w7c"+(this.props.color==="light"?" light":"")+(this.props.color==="dark"?" dark":"")+(this.props.disabled?" disabled":"")+(this.props.highlighted?" highlighted":""),ref:this.$2,onMouseDown:this.$4,onMouseUp:function(a){return a.stopPropagation()}},b("React").createElement(b("Image.react"),{src:c}),b("React").createElement("span",{className:"_2lc0"},this.props.showTotalViewerString?i._("Seen by {count}",[i._param("count",a)]):a))};a.defaultProps={onClick:b("emptyFunction"),color:"light",showTotalViewerString:!1,disabled:!1};e.exports=a}),null);
__d("FBStoriesResults.react",["cx","React","intlSummarizeNumber"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",{className:"_70p3"},a.options.map(function(a,c){return b("React").createElement("div",{className:"_70p4",key:c},b("React").createElement("div",{className:"_70p5"},b("intlSummarizeNumber")(a.count)),b("React").createElement("div",{className:"_70p6"},a.description))}))}e.exports=a}),null);
__d("FBStoryThreadViewersReactions.react",["cx","FBEmoji.react","FeedbackReactionType","React","UFIReactionIconImpl.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={SURPRISED:"\ud83d\ude2e",LAUGHING:"\ud83d\ude06",SAD:"\ud83d\ude22",RED_WITH_ANGER:"\ud83d\ude21",ANGRY:"\ud83d\ude20",THUMB_UP:"\ud83d\udc4d",RED_HEART:"\u2764\ufe0f",HEART:"\u2764"};function a(a){__p&&__p();if(!a.emojiUnicodes||a.emojiUnicodes.length==0)return null;var c=function(a,c){__p&&__p();var d=function(a){return b("React").createElement(b("UFIReactionIconImpl.react"),{className:"_6j3j _6j3k",key:c,reaction:a})};switch(a){case h.SURPRISED:return d(b("FeedbackReactionType").WOW);case h.LAUGHING:return d(b("FeedbackReactionType").HAHA);case h.RED_WITH_ANGER:case h.ANGRY:return d(b("FeedbackReactionType").ANGER);case h.SAD:return d(b("FeedbackReactionType").SORRY);case h.THUMB_UP:return d(b("FeedbackReactionType").LIKE);case h.RED_HEART:case h.HEART:return d(b("FeedbackReactionType").LOVE);default:return b("React").createElement(b("FBEmoji.react"),{className:"_6j3k",key:c,codepoints:[a],size:16})}};return b("React").createElement(b("React").Fragment,null,a.emojiUnicodes.map(c).slice(-6))}e.exports=a}),null);
__d("FBStorySidePaneUserList.react",["cx","FBStoriesGatingConfig","FBStoryThreadViewersReactions.react","Image.react","ProfileLink.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.data.map(function(a,c){return b("React").createElement("div",{key:a.id,className:"_2lc3"+(this.props.renderStatus?"":" inlineItem")},b("React").createElement(b("Image.react"),{src:(c=a)!=null?(c=c.profile_picture)!=null?c.uri:c:c,className:"_2lc4"}),b("React").createElement("div",{className:"_6iz1"},a.is_messenger_only?b("React").createElement("span",{className:"_2lc6"},a.name):b("React").createElement(b("ProfileLink.react"),{target:"_blank",uid:a.id},a.name),a.isNewViewer&&b("React").createElement(j,null),b("React").createElement("div",{className:"_6ix9"},b("React").createElement(i,{reactionStickers:a.reactionStickers}),b("FBStoriesGatingConfig").isLightweightReactionsViewerSheetEnabled&&b("React").createElement(b("FBStoryThreadViewersReactions.react"),{emojiUnicodes:a.reactions}))),this.props.renderStatus&&this.props.renderStatus(a.id))}.bind(this));return b("React").createElement("div",null,a,this.props.children)};function a(){h.apply(this,arguments)}var i=function(a){a=a.reactionStickers;return!a||a.length===0?null:a.map(function(a){var c=a.stickerID;a=a.imgURL;return b("React").createElement(b("Image.react"),{className:"_6w0i",key:c,src:a})})},j=function(a){return b("React").createElement("span",{className:"_2lc9"})};e.exports=a}),null);
__d("XEventMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/ajax/event_message/",{app_id:{type:"Int"},entry_point:{type:"String"},id:{type:"Int",required:!0},type:{type:"Int",required:!0},surface:{type:"String"},preselected_ids:{type:"FBIDVector"},post_id:{type:"FBID"},acontext:{type:"String"}})}),null);
__d("FBStoriesEventConnections.react",["ix","cx","EventActionContext","EventsActionsLogger","EventsRSVPStrings","FBStoriesResults.react","FBStoriesStrings","FBStorySidePaneUserList.react","FDSButton.react","FDSButtonGroup.react","Image.react","React","ShareDataType","XEventMessageController","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("EventsRSVPStrings").goingFBT,k=b("EventsRSVPStrings").interestedFBT,l=b("EventsRSVPStrings").messageFBT,m=b("FBStoriesStrings").friendsFBT;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.componentDidMount=function(){b("EventsActionsLogger").log(this.props.eventID,{type:b("EventsActionsLogger").Type.VIEW,target:b("EventsActionsLogger").Target.STORY_VIEWER_SHEET,acontext:b("EventActionContext").getFromString(this.props.actionContext)})};a.prototype.render=function(){__p&&__p();var a,c=this.props,d=c.eventID,e=c.eventInfoBar.responses_to_event;c=c.viewers;var f=(a=(a=e.find(function(a){return a.response==="GOING"}))==null?void 0:a.responders.edges)!=null?a:[],h=(e=(a=e.find(function(a){return a.response==="INTERESTED"}))==null?void 0:a.responders.edges)!=null?e:[];if(f.length===0&&h.length===0)return null;a=b("XEventMessageController").getURIBuilder().setInt("id",d).setInt("type",b("ShareDataType").FB_EVENT).setString("surface",b("EventsActionsLogger").Surface.FACEBOOK_STORY).setString("acontext",this.props.actionContext).getURI();return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FBStoriesResults.react"),{options:[{count:f.length,description:j},{count:h.length,description:k}]}),b("React").createElement(b("FDSButtonGroup.react"),{density:"flex"},b("React").createElement(b("FDSButton.react"),{style:{margin:"12px"},icon:b("React").createElement(b("Image.react"),{src:g("499159")}),label:l,maxWidth:2048,href:a,rel:"dialog",size:"medium",use:"default",onClick:function(){return b("EventsActionsLogger").log(this.props.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.MESSAGE_BUTTON,acontext:b("EventActionContext").getFromString(this.props.actionContext)})}.bind(this)})),b("React").createElement("div",{className:"_1w77"},m),b("React").createElement(b("FBStorySidePaneUserList.react"),{data:c.filter(function(a){return f.find(function(b){return b.node.id===a.id})}),renderStatus:function(a){return b("React").createElement("div",{className:"_70q4"},j)}}),b("React").createElement(b("FBStorySidePaneUserList.react"),{data:c.filter(function(a){return h.find(function(b){return b.node.id===a.id})}),renderStatus:function(a){return b("React").createElement("div",{className:"_70q4"},k)}}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesPollResults.react",["cx","fbt","React","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){if(!this.props.poll)return null;var a=this.props.poll.poll_options;a=a.map(function(a,c){return b("React").createElement("div",{className:"_4k6j",key:c},b("React").createElement("div",{className:"_4k6k"},b("intlSummarizeNumber")(a.vote_count)),b("React").createElement("div",{className:"_4k6l"},h._("Votes for {poll option title}",[h._param("poll option title",a.text.toUpperCase())])))});return b("React").createElement("div",{className:"_4k6i"},a)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBStorySidePaneSectionHeader.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_1w73"},this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBStorySidePaneSectionPadding.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_3res"})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBStoryThreadViewers.react",["ix","cx","CameraPostTypesHelper","EventActionContext","EventsActionsLogger","EventsLoggerActionEventStoryTypeEnum","FBStoriesEventConnections.react","FBStoriesPollResults.react","FBStoriesStrings","FBStoriesViewersAnchor.react","FBStorySidePaneSectionHeader.react","FBStorySidePaneSectionPadding.react","FBStorySidePaneUserList.react","Image.react","React","XUISpinner.react","asset","gkx","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBStoriesStrings").connectionsFBT,j=b("FBStoriesStrings").followersFBT,k=b("FBStoriesStrings").friendsFBT,l=b("FBStoriesStrings").messengerConnectionsFBT,m=b("FBStoriesStrings").newCountFBT,n=b("FBStoriesStrings").noFriendsViewedStoryFBT,o=b("FBStoriesStrings").othersFBT;function p(a,b){return!a||a.length===0?null:a.find(function(a){return a.__typename===b})}function q(a){a=p(a,"StoryOverlayPollSticker");return a!=null&&a.__typename==="StoryOverlayPollSticker"?a:null}function r(a){a=p(a,"StoryOverlayEventInfoBar");return a!=null&&a.__typename==="StoryOverlayEventInfoBar"?a:null}a=function(a){__p&&__p();var c,d=a.viewers,e=d.totalCount,f=d.totalNew,g=d.friends,h=d.connections,j=d.nonFriendsCount;d=d.hasNewViewers;var k=a.cameraPostType;if(e===0)return b("React").createElement("div",null,b("React").createElement(b("XUISpinner.react"),{background:"light",className:"_1v68",size:"small"}));var n=b("gkx")("678253")&&h.length>0,o=j>0;c=(c=q(a.threadOverlays))==null?void 0:c.poll;var p=r(a.threadOverlays);e=b("React").createElement(b("FBStorySidePaneSectionHeader.react"),null,b("React").createElement(b("FBStoriesViewersAnchor.react"),{totalViewers:e,highlighted:!1,color:"dark",showTotalViewerString:!0}),d&&b("React").createElement("div",{className:"_1wbm"},m(f)));d=b("gkx")("709977");f=d&&p!=null?b("React").createElement(b("FBStoriesEventConnections.react"),{actionContext:b("EventActionContext").toString(b("EventActionContext").addActionHistoryEntry(b("EventActionContext").getNewActionContext(),{surface:b("EventsActionsLogger").Surface.FACEBOOK_STORY,mechanism:b("EventsActionsLogger").Mechanism.EVENT_INFO_BAR,extra_data:JSON.stringify({action_button_type:p.event_info_bar_style,event_id:p.event_id,story_id:a.threadID,events_story_type:b("EventsLoggerActionEventStoryTypeEnum").PERSONAL})})),eventID:p.event_id,eventInfoBar:p.event_info_bar,viewers:g}):null;d=n?b("React").createElement("div",{className:"_1w77"},i):o?b("React").createElement(b("FBStorySidePaneSectionPadding.react"),null):null;a=b("React").createElement(b("FBStorySidePaneUserList.react"),{data:h,renderStatus:u(c)},o&&b("React").createElement(t,{nonFriendsCount:j,isMultiAuthor:b("CameraPostTypesHelper").isMultiAuthor(k)}));p=n&&b("React").createElement("div",{className:"_1w74"},l);h=b("React").createElement(b("React").Fragment,null,d,a,p);return b("React").createElement("div",{className:"_434n"},e,b("React").createElement("div",{className:"_434o"},b("React").createElement("div",{className:"_1w76"},f),b("React").createElement("div",{className:"_1w76"},b("React").createElement(s,{friendsData:g,poll:c}),h)))};var s=function(a){var c=b("React").createElement("div",{className:"_1w77"},k);return a.friendsData.length===0?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FBStoriesPollResults.react"),{poll:a.poll}),c,b("React").createElement("div",{key:"fnull",className:"_2lc3"},b("React").createElement("div",{className:"_2flc"},b("React").createElement(b("Image.react"),{src:g("359067")})),b("React").createElement("span",{className:"_2fld"},n))):b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FBStoriesPollResults.react"),{poll:a.poll}),c,b("React").createElement(b("FBStorySidePaneUserList.react"),{key:"fs",data:a.friendsData,renderStatus:u(a.poll)}))},t=function(a){var c=a.isMultiAuthor?o:j;a=b("intlSummarizeNumber")(a.nonFriendsCount);return b("React").createElement("div",{className:"_2lc3"},b("React").createElement("div",{className:"_1wbp"},a),b("React").createElement("span",{className:"_1wbo"},c))},u=function(a){return a?function(c){var d=a.poll_options.find(function(a){a=a==null?void 0:(a=a.voters)==null?void 0:a.nodes;return a!=null&&a.find(function(a){return a.id===c})});return d?b("React").createElement("div",{className:"_70q4"},d.text.toUpperCase()):null}:null};e.exports=a}),null);
__d("XReactSproutComposerShareMediaFromArchiveDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/share_from_archive/dialog/",{extraConfig:{type:"StringToStringMap"},loggingName:{type:"Enum",enumType:1},taggerType:{type:"Enum",enumType:1},archivedStoryCardIDs:{type:"FBIDSet"},__asyncDialog:{type:"Int"}})}),null);
__d("FBStoryArchivedCardView.react",["ix","cx","fbt","invariant","ActorURI","CameraPostDeletedToast.react","CameraPostMedia.react","CameraPostMediaHelper","CameraPostOwnerView.react","CameraPostReportButton.react","ComposerEntryPointRef","CurrentUser","Event","FBStoriesArchiveLoggingHelper","FBStoriesDeleteConfirmationDialog.react","FBStoriesFooterMetadataRenderer.react","FBStoriesGraphQLAPI","FBStoriesInteractiveFeedbackOverlay.react","FBStoriesLinkRenderer.react","FBStoriesNavigationDirection","FBStoriesThreadNavigationButton.react","FBStoriesViewersAnchor.react","FBStoryThreadViewers.react","Image.react","ImagePositioner.react","Keys","Locale","React","ReactComposerAttachmentType","ReactCSSTransitionGroup","ReactMenu","ShimButton.react","StoryOwnerType","Visibility","XPagesComposerDialogController","XReactSproutComposerShareMediaFromArchiveDialogController","XUIButton.react","asset","clearTimeout","createCancelableFunction","emptyFunction","setTimeout","SegmentedProgressBar.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("ReactMenu").Item,m={enter:"_1gs8",enterActive:"_1gs9",leave:"_1gsa",leaveActive:"_1gsc"},n=1e3,o=200,p=200,q=200,r=500,s=500,t={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"};c=babelHelpers.inherits(a,b("React").Component);k=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.$2=[],this.state={isPaused:!1,isShowingDeletedToast:!1,isViewersPanelShown:!1,showPausedOverlay:!1,showStoryUI:!0,isDeleteConfirmationDialogShown:!1,navDirectionOnClick:b("FBStoriesNavigationDirection").STAY_HERE},this.$11=!1,this.$34=function(a){this.setState({navDirectionOnClick:a})}.bind(this),this.$35=function(){this.props.onNextThread()}.bind(this),this.$33=function(){this.props.onPrevThread()}.bind(this),this.$17=function(a){a!==this.$5&&(a&&(b("Event").listen(a,"keydown",function(a){return this.$40(a)}.bind(this),b("Event").Priority.URGENT),b("Event").listen(a,"keyup",function(a){return this.$41(a)}.bind(this),b("Event").Priority.URGENT),a.focus())),this.$5=a}.bind(this),this.$37=function(a){this.$13(!1,!0);a.stopPropagation();a=this.props.cardID;if(!a)return;b("FBStoriesArchiveLoggingHelper").openMediaInComposerLog(a,this.props.mediaID)}.bind(this),this.$20=function(){this.$13(!1,!0),this.$7=!0}.bind(this),this.$21=function(){!this.$6&&!this.state.isViewersPanelShown&&this.$14(),this.$6=!1,this.$7=!1}.bind(this),this.$22=function(){this.$6=!0,this.$13(!1,!1)}.bind(this),this.$23=function(){if(this.state.isPaused)return;this.$13(!1,!0)}.bind(this),this.$42=function(){var a=!this.state.isViewersPanelShown;this.setState(function(a){return{isViewersPanelShown:!a.isViewersPanelShown}});a&&this.$16();this.$7||(a?this.$13(!1,!0):this.$14())}.bind(this),this.$28=function(){this.setState({isViewersPanelShown:!1}),this.$7||this.$13(!1,!0)}.bind(this),this.$29=function(a){this.$7||this.$13(!1,!0),a.stopPropagation()}.bind(this),this.$18=function(){this.setState({isDeleteConfirmationDialogShown:!0})}.bind(this),this.$39=function(){this.setState({isDeleteConfirmationDialogShown:!1})}.bind(this),this.$38=function(){this.setState({isDeleteConfirmationDialogShown:!1}),this.$43()}.bind(this),this.$31=function(){this.$35()}.bind(this),this.$46=b("createCancelableFunction")(function(a,c){this.setState({isShowingDeletedToast:!1}),c&&(this.$10=b("setTimeout")(function(){this.$10=void 0,c&&c()}.bind(this),a))}.bind(this)),this.$45=b("createCancelableFunction")(function(a,c,d){this.setState({isShowingDeletedToast:!0},function(){this.$9=b("setTimeout")(function(){this.$9=void 0,this.$46(c,d)}.bind(this),a)}.bind(this))}.bind(this)),this.$30=function(a){this.state.isPaused?this.$14():this.$13(!1,!0)}.bind(this),this.$24=function(a){b("clearTimeout")(this.$4),this.$4=b("setTimeout")(function(){if(this.state.isPaused)return;this.$13(!0,!1)}.bind(this),r)}.bind(this),this.$25=function(a){b("clearTimeout")(this.$4);if(a.target.tagName==="INPUT")return;if(this.state.isPaused)this.$14();else if(a.target.className!=="_ide")return}.bind(this),this.$26=function(a){this.$1=a.target}.bind(this),this.$27=function(a){this.state.isPaused&&this.setState({showPausedOverlay:!0})}.bind(this),c}a.prototype.$12=function(){var a=this.props.currentThreadData;if(!a)return;this.setState({isPaused:!1,showStoryUI:!0,showPausedOverlay:!1})};a.prototype.componentDidMount=function(){this.$2=[b("Visibility").addListener(b("Visibility").HIDDEN,function(){if(this.state.isPaused){this.$11=!1;return}this.$11=!0;this.$13(!1,!0)}.bind(this)),b("Visibility").addListener(b("Visibility").VISIBLE,function(){this.$11&&this.$14()}.bind(this))],b("FBStoriesArchiveLoggingHelper").openMediaLog(this.props.storyID,this.props.mediaID)};a.prototype.componentDidUpdate=function(a,b){b.isViewersPanelShown===!0&&this.state.isViewersPanelShown===!1&&this.$15()};a.prototype.$16=function(){b("FBStoriesArchiveLoggingHelper").openSeenSummaryLog(this.props.storyID,this.props.mediaID)};a.prototype.render=function(){__p&&__p();var a="_4tkv _24o3",c=b("CurrentUser").getID(),d=this.props.currentThreadData;if(!d)return b("React").createElement("div",{id:"fbStoryContainer",role:"tabpanel",tabIndex:-1,ref:this.$17,className:a});var e=d.media,f=d.cameraPostType,h=b("CameraPostMediaHelper").getType(e),j=b("CameraPostMediaHelper").getWidth(e),k=b("CameraPostMediaHelper").getHeight(e),n=b("CameraPostMediaHelper").isSphericalPhoto(e),r,s,u,v="",w,x,y,z={},A,B,C;if(!d.isLive){var D=d.time,E=d.participants,F=d.bucketOwner,G=d.threadOwner,H=d.cameraPostSource,I=d.wwwTextFormatMetadata,J=d.textFormatMetadata,K=d.instagramProfileURL,L=d.originalPostStoryAttribution,M=d.withTags,N=d.inlineActivities,O=d.explicitLocation,P=d.activityDescription;u=d.threadID;v=d.messageText;w=d.isPlainText;x=d.backdropImage;y=d.defaultBackground;B=d.linkAttachment;C=d.mediaBackground;s={rootMessageText:v,wwwTextFormatMetadata:I,textFormatMetadata:J};z={withTags:M,inlineActivities:N,explicitLocation:O,activityDescription:P};d=[];d.push(b("React").createElement(l,{disabled:!1,onClick:this.$18,key:"delete_own_thread"},b("React").createElement(b("Image.react"),{src:g("483828")}),this.$19(h)));A=b("React").createElement("span",null,b("React").createElement(b("SegmentedProgressBar.react"),{paused:this.state.isPaused,currentSegmentIndex:this.props.currentStoryCardIndex,currentSegmentPercentComplete:this.props.currentThreadPercentDone,segmentCount:this.props.threadsCount}),b("React").createElement(b("CameraPostReportButton.react"),{canReportThreadToFacebook:!1,threadID:u,onPopoverShow:this.$20,onPopoverHide:this.$21,onPopoverItemClick:this.$22,onPopoverItemFocus:this.$23},d));r=b("React").createElement(b("CameraPostOwnerView.react"),{cameraPostType:f,cameraPostSource:H,isSphericalPhoto:n,participants:E,bucketOwner:F,threadID:u,threadOwner:G,time:D,instagramProfileURL:K,originalPostStoryAttribution:L})}I=200;J=this.state.showPausedOverlay&&!n?b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:t,transitionEnterTimeout:I,transitionLeaveTimeout:I},b("React").createElement(b("ShimButton.react"),{"aria-label":i._("Play"),className:"_ida",onMouseDown:this.$24,onMouseUp:this.$25,onKeyPress:this.$25,tabIndex:0},b("React").createElement("span",{className:"_idd"}))):null;M=b("CameraPostMedia.react").getMediaSizeBasedOnWindow();N=b("React").createElement("span",null,b("React").createElement("div",{id:"fbStoryContainer",role:"tabpanel",ref:this.$17,tabIndex:0,className:a,onFocus:this.$26,onMouseOut:this.$27,onMouseMove:function(){}},b("React").createElement("div",{className:"_24o4",key:u},b("React").createElement(b("CameraPostMedia.react"),{forceHD:!0,backdropImage:x,linkAttachment:B,mediaBackground:C,defaultBackground:y,storyMetadata:z,openWithSidePanel:this.$28,onLinkClick:this.$29,media:e,loop:!1,paused:this.state.isPaused,onTimeUpdate:this.props.onTimeUpdate,onMouseDown:n?null:this.$24,onMouseUp:n?null:this.$25,onClick:n?this.$30:null,onDone:this.$31,onMuteMouseUp:function(){},isBucketLive:!1,isMediaMuted:!1,cameraPostType:f,userID:c,threadID:u,showMuteButton:!1,satpData:s,messageText:v,isPlainText:w,onVideoPaused:function(){this.state.isPaused||this.$13(!1,!0)}.bind(this)},b("React").createElement(b("ReactCSSTransitionGroup"),{className:"_2up9",transitionName:t,transitionEnterTimeout:p,transitionLeaveTimeout:q},this.$32())),J,b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:t,transitionEnterTimeout:p,transitionLeaveTimeout:q},this.state.showStoryUI&&r,b("React").createElement(b("FBStoriesThreadNavigationButton.react"),{allowedNavType:this.props.allowedNavType,direction:b("FBStoriesNavigationDirection").PREV,enableNavigation:this.props.enableNavigation,navDirectionOnClick:this.state.navDirectionOnClick,directionChange:this.$33,showPausedOverlay:this.state.showPausedOverlay,showStoryUI:this.state.showStoryUI,setNavDirection:this.$34,rootElem:this.$5}),b("React").createElement(b("FBStoriesThreadNavigationButton.react"),{allowedNavType:this.props.allowedNavType,direction:b("FBStoriesNavigationDirection").NEXT,enableNavigation:this.props.enableNavigation,navDirectionOnClick:this.state.navDirectionOnClick,directionChange:this.$35,showPausedOverlay:this.state.showPausedOverlay,showStoryUI:this.state.showStoryUI,setNavDirection:this.$34,rootElem:this.$5})),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:t,transitionEnterTimeout:p,transitionLeaveTimeout:q}),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:m,transitionEnterTimeout:o,transitionLeaveTimeout:o},b("React").createElement(b("CameraPostDeletedToast.react"),{key:this.state.isShowingDeletedToast,visible:this.state.isShowingDeletedToast}))),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:t,transitionEnterTimeout:p,transitionLeaveTimeout:q},b("React").createElement("div",null,this.state.showStoryUI&&A)),b("React").createElement("div",{className:"_2n_t"},b("React").createElement(b("XUIButton.react"),{className:"_2n_u",image:b("React").createElement(b("Image.react"),{src:g("372092")}),label:i._("Share"),href:this.$36(this.props.cardID,this.props.ownerID,this.props.storyOwnerType),onClick:this.$37,rel:"dialog-post"})),b("React").createElement(b("ImagePositioner.react"),{backgroundSize:"fitWidth",width:M.width,height:M.height,imageWidth:j,imageHeight:k},function(a){var c=a.top,d=a.left,e=a.width;a=a.height;return b("React").createElement(b("FBStoriesInteractiveFeedbackOverlay.react"),{currentThreadID:u,topPx:c,leftPx:d,widthPx:e,heightPx:a,overlays:this.props.threadOverlays,isConsumer:!1})}.bind(this))),b("React").createElement(b("FBStoriesDeleteConfirmationDialog.react"),{confirmAction:this.$38,hideAction:this.$39,mediaType:h,shown:this.state.isDeleteConfirmationDialogShown}));O=null;this.state.isViewersPanelShown&&(O=b("React").createElement("div",{className:"_115r _397_"},b("React").createElement(b("FBStoryThreadViewers.react"),{threadID:u,viewers:this.props.threadViewers,threadOverlays:this.props.threadOverlays,cameraPostType:f})));return O?b("React").createElement("div",{className:"_115q"},b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:t,transitionEnterTimeout:p,transitionLeaveTimeout:q},O),N):N};a.prototype.$15=function(){this.props.storyID&&b("FBStoriesGraphQLAPI").updateStorySeenReciept(this.props.storyID)};a.prototype.$43=function(){this.$13(!1,!1);var a=function(){var a=this.props.cardID;this.$14();a&&this.props.onDeleteCurrentThread()}.bind(this);this.$44(a)};a.prototype.$44=function(a){this.$45(n,o,a)};a.prototype.$40=function(a){if(a.getModifiers().any||a.target!==this.$5||!this.props.enableNavigation)return!0;a=b("Event").getKeyCode(a);switch(a){case b("Keys").LEFT:b("Locale").isRTL()?this.$35():this.$33();return!1;case b("Keys").RIGHT:b("Locale").isRTL()?this.$33():this.$35();return!1;default:return null}};a.prototype.$41=function(a){__p&&__p();if(a.getModifiers().any||a.target!==this.$5)return!0;var c=b("Event").getKeyCode(a);switch(c){case b("Keys").SPACE:if(this.$7||this.state.isViewersPanelShown)return!1;!this.state.isPaused?this.$13(!1,!0):this.$14();a.preventDefault();a.stopImmediatePropagation();return!1;default:return null}};a.prototype.$13=function(a,c){this.setState({isPaused:!0,showStoryUI:!0,showPausedOverlay:c}),a&&(b("clearTimeout")(this.$3),this.$3=b("setTimeout")(function(){this.setState({showStoryUI:!1})}.bind(this),s))};a.prototype.$14=function(){b("clearTimeout")(this.$4),b("clearTimeout")(this.$3),this.setState({isPaused:!1,showPausedOverlay:!1,showStoryUI:!0,isViewersPanelShown:!1})};a.prototype.$36=function(a,c,d){switch(d){case b("StoryOwnerType").PAGE:c!==null&&c!==void 0||j(0,13388);return b("ActorURI").create(b("XPagesComposerDialogController").getURIBuilder().setString("entry_point",b("ComposerEntryPointRef").PAGES_ARCHIVED_STORY_CARD_VIEWER).setEnum("open_composer",b("ReactComposerAttachmentType").MEDIA).setFBID("archived_story_card_id",a).getURI(),c);default:return b("XReactSproutComposerShareMediaFromArchiveDialogController").getURIBuilder().setFBIDSet("archivedStoryCardIDs",[a]).getURI()}};a.prototype.$19=function(a){a=a||"";switch(a.toUpperCase()){case"PHOTO":return i._("Delete photo");case"VIDEO":return i._("Delete video");default:return i._("Delete")}};a.prototype.$32=function(){var a=b("React").createElement(b("FBStoriesViewersAnchor.react"),{totalViewers:this.props.threadViewers.totalCount,highlighted:this.props.threadViewers.hasNewViewers,onClick:this.$42,disabled:!1,color:"light"});return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FBStoriesFooterMetadataRenderer.react"),{currentThreadData:this.props.currentThreadData,openWithSidePanel:this.$28,onLinkClick:this.$29}),b("React").createElement(b("FBStoriesLinkRenderer.react"),{currentThreadData:this.props.currentThreadData,onLinkClick:this.$29}),b("React").createElement("div",{className:"_2upa"},a))};a.prototype.componentWillUnmount=function(){this.$14(),this.$2.forEach(function(a){return a.remove()}),this.$2=[],this.state.isViewersPanelShown===!0&&this.$15(),this.$45.cancel(),this.$46.cancel(),[this.$8,this.$9,this.$10].forEach(function(a){a&&b("clearTimeout")(a)})};a.defaultProps={allowedNavType:"NEXT_ONLY",cardID:null,isLandscape:!1,currentStoryCardIndex:0,currentThreadData:null,currentThreadPercentDone:0,enableNavigation:!1,threadOverlays:[],onDone:b("emptyFunction"),onDeleteCurrentThread:b("emptyFunction"),onNextThread:b("emptyFunction"),onPrevThread:b("emptyFunction"),onTimeUpdate:function(a){}};e.exports=a}),null);
__d("PagesSharingDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("PagesStoryArchiveActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({FETCH_STORY_ARCHIVE_DATA:null,LOAD_STORY_ARCHIVE_DATA_SUCCESS:null,SAVE_STORY_ARCHIVE_SETTINGS_CLICK:null,SAVE_STORY_ARCHIVE_SETTINGS_SUCCESS:null,TOGGLE_STORY_ARCHIVE_SETTINGS_DIALOG:null},"PagesStoryArchiveActionTypes");e.exports=a}),null);
__d("PagesStoryArchiveActions",["PagesSharingDispatcher","PagesStoryArchiveActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){b("PagesSharingDispatcher").dispatch({type:b("PagesStoryArchiveActionTypes").FETCH_STORY_ARCHIVE_DATA})};c=function(a){b("PagesSharingDispatcher").dispatch({pagesStoryArchiveData:a,type:b("PagesStoryArchiveActionTypes").LOAD_STORY_ARCHIVE_DATA_SUCCESS})};d=function(a){b("PagesSharingDispatcher").dispatch({pagesStoryArchiveData:a,type:b("PagesStoryArchiveActionTypes").SAVE_STORY_ARCHIVE_SETTINGS_SUCCESS})};f=function(){b("PagesSharingDispatcher").dispatch({type:b("PagesStoryArchiveActionTypes").SAVE_STORY_ARCHIVE_SETTINGS_CLICK})};var g=function(a){b("PagesSharingDispatcher").dispatch({isShown:a,type:b("PagesStoryArchiveActionTypes").TOGGLE_STORY_ARCHIVE_SETTINGS_DIALOG})};e.exports={fetchStoryArchiveData:a,handleStoryArchiveDataLoadSuccess:c,handleStoryArchiveSettingsSaveSuccess:d,handleStoryArchiveSettingsSaveClick:f,toggleStoryArchiveSettingsDialog:g}}),null);
__d("PagesStoryArchiveCardViewerQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2116326418446703"};c.getQueryID=function(){"use strict";return"771906856509019"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("XFetchPagesStoryArchiveDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/sharing/story/fetch_pages_story_archive_data/",{cursor:{type:"String"},page_id:{type:"FBID",required:!0},saving_mode:{type:"Enum",enumType:1}})}),null);
__d("PagesStoryArchiveDataLoader",["AsyncRequest","PagesStoryArchiveActions","PagesStoryArchiveCardViewerQueryWebGraphQLQuery","WebGraphQL","XFetchPagesStoryArchiveDataController","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesStoryArchiveActions").fetchStoryArchiveData,h=b("PagesStoryArchiveActions").handleStoryArchiveDataLoadSuccess,i=b("PagesStoryArchiveActions").handleStoryArchiveSettingsSaveSuccess,j=500;a=function(a,c){g();a=b("XFetchPagesStoryArchiveDataController").getURIBuilder().setFBID("page_id",a).setString("cursor",c).getURI();new(b("AsyncRequest"))(a).setHandler(function(a){var d=c!==null?j:0;b("setTimeout")(function(){h(a.payload)},d)}).setErrorHandler(function(a){}).send()};c=function(a,c){a=b("XFetchPagesStoryArchiveDataController").getURIBuilder().setFBID("page_id",a).setEnum("saving_mode",c).getURI();new(b("AsyncRequest"))(a).setHandler(function(a){i(a.payload)}).setErrorHandler(function(a){}).send()};d=function(a,c,d,e,f){return b("WebGraphQL").exec(new(b("PagesStoryArchiveCardViewerQueryWebGraphQLQuery"))({page_id:a,current_id:c,current_time:d,lower_bound_time:e,upper_bound_time:f}))};e.exports={loadPagesStoryArchiveData:a,saveAndReloadPagesStoryArchiveData:c,loadArchivedCardsData:d}}),null);
__d("FBStoryArchivedCardViewContainer.react",["cx","invariant","CameraPostGraphQLAPI","CurrentUser","ErrorBoundary.react","FBStoriesArchiveLoggingHelper","FBStoriesGraphQLAPI","FBStoriesStoryCardHelper","FBStoryArchivedCardView.react","PagesStoryArchiveDataLoader","React","StoryOwnerType","XUISpinner.react","formatDate","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={allStoryCards:[],allowedNavType:"NEXT_ONLY",currentStoryCardIndex:0,currentThreadData:null,currentThreadPercentDone:0,enableNavigation:!1,friendsSeenCount:0,isLandscape:!1,isLoaded:!1,nonFriendsSeenCount:0,threadsCount:1,threadOverlays:[],threadViewers:{hasNewViewers:!1,friends:[],connections:[],nonFriendsCount:0,totalCount:0,totalNew:0}},this.$4=function(){__p&&__p();var a=this.state.currentStoryCardIndex,c=this.state.allStoryCards;if(!c)return;var d=this.$12();if(!d)return;c.splice(a,1);var e=a===this.state.threadsCount-1;c.length===0||e?this.props.onHide&&this.props.onHide():this.setState({currentStoryCardIndex:a-1,enableNavigation:c.length>1,threadsCount:c.length},function(){c.length>1&&this.$5()}.bind(this));b("FBStoriesGraphQLAPI").deleteArchivedStoryCard(b("CurrentUser").getID(),d);b("FBStoriesArchiveLoggingHelper").deleteStoryCardLog(this.props.storyID,this.props.mediaID);this.props.onDeleted&&this.props.onDeleted()}.bind(this),this.$7=function(a){a=Math.min(100,Math.max(a,0));this.setState({currentThreadPercentDone:a});a===100&&!this.state.enableNavigation&&(this.props.onHide&&this.props.onHide())}.bind(this),this.$5=function(){if(this.state.allowedNavType==="PREV_ONLY"){this.props.onHide&&this.props.onHide();return}var a=this.state.currentStoryCardIndex+1;a<=this.state.threadsCount-1&&this.setState({currentStoryCardIndex:a,currentThreadPercentDone:0},function(){this.$9()}.bind(this))}.bind(this),this.$6=function(){if(this.state.allowedNavType==="NEXT_ONLY")return;var a=this.state.currentStoryCardIndex-1;a>=0&&this.setState({currentStoryCardIndex:a,currentThreadPercentDone:0},function(){this.$9()}.bind(this))}.bind(this),c}a.prototype.componentDidMount=function(){__p&&__p();var a=new Date(this.props.currentTime),c=a.toISOString().substring(0,19),d=b("formatDate")(a,"Y-m-d",{skipPatternLocalization:!0});a=b("formatDate")(new Date(a.setDate(a.getDate()+1)),"Y-m-d",{skipPatternLocalization:!0});switch(this.props.storyOwnerType){case b("StoryOwnerType").PAGE:this.props.ownerID!==null&&this.props.ownerID!==void 0||h(0,13388);b("promiseDone")(b("PagesStoryArchiveDataLoader").loadArchivedCardsData(this.props.ownerID,this.props.storyID,c,d,a),function(a){return this.$1(a)}.bind(this),function(a){return this.$2(a)}.bind(this));break;default:b("promiseDone")(b("FBStoriesGraphQLAPI").loadArchivedCardsData(this.props.storyID,c,d,a),function(a){return this.$3(a)}.bind(this),function(a){return this.$2(a)}.bind(this));break}};a.prototype.render=function(){return!this.state.isLoaded?b("React").createElement(b("XUISpinner.react"),{className:"_3-90",size:"large"}):b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("FBStoryArchivedCardView.react"),babelHelpers["extends"]({},this.props,this.state,{onDeleteCurrentThread:this.$4,onNextThread:this.$5,onPrevThread:this.$6,onTimeUpdate:this.$7})))};a.prototype.$3=function(a){__p&&__p();var b,c;c=(c=a)!=null?(c=c.viewer)!=null?(c=c.stories_data)!=null?(c=c.story_archive)!=null?(c=c.currentCard)!=null?c.edges:c:c:c:c:c;c=c?c.map(function(a){return a.node}):[];b=(b=a)!=null?(b=b.viewer)!=null?(b=b.stories_data)!=null?(b=b.story_archive)!=null?(b=b.afterCards)!=null?b.edges:b:b:b:b:b;b=b?b.map(function(a){return a.node}).filter(function(a){return a&&a.id!==this.props.storyID}.bind(this)):[];a=(a=a)!=null?(a=a.viewer)!=null?(a=a.stories_data)!=null?(a=a.story_archive)!=null?(a=a.beforeCards)!=null?a.edges:a:a:a:a:a;a=a?a.map(function(a){return a.node}).filter(function(a){return a&&a.id!==this.props.storyID}.bind(this)):[];a=a.reverse();this.$8(a,c,b)};a.prototype.$1=function(a){__p&&__p();var b,c;c=(c=a)!=null?(c=c.page)!=null?(c=c.page_story_archive)!=null?(c=c.currentCard)!=null?c.edges:c:c:c:c;c=c?c.map(function(a){return a.node}):[];b=(b=a)!=null?(b=b.page)!=null?(b=b.page_story_archive)!=null?(b=b.afterCards)!=null?b.edges:b:b:b:b;b=b?b.map(function(a){return a.node}).filter(function(a){return a&&a.id!==this.props.storyID}.bind(this)):[];b=b.reverse();a=(a=a)!=null?(a=a.page)!=null?(a=a.page_story_archive)!=null?(a=a.beforeCards)!=null?a.edges:a:a:a:a;a=a?a.map(function(a){return a.node}).filter(function(a){return a&&a.id!==this.props.storyID}.bind(this)):[];this.$8(b,c,a)};a.prototype.$8=function(a,b,c){a=a.concat(b,c);b=a?a.findIndex(function(a){return a&&a.id===this.props.storyID}.bind(this)):0;c=a.length;this.setState({threadsCount:c,allStoryCards:a,currentStoryCardIndex:b,enableNavigation:a.length>1});this.$9();this.$10()};a.prototype.$9=function(){var a=this.state.currentStoryCardIndex,c=this.state.threadsCount,d=this.$11();if(!d)return;var e=b("FBStoriesStoryCardHelper").getCurrentCardData(d,d.id),f=b("FBStoriesStoryCardHelper").getThreadViewers(d,!0),g=b("FBStoriesStoryCardHelper").getStoryOverlays(d),h=b("FBStoriesStoryCardHelper").getNonFriendsSeenCount(d),i=b("FBStoriesStoryCardHelper").getNonFriendsSeenCount(d);d=b("FBStoriesStoryCardHelper").isLandscape(d);a=b("FBStoriesStoryCardHelper").getAllowedNavigationType(a,c);this.setState({allowedNavType:a,currentThreadData:e,threadViewers:f,threadOverlays:g,nonFriendsSeenCount:h,friendsSeenCount:i,isLandscape:d,isLoaded:!0})};a.prototype.$12=function(){var a=this.state.currentStoryCardIndex,b=this.state.allStoryCards;if(!b)return null;b=b[a];return(a=b)!=null?a.id:a};a.prototype.$11=function(){var a=this.state.allStoryCards;if(!a)return null;var b=this.state.currentStoryCardIndex;return a[b]};a.prototype.$10=function(){__p&&__p();var a=this.$11();if(!a)return;Object.assign(a,{isCardViewed:!0});a=this.$12();var c=this.state.currentThreadData;if(!c||c.isLive)return;var d=c.latestMessageID;c=c.cameraPostType;a&&b("CameraPostGraphQLAPI").markThreadSeen(b("CurrentUser").getID(),a,d,c,void 0,a);this.props.onResetUnseenStory&&this.props.onResetUnseenStory()};a.prototype.$2=function(a){};e.exports=a}),null);
__d("ManagedSpotlightViewer",["DOM","React","ReactDOM","SpotlightViewer","SpotlightViewerClose","ge"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={ref:null,bootstrap:function(a){var c=a.wrappedComponent;a=a.props;c=b("React").createElement(c,babelHelpers["extends"]({},a,{ref:function(a){this.ref=a}.bind(this)}));this.renderComponent(c)},renderComponent:function(a){var c=!1,d=function(){this.ref&&Object.prototype.hasOwnProperty.call(this.ref,"logSpotlightHide")&&!c&&(this.ref.logSpotlightHide(),c=!0),b("ReactDOM").unmountComponentAtNode(e),document.body&&e.parentNode===document.body&&document.body.removeChild(e)}.bind(this),e=b("ge")("spotlight_viewer_container");e||(e=b("DOM").create("div",{id:"spotlight_viewer_container"}),document.body&&document.body.appendChild(e));a=b("React").cloneElement(a,{onHide:d});d=b("React").createElement(b("SpotlightViewer"),{open:!0,onHide:d},b("React").createElement(b("SpotlightViewerClose"),{isFixed:!0,position:"right",onClick:d}),a);b("ReactDOM").render(d,e)}}}),null);
__d("ArchivedStoryCard.react",["ix","cx","fbt","Event","FBStoriesArchiveLoggingHelper","FBStoriesQPLUtils","FBStoryArchivedCardViewContainer.react","FDSButton.react","Image.react","ManagedSpotlightViewer","React","ShimButton.react","StoriesArchiveQuickLogModule","StoryOwnerType","Timestamp.react","XReactSproutComposerShareMediaFromArchiveDialogController","asset","formatDate"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={deleted:!1,unseenStoryReset:!1},this.$1=function(){var a=this.props.storyID;if(!a)return;b("FBStoriesArchiveLoggingHelper").selectMediaLog(this.props.id,this.props.mediaID);a=b("React").createElement(b("FBStoryArchivedCardViewContainer.react"),{cardID:this.props.id,currentTime:this.props.creationTime,mediaID:this.props.mediaID,onDeleted:this.$2,onResetUnseenStory:this.$3,ownerID:this.props.ownerID,storyID:a,storyOwnerType:this.props.storyOwnerType});b("ManagedSpotlightViewer").renderComponent(a)}.bind(this),this.$2=function(){this.setState({deleted:!0})}.bind(this),this.$4=function(a){b("Event").stop(a),b("FBStoriesArchiveLoggingHelper").openMediaInComposerLog(this.props.id,this.props.mediaID)}.bind(this),this.$3=function(){this.setState({unseenStoryReset:!0})}.bind(this),c}a.prototype.componentDidMount=function(){try{b("FBStoriesQPLUtils").end({qplMarker:b("StoriesArchiveQuickLogModule").ARCHIVE_GRID_TTI_WWW})}catch(a){}};a.prototype.render=function(){return this.state.deleted?null:b("React").createElement(b("ShimButton.react"),{className:"_6a3o",onClick:this.$1,style:this.props.backgroundColorInfo?{background:"linear-gradient(#"+this.props.backgroundColorInfo.top_color+", #"+this.props.backgroundColorInfo.bottom_color+")"}:{}},b("React").createElement("div",{className:"_2nzu"},b("React").createElement("div",{className:"_2nzv"},b("React").createElement(b("Timestamp.react"),{autoUpdate:!0,time:this.props.creationTime/1e3,text:b("formatDate")(this.props.creationTime/1e3,"M j",{utc:!0})}),!this.props.wasSeenByViewer&&!this.state.unseenStoryReset&&this.props.storyOwnerType!==b("StoryOwnerType").PAGE&&b("React").createElement(k,null)),this.props.totalViewerCount>0?b("React").createElement("div",{className:"_2n_n"},b("React").createElement(b("Image.react"),{className:"_2n_o",src:g("532616")}),this.props.totalViewerCount):null,this.props.storyOwnerType!==b("StoryOwnerType").PAGE?b("React").createElement("div",{className:"_2n_p"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("494783")}),label:i._("Share"),href:b("XReactSproutComposerShareMediaFromArchiveDialogController").getURIBuilder().setFBIDSet("archivedStoryCardIDs",[this.props.id]).getURI(),onClick:this.$4,rel:"dialog-post",size:"small"})):null),b("React").createElement("div",{className:"_2n_q"},b("React").createElement(b("Image.react"),{src:this.props.mediaURI,className:"_2n_r",width:"100%"})))};var k=function(a){return b("React").createElement("span",{className:"_6fv7"})};e.exports=a}),null);