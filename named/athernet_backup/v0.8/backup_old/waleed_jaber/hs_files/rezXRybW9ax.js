if (self.CavalryLogger) { CavalryLogger.start_js(["EZ8i+"]); }

__d("AdsPageMenuLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AD_PAGE_SELECTOR.LOAD_ERROR");e.exports=a}),null);
__d("AdsPageMenuLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AD_PAGE_SELECTOR.LOAD_ERROR";e.exports={actionType:a}}),null);
__d("AdsPageMenuLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AD_PAGE_SELECTOR.LOAD_SUCCESS");e.exports=a}),null);
__d("AdsPageMenuLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AD_PAGE_SELECTOR.LOAD_SUCCESS";e.exports={actionType:a}}),null);
__d("AdsPageMenuRetryLoadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AD_PAGE_SELECTOR.RETRY_LOAD");e.exports=a}),null);
__d("AdsPageMenuRetryLoadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AD_PAGE_SELECTOR.RETRY_LOAD";e.exports={actionType:a}}),null);
__d("BizNotificationTabCountUtils",["BizChromeNotifTab","BizNotificationListConst"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_MAP,h=b("BizNotificationListConst").CLASSIFICATION_TO_TAB_MAP;a={incrementCountByTab:function(a,c){var d=Object.assign({},c);Object.keys(a).forEach(function(c){var e=h[c]||h[g[c]];c=a[c];e!=null&&(d[e]+=c,d[b("BizChromeNotifTab").ALL]+=c)});return d},clearTabCount:function(a,c,d){var e=Object.assign({},c),f=Object.assign({},d);a===b("BizChromeNotifTab").ALL?Object.keys(c).forEach(function(a){e[a]=0,f[a]=!1}):(e[b("BizChromeNotifTab").ALL]-=e[a],e[a]=0,f[a]=!1);return{updatedUnseenByTab:e,updatedTabCountToBeCleared:f}}};e.exports=a}),null);
__d("BizNotificationInitUnseenNotifsReducerPlugin",["BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_MAP;a={reduce:function(a,c){var d=c.initialClassificationsForUnseenNotifs,e=a.unseenNotifsClassificationsMap,f=a.unseenNotifsCountByTab;f=b("BizNotificationTabCountUtils").incrementCountByTab(c.initialUnseenNotifsCountByClassification,a.unseenNotifsCountByTab);Object.keys(d).forEach(function(a){var b=d[a];b.forEach(function(b){e[b]=g[a]||a})});return babelHelpers["extends"]({},a,{unseenNotifsClassificationsMap:e,unseenNotifsCountByTab:f})}};e.exports=a}),null);
__d("BizNotificationInitUnseenNotifsAction",["Laminar","BizNotificationInitUnseenNotifsReducerPlugin","BizNotificationPopoverDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationInitUnseenNotifsReducerPlugin"),b("BizNotificationPopoverDataProvider"),{})]},function(){return[]},"BizNotificationInitUnseenNotifsActionPlugin");e.exports=a}),null);
__d("BizNotificationPrefsProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{prefs:null}};e.exports=a}),null);
__d("BizNotificationPrefsProvider",["BizNotificationPrefsProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("BizNotificationPrefsProviderPlugin"),"BizNotificationPrefsProviderPlugin")}),null);
__d("IndeterminateNotificationCounter",["cx","DocumentTitle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="(*) ",i={init:function(a){a>0&&i.addBadge()},addBadge:function(){__p&&__p();var a=b("DocumentTitle").get(),c=document.getElementById("NotifIndeterminateBadge"),d=c&&c.getAttribute("class");if(d!=null&&d.includes("_76t_")){c=c&&c.textContent;c!=null&&b("DocumentTitle").set("("+c+") "+a,!0);return}else if(d!=null&&d.includes("_79ig")){b("DocumentTitle").set("(99+) "+a,!0);return}b("DocumentTitle").set(h+a,!0)},removeBadge:function(){var a=b("DocumentTitle").get();b("DocumentTitle").set(a,!0)}};e.exports=i}),null);
__d("BizNotificationBadgeUtils",["cx","IndeterminateNotificationCounter","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=99,i={increaseBadgeCount:function(a){if(a!=null){var b=a.textContent;if(!b.endsWith("+")){b=Number(a.textContent)+1;a.textContent=b<=h?b+"":h+"+"}}return a},decreaseBadgeCount:function(a){a!=null&&(a.textContent="0");return a},setBadgeElementToBeActive:function(a){var c=document.getElementById("NotifIndeterminateBadge");a?(c=i.increaseBadgeCount(c),b("IndeterminateNotificationCounter").addBadge()):(c=i.decreaseBadgeCount(c),b("IndeterminateNotificationCounter").removeBadge());var d=c&&c.textContent;d=(d!=null&&!d.endsWith("+")?"_76t_":"")+(d!=null&&d.endsWith("+")?" _79ig":"");a=a?b("joinClasses")("_7256",d):b("joinClasses")("_7257",d);c&&c.setAttribute("class",a)}};e.exports=i}),null);
__d("BizNotificationReceivedNotifReducerPlugin",["BizNotificationBadgeUtils","BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_TO_MACRO_CATEGORY_MAP,h=b("BizNotificationListConst").EMPTY_UNSEEN_NOTIFS_COUNT_BY_CLASSIFICATION,i=b("BizNotificationListConst").ORDERED_CLASSIFICATIONS,j=function(a,b){if(b==null)return!1;b=b.macro_categories_excluded_from_badging;return!b.includes(g[a])};a={reduce:function(a,c,d){__p&&__p();var e=d.prefsData;d=c.notifs;var f=a.unseenNotifsClassificationsMap,g=Object.assign({},h);d.forEach(function(a){var c=a.classifications;if(c==null)return;c.forEach(function(c){i.includes(c)&&(g[c]+=1,f[a.alert_id]=c,j(c,e.prefs)&&b("BizNotificationBadgeUtils").setBadgeElementToBeActive(!0))})});c=b("BizNotificationTabCountUtils").incrementCountByTab(g,a.unseenNotifsCountByTab);return babelHelpers["extends"]({},a,{unseenNotifsClassificationsMap:f,unseenNotifsCountByTab:c})}};e.exports=a}),null);
__d("BizNotificationReceivedNotifAction",["Laminar","BizNotificationReceivedNotifReducerPlugin","BizNotificationPopoverDataProvider","BizNotificationPrefsProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationReceivedNotifReducerPlugin"),b("BizNotificationPopoverDataProvider"),{prefsData:b("BizNotificationPrefsProvider")})]},function(){return[]},"BizNotificationReceivedNotifActionPlugin");e.exports=a}),null);
__d("BizNotificationSeenStateUpdateReducerPlugin",["BizChromeNotifTab","BizNotificationBadgeUtils","BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_TO_TAB_MAP;a={reduce:function(a,c){__p&&__p();b("BizNotificationBadgeUtils").setBadgeElementToBeActive(!1);if(!a.isJewelOpen){var d=b("BizNotificationTabCountUtils").clearTabCount(b("BizChromeNotifTab").ALL,a.unseenNotifsCountByTab,a.tabCountToBeCleared),e=d.updatedUnseenByTab;d=d.updatedTabCountToBeCleared;return babelHelpers["extends"]({},a,{unseenNotifsCountByTab:e,tabCountToBeCleared:d})}else{var f=a.tabCountToBeCleared;Object.keys(c.seenState).forEach(function(b){b=a.unseenNotifsClassificationsMap[b];if(b!=null){b=g[b];f[b]=!0}});return babelHelpers["extends"]({},a,{tabCountToBeCleared:f})}}};e.exports=a}),null);
__d("BizNotificationSeenStateUpdateAction",["Laminar","BizNotificationSeenStateUpdateReducerPlugin","BizNotificationPopoverDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationSeenStateUpdateReducerPlugin"),b("BizNotificationPopoverDataProvider"),{})]},function(){return[]},"BizNotificationSeenStateUpdateActionPlugin");e.exports=a}),null);
__d("BizNotificationSetJewelOpenReducerPlugin",["BizNotificationBadgeUtils","BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").TAB_MAP;a={reduce:function(a,c){__p&&__p();c=c.isJewelOpen;var d=a.tabCountToBeCleared,e=a.unseenNotifsCountByTab,f=a.tabCountToBeCleared;b("BizNotificationBadgeUtils").setBadgeElementToBeActive(!1);c||Object.keys(d).forEach(function(a){if(d[a]){a=b("BizNotificationTabCountUtils").clearTabCount(g[a],e,f);e=a.updatedUnseenByTab;f=a.updatedTabCountToBeCleared}});return babelHelpers["extends"]({},a,{isJewelOpen:c,unseenNotifsCountByTab:e,tabCountToBeCleared:f})}};e.exports=a}),null);
__d("BizNotificationSetJewelOpenAction",["Laminar","BizNotificationSetJewelOpenReducerPlugin","BizNotificationPopoverDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationSetJewelOpenReducerPlugin"),b("BizNotificationPopoverDataProvider"),{})]},function(){return[]},"BizNotificationSetJewelOpenActionPlugin");e.exports=a}),null);
__d("BizNotificationsSetPrefsReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{prefs:b.prefs})}};e.exports=a}),null);
__d("BizNotificationSetPrefsAction",["Laminar","BizNotificationsSetPrefsReducerPlugin","BizNotificationPrefsProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationsSetPrefsReducerPlugin"),b("BizNotificationPrefsProvider"),{})]},function(){return[]},"BIZ_NOTIFICATION.SET_PREFS");e.exports=a}),null);
__d("BizNotificationBucketingUtils",["BizNotificationConfig"],(function(a,b,c,d,e,f){"use strict";a={preProcessNodeForLiveSendBucketing:function(a){var c=b("BizNotificationConfig").notifTypeWhitelist,d=[];a.eligible_buckets==null?d=["BIZ_NON_CRITICAL"]:!a.eligible_buckets.includes("BIZ_CRITICAL")&&c.includes(a.notif_type)&&(d=["BIZ_CRITICAL"].concat(a.eligible_buckets||[]));d.length!==0&&(a.eligible_buckets=d);return a}};e.exports=a}),null);
__d("BusinessManagerNotificationsSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2375554172487069",queryID:"584010498721203"})}),null);
__d("BusinessManagerNotificationsSubscription",["BaseGraphQLSubscription","BusinessManagerNotificationsSubscriptionWebGraphQLSubscription","WebPixelRatio","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="ADS_UNIFIED_NAV";g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){return"gqls/"+this.getSubscriptionCallName()+"/actor_id_"+a.businessUserID+"_environment_"+h};a.prototype.getQueryID=function(){return b("BusinessManagerNotificationsSubscriptionWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),environment:h}),is_work_user:!1,scale:b("WebPixelRatio").get()}};a.prototype.getSubscriptionCallName=function(){return"web_notification_receive_subscribe"};a.prototype.getViewerID=function(a){a=a.businessUserID;return a};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("BusinessManagerNotificationSubscriptions",["Arbiter","BizNotificationBucketingUtils","BusinessManagerNotificationsSubscription","BusinessUserConf","ChannelConstants","NotificationTokens","createNotificationSubscriptions","createObjectFrom","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=b("createNotificationSubscriptions")({subscribeToNotificationHides:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notification_hidden"),function(c,d){c=b("NotificationTokens").tokenizeIDs([d.obj.notif_id+""]);d=d.obj.state===1;a(b("createObjectFrom")(c,d))})},subscribeToNotificationReadnessUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_read"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToNotificationSeenStateUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_seen"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToRealtimeChannelNotifications:function(a){return b("BusinessUserConf").businessUserID!==null?b("BusinessManagerNotificationsSubscription").subscribe({businessUserID:String(b("nullthrows")(b("BusinessUserConf").businessUserID))},function(c){c=c.web_notification_receive_subscribe.aggregated_notification;a(c?[b("BizNotificationBucketingUtils").preProcessNodeForLiveSendBucketing(c)]:null,"BusinessManagerNotificationsPayloadPagelet")}):null}})}),null);
__d("BusinessManagerGlobalNotificationSubscriptionsSubscription",["BusinessManagerNotificationSubscriptions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("BusinessManagerNotificationSubscriptions").setup()}),null);
__d("BusinessManagerNotificationsSyncQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1917258221721070"};c.getQueryID=function(){"use strict";return"497831067351736"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("BusinessManagerNotificationSync",["invariant","Arbiter","BizSiteIdentifier.brands","BusinessManagerNotificationsSyncQueryWebGraphQLQuery","ChannelConstants","CurrentUser","NotificationConstants","NotificationUpdates","WebGraphQL","WebPixelRatio","ifRequired","objectValues","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=0;function i(){var a={endpointControllerName:"BusinessManagerNotificationsPayloadPagelet"},c;b("ifRequired")("NotificationStore",function(d){c=b("objectValues")(d.getAll(a))});if(c==null)return null;var d=c.map(function(a){return a.creation_time}).filter(Boolean);return d.length===0?null:Math.max.apply(Math,d)}function j(){__p&&__p();var a=i();if(a==null)return;var c=b("BizSiteIdentifier.brands").getBusinessID();c!=null||g(0,6163);b("promiseDone")(b("WebGraphQL").exec(new(b("BusinessManagerNotificationsSyncQueryWebGraphQLQuery"))({business_id:c,is_work_user:b("CurrentUser").isWorkUser(),newer_than:a,scale:b("WebPixelRatio").get()})),function(a){__p&&__p();if(a){a=(a=a)!=null?(a=a.business)!=null?(a=a.viewer)!=null?(a=a.notifications)!=null?a.edges:a:a:a:a;a=a&&a.map(function(a){a=a.node;return a}).filter(Boolean);if(a==null)return;a={nodes:a};b("NotificationUpdates").handleUpdate(b("NotificationConstants").PayloadSourceType.SYNC,a)}})}var k=null,l=0;a={setup:function(a){__p&&__p();l++;(h===null||a>h)&&(h=a);k==null&&(k=b("Arbiter").subscribe(b("ChannelConstants").ON_INVALID_HISTORY,j));var c=!1;return{remove:function(){if(c===!0)return;k!=null||g(0,51);c=!0;l--;l===0&&(k.unsubscribe(),k=null)}}}};e.exports=a}),null);
__d("BusinessManagerGlobalNotificationSyncSubscription",["BusinessManagerNotificationSync","InitialServerTime"],(function(a,b,c,d,e,f){"use strict";e.exports=b("BusinessManagerNotificationSync").setup(b("InitialServerTime").serverTime)}),null);
__d("AdsPersonalSettingsConstants",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ACCOUNT_INFORMATION:"account_information",BILLING:"billing",NOTIFICATION:"notification",PAGES:"pages"});c=b("keyMirror")({NONE:null,NEW:null,OLD:null});d="bi_personal_settings_gear_tip";f="ads_personal_settings_gear";e.exports={EMAIL_NOTIFICATION_HANDLER_KEY:c,TABS:a,PERSONAL_SETTINGS_NUX_NAME:d,PERSONAL_SETTINGS_NUX_PLACEMENT:f}}),null);
__d("AdsPersonalSettingsGearNux.react",["AdsIntelligentBlueTip.react","AdsPersonalSettingsConstants","React","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPersonalSettingsConstants").PERSONAL_SETTINGS_NUX_NAME,h=b("AdsPersonalSettingsConstants").PERSONAL_SETTINGS_NUX_PLACEMENT;a=function(){return!b("gkx")("677810")?null:b("React").createElement("div",{id:h},b("React").createElement(b("AdsIntelligentBlueTip.react"),{contextNodeID:h,messageID:g,position:"below"}))};e.exports=a}),null);
__d("AdsPageMenuActions",["AdsPageMenuLoadErrorDataAction","AdsPageMenuLoadSuccessDataAction","AdsPageMenuRetryLoadDataAction"],(function(a,b,c,d,e,f){"use strict";a={updatePageMenu:function(a){b("AdsPageMenuLoadSuccessDataAction").dispatch({data:a},{line:"22",module:"AdsPageMenuActions.js"})},pageMenuFailedToLoad:function(a,c){b("AdsPageMenuLoadErrorDataAction").dispatch({data:{businessID:a,error:c}},{line:"28",module:"AdsPageMenuActions.js"})},retryLoad:function(a){b("AdsPageMenuRetryLoadDataAction").dispatch({data:{businessID:a}},{line:"37",module:"AdsPageMenuActions.js"})}};e.exports=a}),null);
__d("XAdsUnifiedNavPagesMenuItemsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/unified_nav/pages_menu_items/",{business_id:{type:"FBID"}})}),null);
__d("AdsPageMenuStore",["AdsDataAtom","AdsInterfacesLoggerUtils","AdsPageMenuActions","AdsPageMenuLoadErrorDataActionFlux","AdsPageMenuLoadSuccessDataActionFlux","AdsPageMenuRetryLoadDataActionFlux","AppConstants.brands","AsyncRequest","FluxLoadObjectStore","ICEPerformanceTimer","XAdsUnifiedNavPagesMenuItemsController","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="pages_jewel_load",i=b("gkx")("779516");g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.__getActionTypes=function(){return i?[this.getActionTypeStartLoad(),b("AdsPageMenuLoadErrorDataActionFlux").actionType,b("AdsPageMenuLoadSuccessDataActionFlux").actionType,b("AdsPageMenuRetryLoadDataActionFlux").actionType]:null};a.prototype.reduce=function(a,c){switch(c.action.type){case b("AdsPageMenuLoadSuccessDataActionFlux").actionType:return this.__handleOne(a,c.action.data.businessID,c.action.data);case b("AdsPageMenuLoadErrorDataActionFlux").actionType:return this.__handleOne(a,c.action.data.businessID,c.action.data.error);case b("AdsPageMenuRetryLoadDataActionFlux").actionType:return this.$AdsPageMenuStore1(a,c.action.data.businessID);case b("AppConstants.brands").FAVORITE_ACTION.UPDATE_SUCCESS:return this.$AdsPageMenuStore1(a,c.action.businessID)}return a};a.prototype.$AdsPageMenuStore1=function(a,b){this.__load(b);return this.__setEmptyAndLoading(a,[b])};a.prototype.__load=function(a){var c=b("XAdsUnifiedNavPagesMenuItemsController").getURIBuilder().setFBID("business_id",a).getURI();b("ICEPerformanceTimer").start(h);b("promiseDone")(new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI(c).exec().then(function(c){b("AdsPageMenuActions").updatePageMenu({businessID:a,menu:c.payload,endpoint:null,seenPagesPromo:!0}),b("ICEPerformanceTimer").stop(h)})["catch"](function(c){c=new Error(c.getError(),c.getErrorDescription());b("AdsInterfacesLoggerUtils").logException(c);b("AdsPageMenuActions").pageMenuFailedToLoad(a,c)}))};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XAdsUnifiedNavPagePromoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/manager/ajax/unified_nav_page_promo/",{})}),null);
__d("AdsUnifiedNavigationPageMenuBootloader.react",["cx","fbt","AdsTestIDs","AsyncRequest","BootloadOnInteraction.react","JSResource","LazyComponent.react","Link.react","React","XAdsUnifiedNavPagePromoController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$2=function(a){var c=this.state.seenPagesPromo;this.setState({hasTooltip:a!=="show",seenPagesPromo:!0},function(){if(a==="show"&&!c){var d=b("XAdsUnifiedNavPagePromoController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setMethod("POST").send()}})}.bind(this),this.state={hasTooltip:!a.selectorShown,seenPagesPromo:a.seenPagesPromo}}a.prototype.$1=function(){var a=this.state.hasTooltip?h._("Pages"):null,c=null;this.state.seenPagesPromo===!1&&(c=b("React").createElement("div",{className:"_mm0"}));return b("React").createElement(b("Link.react"),{"aria-haspopup":"true","aria-label":a,className:"_4hsu","data-hover":a?"tooltip":null,"data-testid":b("AdsTestIDs").UNIFIED_NAV_PAGES_JEWEL,"data-tooltip-content":a,"data-tooltip-delay":500,rel:"toggle",role:"button"},c)};a.prototype.render=function(){var a=this.$1(),c=babelHelpers["extends"]({onToggleMenu:this.$2},this.props);return b("React").createElement("div",null,b("React").createElement(b("BootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),c,a),loader:b("JSResource")("AdsUnifiedNavigationPageMenuContainer.react").__setRef("AdsUnifiedNavigationPageMenuBootloader.react"),placeholder:a}))};e.exports=a}),null);
__d("AdsUnifiedNavigationPageJewel",["AdsUnifiedNavigationPageMenuBootloader.react","ReactRenderer","Toggler","AdsPageMenuStore"],(function(a,b,c,d,e,f){"use strict";a={init:function(a,c){b("AdsPageMenuStore");a={selectorShown:b("Toggler").isNodeShown(c),businessID:a.businessID,endpoint:a.endpoint,seenPagesPromo:a.seenPagesPromo};b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("AdsUnifiedNavigationPageMenuBootloader.react"),a,c)}};e.exports=a}),null);
__d("AdsUnifiedNavNotificationsSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"1940323352716738",queryID:"2130611887257172"})}),null);
__d("AdsUnifiedNavNotificationsSubscription",["AdsUnifiedNavNotificationsSubscriptionWebGraphQLSubscription","BaseGraphQLSubscription","WebPixelRatio","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="ADS_UNIFIED_NAV";g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){return"gqls/"+this.getSubscriptionCallName()+"/actor_id_"+a.actorID+"_environment_"+h};a.prototype.getQueryID=function(){return b("AdsUnifiedNavNotificationsSubscriptionWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),environment:h}),is_work_user:!1,scale:b("WebPixelRatio").get()}};a.prototype.getSubscriptionCallName=function(){return"web_notification_receive_subscribe"};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsUnifiedNavNotificationSubscriptions",["AdsUnifiedNavNotificationsSubscription","Arbiter","BizNotificationBucketingUtils","ChannelConstants","CurrentUser","NotificationTokens","createNotificationSubscriptions","createObjectFrom"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=b("createNotificationSubscriptions")({subscribeToNotificationHides:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notification_hidden"),function(c,d){c=b("NotificationTokens").tokenizeIDs([d.obj.notif_id+""]);d=d.obj.state===1;a(b("createObjectFrom")(c,d))})},subscribeToNotificationReadnessUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_read"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToNotificationSeenStateUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_seen"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToRealtimeChannelNotifications:function(a){return b("AdsUnifiedNavNotificationsSubscription").subscribe({actorID:b("CurrentUser").getID()},function(c){c=c.web_notification_receive_subscribe.aggregated_notification;a(c?[b("BizNotificationBucketingUtils").preProcessNodeForLiveSendBucketing(c)]:null,"AdsUnifiedNavNotificationsPayloadPagelet")})}})}),null);
__d("AdsUnifiedNavGlobalNotificationSubscriptionsSubscription",["AdsUnifiedNavNotificationSubscriptions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsUnifiedNavNotificationSubscriptions").setup()}),null);
__d("AdsUnifiedNavNotificationsSyncQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2098397340170397"};c.getQueryID=function(){"use strict";return"730698150604120"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("AdsUnifiedNavNotificationSync",["invariant","AdsUnifiedNavNotificationsSyncQueryWebGraphQLQuery","Arbiter","ChannelConstants","CurrentUser","NotificationConstants","NotificationUpdates","WebGraphQL","WebPixelRatio","ifRequired","objectValues","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=0;function i(){var a={endpointControllerName:"AdsUnifiedNavNotificationsPayloadPagelet"},c;b("ifRequired")("NotificationStore",function(d){c=b("objectValues")(d.getAll(a))});if(c==null)return null;var d=c.map(function(a){return a.creation_time}).filter(Boolean);return d.length===0?null:Math.max.apply(Math,d)}function j(){__p&&__p();var a=i();if(a==null)return;b("promiseDone")(b("WebGraphQL").exec(new(b("AdsUnifiedNavNotificationsSyncQueryWebGraphQLQuery"))({is_work_user:b("CurrentUser").isWorkUser(),newer_than:a,scale:b("WebPixelRatio").get()})),function(a){__p&&__p();if(a){a=(a=a)!=null?(a=a.viewer)!=null?(a=a.notifications)!=null?a.edges:a:a:a;a=a&&a.map(function(a){a=a.node;return a}).filter(Boolean);if(a==null)return;a={nodes:a};b("NotificationUpdates").handleUpdate(b("NotificationConstants").PayloadSourceType.SYNC,a)}})}var k=null,l=0;a={setup:function(a){__p&&__p();l++;(h===null||a>h)&&(h=a);k==null&&(k=b("Arbiter").subscribe(b("ChannelConstants").ON_INVALID_HISTORY,j));var c=!1;return{remove:function(){if(c===!0)return;k!=null||g(0,51);c=!0;l--;l===0&&(k.unsubscribe(),k=null)}}}};e.exports=a}),null);
__d("AdsUnifiedNavGlobalNotificationSyncSubscription",["AdsUnifiedNavNotificationSync","InitialServerTime"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsUnifiedNavNotificationSync").setup(b("InitialServerTime").serverTime)}),null);
__d("AppLoggerUtils.brands",["AppLogger.brands","Event"],(function(a,b,c,d,e,f){__p&&__p();var g={register:function(a,c,d,e,f){f=f||{},f.brandID=c,b("Event").listen(a,"click",function(a){b("AppLogger.brands").logForAnalytics(d,e,f)})},logServerEvent:function(a,c,d){b("AppLogger.brands").logForAnalytics(a,c,d)},registerForPopoverMenu:function(a,c,d,e,f){f&&g.register(a,d,e,f,{}),c.subscribe("itemclick",function(a,c){a=c.item&&c.item.getValue&&c.item.getValue();a?b("AppLogger.brands").logForAnalytics(e,a,{brandID:d}):b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.NAV,b("AppLogger.brands").EVENT.INVALID_NAV_ITEM)})},registerForPopoverOnlyMenu:function(a,c,d,e){a.subscribe("itemclick",function(a,e){a=e.item&&e.item.getValue&&e.item.getValue();a?b("AppLogger.brands").logForAnalytics(d,a,{brandID:c}):b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.NAV,b("AppLogger.brands").EVENT.INVALID_NAV_ITEM)})},registerForElements:function(a,c,d,e,f){f=f||{},f.brandID=c,a.forEach(function(a){b("Event").listen(a,"click",function(a){b("AppLogger.brands").logForAnalytics(d,e,f)})})}};e.exports=g}),null);
__d("BizsiteHelpButton.react",["ix","cx","fbt","AdsApplicationUtils","AdsFBIconDownsized.react","AdsIntelligentBlueTip.react","AdsInterfacesNavTools","AdsTestIDs","Bootloader","CSS","FluxContainerSubscriptions","Link.react","React","asset","requireWeak"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PureComponent;var k,l="help-jewel";function m(){return{isTrayOpen:!!k&&k.isTrayOpen()}}d=babelHelpers.inherits(a,c);j=d&&d.prototype;function a(a){j.constructor.call(this,a),this.$2=function(a){var c=a.ctrlKey||a.shiftKey||a.metaKey||a.button===1;if(!c){a.preventDefault();var d=!this.state.isTrayOpen;b("Bootloader").loadModules(["AdsHelpTrayUIActions","AdsHelpTrayUIStore"],function(a,b){k=b,this.$1.setStores([k]),a.toggleHelpTray(d,null,this.props.pageType)}.bind(this),"BizsiteHelpButton.react")}}.bind(this),this.$1=new(b("FluxContainerSubscriptions"))(this.constructor.name),this.$1.addListener(function(){return this.setState(m)}.bind(this)),this.state=m()}a.prototype.componentDidMount=function(){b("requireWeak")("AdsHelpTrayUIStore",function(a){k=a,this.$1.setStores([k])}.bind(this)),this.setState(m)};a.prototype.render=function(){var a=this.props.pageType===b("AdsInterfacesNavTools").ANALYTICS?"/help/analytics":"/help";a=b("React").createElement(b("Link.react"),{className:"_14xs"+(this.state.isTrayOpen?" _14xt":""),"data-testid":b("AdsTestIDs").HELP_JEWEL,href:a,id:l,onClick:this.$2},b("React").createElement("span",{className:"_tkm"},b("React").createElement(b("AdsFBIconDownsized.react"),{className:"_nxh",src:g("392521")})));!this.state.isTrayOpen&&b("AdsApplicationUtils").isPowerEditor()&&(a=b("React").createElement(b("React").Fragment,null,a,b("React").createElement(b("AdsIntelligentBlueTip.react"),{contextNodeID:l,messageID:"release_notes_intro",position:"below"})));return a};e.exports=a}),null);
__d("BizHomeHelpTrayLogger",["AppLogger.brands"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logFBExpertHelpItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_FBEXPERTHELP_CLICK,{page:a})},logExpertHelpItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_EXPERTHELP_CLICK,{page:a})},logReportItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_REPORT_CLICK,{page:a})},logEmailItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_EMAIL_CLICK,{page:a})},logCommunityItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_COMMUNITY_CLICK,{page:a})},logSupportItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_SUPPORT_CLICK,{page:a})},logSupportInboxItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_SUPPORT_INBOX_CLICK,{page:a})},logChatItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_CHAT_CLICK,{page:a})},logDirectSupportItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_DIRECT_SUPPORT_CLICK,{page:a})},logHelpCenterClick:function(a,c){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_FOOTER_LINK_CLICK,{destination:a,page:c})},logFAQItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_FAQ_ITEM_CLICK,{data:a})},logSearch:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_SEARCH,{query:a})},logHelpTrayOpen:function(){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_OPEN)},logNewbieProgramItemClick:function(a){b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.HELPTRAY,b("AppLogger.brands").EVENT.HELPTRAY_NEWBIE_PROGRAM_CLICK,{page:a})}};e.exports=a}),null);
__d("BizHomeHelpTrayLoggerStore",["AdsDataAtom","AdsHelpTrayPushCmsIdDataActionFlux","AdsHelpTraySearchQueryDataActionFlux","AdsHelpTrayToggleDataActionFlux","AdsHelpTrayUIStore","BizHomeHelpTrayLogger","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxStore"));g&&g.prototype;a.prototype.__onDispatch=function(a){a=a.action;switch(a.actionType){case b("AdsHelpTrayToggleDataActionFlux").actionType:b("AdsHelpTrayUIStore").isTrayOpen()&&b("BizHomeHelpTrayLogger").logHelpTrayOpen();break;case b("AdsHelpTraySearchQueryDataActionFlux").actionType:a.data.query&&b("BizHomeHelpTrayLogger").logSearch(a.data.query);break;case b("AdsHelpTrayPushCmsIdDataActionFlux").actionType:b("BizHomeHelpTrayLogger").logFAQItemClick(a.data);break}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("BizHomeHelpTrayBootloadContainer.brands",["AdsHelpTrayUIStore","BootloadedComponent.react","FluxMixinLegacy","JSResource","React","ReactComponentWithPureRenderMixin","BizHomeHelpTrayLoggerStore"],(function(a,b,c,d,e,f){"use strict";a=b("React").createClass({displayName:"BizHomeHelpTrayContainer",mixins:[b("FluxMixinLegacy")([b("AdsHelpTrayUIStore")]),b("ReactComponentWithPureRenderMixin")],statics:{calculateState:function(){return{hidden:!b("AdsHelpTrayUIStore").isTrayOpen()}}},componentDidMount:function(){b("BizHomeHelpTrayLoggerStore")},render:function(){return this.state.hidden?null:b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({},this.props,{bootloadLoader:b("JSResource")("BizHomeHelpTrayContainer.brands").__setRef("BizHomeHelpTrayBootloadContainer.brands"),name:"BizHomeHelpTrayContainer",bootloadPlaceholder:b("React").createElement("div",null)}))}});e.exports=a}),null);
__d("NotificationGenericBucket",["NotificationSeenState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$2=[],this.$3={},this.$4={},this.$7=function(a,b){a=this.$4[a];b=this.$4[b];return Number(b)-Number(a)}.bind(this),this.$1=a}a.prototype.reset=function(){this.$2=[],this.$3={},this.$4={}};a.prototype.getType=function(){return this.$1.bucket_type};a.prototype.getTitle=function(){return this.$1.title};a.prototype.getSortedIDs=function(){return this.$2.slice()};a.prototype.insertIfEligible=function(a){var b=this.$5(a);if(!b.eligible)return b;this.$6(a);return{eligible:!0}};a.prototype.remove=function(a){if(!this.$3[a])return!1;delete this.$3[a];delete this.$4[a];a=this.$2.indexOf(a);a>-1&&this.$2.splice(a,1);return!0};a.prototype.$6=function(a){__p&&__p();var b=a.alert_id;if(this.$3[b])return!0;this.$2.push(b);this.$3[b]=!0;var c=this.$8(this.$1.sort_key_index);if(c>-1){a=a.sort_keys?a.sort_keys[c]:null;a&&(this.$4[b]=a,this.$9())}return!0};a.prototype.$9=function(){this.$2.sort(this.$7)};a.prototype.$5=function(a){__p&&__p();if(!this.$10(a))return{eligible:!1,type:"bucket",data:a.eligible_buckets};if(!this.$11(a))return{eligible:!1,type:"exp_time"};if(!this.$12(a))return{eligible:!1,type:"seen_filter"};if(!this.$13(a))return{eligible:!1,type:"max_count"};if(!this.$14(a))return{eligible:!1,type:"seen_evict",data:this.$15(a)};return!this.$16(a)?{eligible:!1,type:"read_evict"}:{eligible:!0}};a.prototype.$8=function(a){return Number.isInteger(a)?Number(a):-1};a.prototype.$10=function(a){return!a.eligible_buckets?!1:a.eligible_buckets.includes(this.getType())};a.prototype.$12=function(a){return b("NotificationSeenState").validateFilter(a.alert_id,this.$1.seen_filter)};a.prototype.$11=function(a){var b=this.$8(this.$1.min_to_expire);return b===-1?!0:Date.now()-a.creation_time<b*60*1e3};a.prototype.$13=function(a){a=this.$8(this.$1.max_count);return a===-1?!0:this.$2.length<a};a.prototype.$15=function(a){var b=this.$8(this.$1.sec_to_evict_seen);return{secToEvict:b,firstTime:a.first_seen_time||0,currentTime:Date.now()/1e3}};a.prototype.$17=function(a){var b=this.$8(this.$1.sec_to_evict_read);return{secToEvict:b,firstTime:a.first_read_time||0,currentTime:Date.now()/1e3}};a.prototype.$18=function(a){var b=a.secToEvict,c=a.firstTime;a=a.currentTime;return b===-1||c===0?!0:a-c<b};a.prototype.$14=function(a){return this.$18(this.$15(a))};a.prototype.$16=function(a){return this.$18(this.$17(a))};a.prototype.$19=function(a){return!0};e.exports=a}),null);
__d("NotificationServerTransport",["invariant","DOM","UIPagelet","compactArray","ifRequired","objectValues","once","promiseDone","setImmediateAcrossTransitions","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={},i={},j={},k={};function l(a){k[a]==null&&(k[a]=b("DOM").create("div",{"class":"hidden_elem",id:a}),b("DOM").appendContent(document.documentElement,k[a]));return k[a].id}function m(a){return a.reduce(function(a,b){b=b.targetNumToLoad;return Math.max(a,b)},0)}function n(a,b){var c=b.getHash(),d=h[c];if(!d||d.clientRequestID!==a)return;delete h[c];d.calls.forEach(function(a){a=a.onCompleted;a&&a()});i[c]!=null&&p(b)}function o(a,b,c){var d=b.getHash(),e=h[d];if(!e||e.clientRequestID!==a)return;delete h[d];e.calls.forEach(function(a){a=a.onError;a&&a(c)});i[d]!=null&&p(b)}function p(a){__p&&__p();var c=a.getHash();if(j[c]!=null)return;j[c]=b("setImmediateAcrossTransitions")(function(){__p&&__p();delete j[c];var d=b("uniqueID")(),e=i[c];delete i[c];if(e==null)return;var f=m(e);f=a.getRequestParams(f);if(f.length<=0){e.forEach(function(a){a=a.onCompleted;a&&a()});return}var k=function(b){o(d,a,b.toError())},n=a.getStreamingTransportPageletName();n!=null||g(0,5708,a.getHash());n=b("UIPagelet").loadFromEndpoint(n,l(d),babelHelpers["extends"]({},f,{clientRequestID:d}),{allowIrrelevantRequests:!0,automatic:!1,crossPage:!0,errorHandler:k,jsNonblock:!0,transportErrorHandler:k,usePipe:!0,usePostRequest:!1});h[c]={calls:e,clientRequestID:d,endpointState:a,transport:n}})}a={makeRequest:function(a,b,c){__p&&__p();var d=c.onChunkResponse,e=c.onCompleted;c=c.onError;var f=a.getHash(),j={onChunkResponse:d,onCompleted:e,onError:c,targetNumToLoad:b};s(f);d=h[f];e=d?m(d.calls)>=b:!1;e?(d!=null||g(0,5709),d.calls.push(j)):(i[f]==null&&(i[f]=[]),i[f].push(j),d==null&&p(a));return{remove:function(){__p&&__p();var b=h[f];if(b!=null){var c=b.calls.indexOf(j);c!==-1&&b.calls.splice(c,1);b.calls.length===0&&(b.transport&&b.transport.abandon(),delete h[f],i[f]!=null&&p(a))}c=i[f];if(c!=null){b=c.indexOf(j);b!==-1&&c.splice(b,1)}}}},handleResponseChunk:function(a,b){a=q(a);a.forEach(function(a){a(b)})},handleRequestCompleted:function(a){var c=b("objectValues")(h).find(function(b){return b&&b.clientRequestID===a});c||g(0,5710,a);n(a,c.endpointState)},handleRequestFailed:function(a,c){__p&&__p();var d=b("objectValues")(h).find(function(b){return b&&b.clientRequestID===a});d||g(0,5711,a);var e=d.endpointState.getHash(),f=h[e];if(!f||f.clientRequestID!==a)return;delete h[e];f.calls.forEach(function(a){a=a.onError;a&&a(new Error(c))});i[e]!=null&&p(d.endpointState)}};function q(a){__p&&__p();var c=Object.keys(h).find(function(b){b=h[b];return b&&b.clientRequestID===a}),d=c&&h[c];if(!d||!c)return[];d=d.calls;c=i[c];c&&(d=d.concat(c));return b("compactArray")(d.map(function(a){return a.onChunkResponse}))}function r(a,c){__p&&__p();var d=c.targetNumToLoad,e=c.endpointState;c=c.payloadPromise;if(h[a]!=null)return;var f=b("uniqueID")();d={calls:[{targetNumToLoad:d}],clientRequestID:f,endpointState:e};h[a]=d;c||g(0,5712);a=c.then(function(a){var b=q(f);b.forEach(function(b){b(a)})});b("promiseDone")(a["finally"](function(){n(f,e)}))}c=function(a){b("ifRequired")("NotificationEagerLoader",function(b){b=b.eagerlyLoadedData;b.hasData&&a===b.endpointState.getHash()&&r(a,b)})};var s=b("once")(c);e.exports=a}),null);
__d("NotificationStore",["FBLogger","NotificationConstants","NotificationEndpointState","NotificationServerTransport","NotificationUpdates","createObjectBy","distinctArrayBy","flatMapArray","objectValues","sortBy"],(function(a,b,c,d,e,f){__p&&__p();var g={};function h(a,b,c){return a.page_info!=null&&b.classification==c.classification&&b.endpointControllerName===c.endpointControllerName&&b.readness==c.readness}function i(a,c){__p&&__p();var d={};b("NotificationEndpointState").getAllInstances(c.endpointControllerName).forEach(function(e){var f;h(a,e,c)?(e.graphQLPageInfo=a.page_info,f=a):a.payloadsource===b("NotificationConstants").PayloadSourceType.SYNC&&c.endpointControllerName==="WebNotificationsPayloadPagelet"&&e.classification==null&&e.readness==null?f=a:f=babelHelpers["extends"]({},a,{nodes:a.nodes?a.nodes.filter(function(a){return j(a,e)}):void 0});if(f.nodes&&f.nodes.length>0){f=k(e,f);f!=null&&f.forEach(function(a){d[a]=!0})}});b("NotificationUpdates").didUpdateNotifications(Object.keys(d))}function j(a,b){__p&&__p();var c=b.classification,d=b.notifications,e=b.order;b=b.readness;e=e.getAllResources();e.length===0;if(e.length>0){e=e[0];d=d.getResource(e);if(d.creation_time>=a.creation_time)return!1}if(c&&(!a.classifications||!a.classifications.includes(c)))return!1;return b&&b==="SEEN_AND_READ"!==(a.seen_state==="SEEN_AND_READ")?!1:!0}function k(a,b){var c=[],d={};b.nodes&&b.nodes.length>0&&b.nodes.forEach(function(b){var e=b.alert_id,f=a.notifications.getResource(e);(!f||f.creation_time<b.creation_time)&&(c.push(e),d[e]=b)});a.notifications.addResourcesAndExecute(d);a.order.addResources(c);return c}b("NotificationUpdates").subscribe("update-notifications",function(a,c){c.payloadsource!==b("NotificationConstants").PayloadSourceType.ENDPOINT&&i(c,{endpointControllerName:c.endpoint!=null?c.endpoint:"WebNotificationsPayloadPagelet"})});var l={getNotifications:function(a,c,d){__p&&__p();var e=b("NotificationEndpointState").getInstance(c),f=e.notifications,h=e.order,j,k=h.executeOrEnqueue(0,a,function(a){if(d){j=f.executeOrEnqueue(a,d);a=f.getUnavailableResources(j);a.length>0&&b("FBLogger")("notifications").warn("The range for this endpoint contained notification IDs for which we have no payload (Notification IDs: %s, Endpoint config: %s)",JSON.stringify(a),JSON.stringify(e.getConfig()))}});function m(){h.unsubscribe(k),j&&f.unsubscribe(j)}if(h.getUnavailableResources(k).length===0)return{remove:m};if(!l.canFetchMore(c)){h.forceRunCallbacks();return{remove:m}}var n=e.getHash();g[n]==null?g[n]=1:g[n]++;function o(){g[n]--,g[n]===0&&h.forceRunCallbacks()}function p(a){if(!(a&&a.nodes))return;b("NotificationUpdates").handleUpdate(b("NotificationConstants").PayloadSourceType.ENDPOINT,a,c.readness,c.classification);i(babelHelpers["extends"]({},a,{payloadsource:b("NotificationConstants").PayloadSourceType.ENDPOINT}),c)}function q(){g[n]--,g[n]===0&&h.forceRunCallbacks()}a=b("NotificationServerTransport").makeRequest(e,a,{onChunkResponse:p,onCompleted:q,onError:o});var r=a.remove;return{remove:function(){m(),r()}}},getNotification:function(a,c){c=c===void 0?{}:c;var d=c.classification,e=c.endpointControllerName;e=e===void 0?"WebNotificationsPayloadPagelet":e;c=c.readness;d=b("NotificationEndpointState").getInstance({classification:d,endpointControllerName:e,readness:c});e=d.notifications;return e.getResource(a)},getAllForAllEndpoints:function(){__p&&__p();var a=b("NotificationEndpointState").getAllInstances();a=b("flatMapArray")(a,function(a){a=this.getAll(a.getConfig());return b("objectValues")(a)}.bind(this));a=b("sortBy")(a,function(a){return a.creation_time});a=a.reverse();a=b("distinctArrayBy")(a,function(a){return a.alert_id});return b("createObjectBy")(a,function(a){return a.alert_id})},getAll:function(a){var c=b("NotificationEndpointState").getInstance(a),d=c.notifications;c=c.order;var e={};c.getAllResources().forEach(function(c){var f=d.getResource(c);f==null?b("FBLogger")("notifications").warn("The range for this endpoint contained a notification ID for which we have no payload (Notification ID: %s, Endpoint config: %s)",c,JSON.stringify(a)):e[c]=f});return e},getCount:function(a){a=b("NotificationEndpointState").getInstance(a);return a.order.getAllResources().length},canFetchMore:function(a){a=b("NotificationEndpointState").getInstance(a);a=a.graphQLPageInfo;return!a||!Object.prototype.hasOwnProperty.call(a,"has_next_page")||a.has_next_page},registerEndpoint:function(a){b("NotificationEndpointState").getInstance(a)}};l.registerEndpoint({endpointControllerName:"WebNotificationsPayloadPagelet"});e.exports=l}),null);
__d("NotificationBucketStore",["Arbiter","Banzai","JSLogger","NotificationBucketStoreManager","NotificationConstants","NotificationGenericBucket","NotificationsBucketList","NotificationStore","NotificationUpdates"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="notif_jewel_buckets";function a(a,b){this.$1=[],this.$2={},this.$3=[],this.$4={},this.$5=b,this.$6=!1,this.$7=null,this.$8={},this.$9={},this.$6=!1,this.$10(a),this.$11()}a.prototype.$10=function(a){if(this.$6)return;this.$6=!0;b("NotificationsBucketList").buckets.forEach(function(a){a.bucket_type=a.bucket_type.toUpperCase();a=new(b("NotificationGenericBucket"))(a);this.$3.push(a);this.$4[a.getType()]=a}.bind(this));this.$12(a,this.$5,!1)};a.prototype.$13=function(){this.$1=this.$3.map(function(a){return{ids:a.getSortedIDs(),title:a.getTitle()||"",bucketType:a.getType()}})};a.prototype.$14=function(a,c,d){return!d&&a===b("NotificationBucketStoreManager").getSkipBucketType()&&!c};a.prototype.$15=function(a,b,c){__p&&__p();var d=a.alert_id;this.$2[d]||(this.$2[d]=[]);var e=[];for(var f=0,g=this.$3.length;f<g;f++){var h=this.$3[f];if(this.$14(h.getType(),b,c))continue;var i=h.insertIfEligible(a);e.push({bucket:h.getType(),result:i});if(i.eligible){this.$2[d].push(e);this.$16(a,h);return h.getType()}}this.$2[d].push(e);return null};a.prototype.$17=function(a,c){__p&&__p();var d="PRIORITY_INBOX";if(!this.$4[d]||c.getType()===d)return;c=a.alert_id;if(this.$9[c]||a.creation_time>Date.now()/1e3-60*60){d=this.$2[c];d=d[d.length-1]||[];a={notif_data:{alert_id:a.alert_id.split(":")[1],creation_time:a.creation_time,eligible_buckets:a.eligible_buckets,first_seen_time:a.first_seen_time,notif_type:a.notif_type,seen_state:a.seen_state,sort_keys:a.sort_keys},eviction_data:d,was_live_send:this.$9[c]===!0,priority_eviction_reason:d[0]?d[0].result.type:null};b("Banzai").post(g,{event_type:"bucketing_error",data:a})}};a.prototype.$16=function(a,b){this.$8[a.alert_id]=b.getType(),this.$17(a,b)};a.prototype.$18=function(a,b){delete this.$8[a.alert_id]};a.prototype.$19=function(a,b,c){var d=a.alert_id,e=this.$20(d);if(e){e=this.$21(e);e&&(e.remove(d),this.$18(a,e))}this.$15(a,b,c)};a.prototype.$20=function(a){return this.$8[a]};a.prototype.$21=function(a){return this.$4[a]};a.prototype.$22=function(){this.$8={},this.$3.forEach(function(a){return a.reset()}),this.$2={},this.$13()};a.prototype.$12=function(a,c,d){var e=b("NotificationStore").getAll({endpointControllerName:a,classification:c});this.$23(Object.keys(e).map(function(a){return e[a]}),d||!1,!1)};a.prototype.$23=function(a,b,c){a.forEach(function(a){return this.$19(a,b,c)}.bind(this)),this.$13()};a.prototype.$11=function(){__p&&__p();b("NotificationUpdates").subscribe("update-notifications",function(a,c){__p&&__p();a=c.nodes;if(a==null||a.length===0)return;if(c.payloadsource===b("NotificationConstants").PayloadSourceType.LIVE_SEND){var d=!1;a.forEach(function(a){this.$9[a.alert_id]=!0,d=a.classifications&&a.classifications.includes(this.$5)}.bind(this));if(!d&&this.$5!=null)return;this.$22();this.$12(c.endpoint||"WebNotificationsPayloadPagelet",this.$5,!0)}else b("NotificationBucketStoreManager").getActiveClassification()==this.$5&&(this.$7==null&&(this.$7=c.servertime),a.forEach(function(a){return this.$9[a.alert_id]=!1}.bind(this)),this.$23(a,!1,c.servertime===this.$7))}.bind(this)),b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.notifs_bucket_data={bucketInfo:this.$1,data:this.$1.reduce(function(b,a){a=a.ids.map(function(a){return{id:a,results:this.$2[a]}}.bind(this));return[].concat(b,a)}.bind(this),[])}}.bind(this))};a.prototype.getBucketListData=function(){return this.$1};a.prototype.isEmptyBucketListData=function(){var a=this.$1.reduce(function(a,b){return a+b.ids.length},0);return a===0};e.exports=a}),null);
__d("NotificationBucketStoreManager",["NotificationBucketStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h,i=null;a={getSkipBucketType:function(){return i},setSkipBucketType:function(a){i=a},setActiveClassification:function(a){h=a},getActiveClassification:function(){return h},getBucketStoreInstance:function(a,c){var d=c==null?"NO_CLASSIFICATION":c;g[d]==null&&(g[d]=new(b("NotificationBucketStore"))(a,c));return g[d]}};e.exports=a}),null);
__d("BizNotificationPopoverInitializationHelper",["AdsNuxTourAbandonedDataAction","Arbiter","BizNotificationInitUnseenNotifsAction","BizNotificationReceivedNotifAction","BizNotificationSeenStateUpdateAction","BizNotificationSetJewelOpenAction","BizNotificationSetPrefsAction","NotificationBucketStoreManager","NotificationConstants","NotificationUpdates"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={initPrefs:function(a){b("BizNotificationSetPrefsAction").dispatch({prefs:a},{line:"31",module:"BizNotificationPopoverInitializationHelper.js"})},initTabs:function(a,c){b("BizNotificationInitUnseenNotifsAction").dispatch({initialUnseenNotifsCountByClassification:a,initialClassificationsForUnseenNotifs:c},{line:"41",module:"BizNotificationPopoverInitializationHelper.js"}),g.setupSubscriptions(),g.initSkipBucket()},initSkipBucket:function(){b("NotificationBucketStoreManager").setSkipBucketType("BIZ_CRITICAL")},setupSubscriptions:function(){b("NotificationUpdates").subscribe("update-notifications",function(a,c){a=c.payloadsource;if(a!==b("NotificationConstants").PayloadSourceType.LIVE_SEND&&a!==b("NotificationConstants").PayloadSourceType.USER_ACTION)return;a=c.nodes;c=c.seenState;a!=null?b("BizNotificationReceivedNotifAction").dispatch({notifs:a},{line:"67",module:"BizNotificationPopoverInitializationHelper.js"}):c!=null&&b("BizNotificationSeenStateUpdateAction").dispatch({seenState:c},{line:"72",module:"BizNotificationPopoverInitializationHelper.js"})}),b("Arbiter").subscribe("notificationJewel/opened",function(){b("BizNotificationSetJewelOpenAction").dispatch({isJewelOpen:!0},{line:"77",module:"BizNotificationPopoverInitializationHelper.js"})}),b("Arbiter").subscribe("notificationJewel/closed",function(){b("AdsNuxTourAbandonedDataAction").dispatch({},{line:"81",module:"BizNotificationPopoverInitializationHelper.js"}),b("BizNotificationSetJewelOpenAction").dispatch({isJewelOpen:!1},{line:"82",module:"BizNotificationPopoverInitializationHelper.js"})})}};e.exports=g}),null);
__d("XUIIndeterminateBadge",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a}a.prototype.getCount=function(){return 0};a.prototype.setCount=function(a){return};a.prototype.setLegacyContent=function(a){return};a.prototype.increment=function(){return};e.exports=a}),null);