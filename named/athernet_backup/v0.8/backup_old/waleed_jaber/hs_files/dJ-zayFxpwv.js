if (self.CavalryLogger) { CavalryLogger.start_js(["frQMh"]); }

__d("SearchBootstrapEntityModuleDebugUtil",["Arbiter","BanzaiODS","JSLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={backend_faster_no_matches:"BEM not shown because backend returned faster but had no matches anyway",backend_faster_with_matches:"BEM had matches but backend was faster",no_matches:"BEM not shown as no matches were found",shown:"BEM shown"};a={printDebugNotice:function(a,c,d,e){e=e!=null&&e.length>0;e=e?"has_preloaded_entity_ids":"without_preloaded_entity_ids";b("BanzaiODS").bumpEntityKey("search.www."+a,c+"."+e);b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.searchBootstrapEntityModule={notice:g[c],matches:JSON.stringify(d!=null?d:[])}});b("gkx")("678798")}};e.exports=a}),null);
__d("SearchLoggingClientUnitIdPrefix",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WWW_BEM:"www_bem",WWW_BEM_RES:"www_bem_res",WWW_INSTANT_BEM:"www_instant_bem",WWW_SPELLER:"www_speller",MTOUCH_BEM:"mtouch_bem",MTOUCH_BEM_RES:"mtouch_bem_res"})}),null);
__d("SearchBootstrapEntityModuleUtil",["cx","fbt","DOM","FacebarJSConstants","SearchBootstrapEntityModuleUIConfig","SearchEntityModuleServerConstants","SearchLoggingClientUnitIdPrefix","URI","immutable","md5","randomInt"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").Map(),j=new RegExp("^/(search/top|search/str.+/keywords_(top|search))"),k=new RegExp("^/(search|topic/trending)"),l=new RegExp("^/search/str/([^/]+)/");function a(a){__p&&__p();var b;switch(a){case"user":b=h._("People");break;case"page":b=h._("Pages");break;case"group":b=h._("Groups");break;case"app":b=h._("Apps");break;case"place":b=h._("Places");break;case"event":b=h._("Events");break}return b}function m(a){__p&&__p();if(a.subtext==null)return[];if(a.browse_type==="browse_type_tv_show")return[b("DOM").create("span",{},[b("DOM").create("span",{className:"_2vo8"},h._("SHOW")),a.subtext])];a=a.subtext.split(/\s*\u00B7s*/g).map(function(a){return b("DOM").create("span",{},a)});var c=a.pop();a=a.slice(0,b("SearchBootstrapEntityModuleUIConfig").numSnippetsToShow-1);c!=null&&a.push(c);return a}function c(a,c){a=a.filter(function(a){return a.type!==b("FacebarJSConstants").keywordType}).sort(function(a,b){return a.bootstrapCost-b.bootstrapCost});var d=a[0],e;d!=null&&(e=d.type);a=a.filter(function(a){return a.type===e}).slice(0,b("SearchBootstrapEntityModuleUIConfig").numBootstrapResultsToShow);return a.map(function(a){return n(a,c)})}function n(a,c){var d=a.tuid,e=a.path,f=a.text,g=a.photo,h=a.photos,i=a.is_inactive,j=a.is_verified,k=a.hcm_match_criteria,l=a.show_hcm_experience,n=o(a);return{tuid:d,uri:new(b("URI"))(e).addQueryData("ref",b("SearchEntityModuleServerConstants").BROWSE_RESULTS_PAGE_REF),type:n,text:f,photo:g,photos:h,snippets:m(a),module_role:b("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[n],is_bootstrap:!0,is_inactive:(d=i)!=null?d:!1,is_verified:j,logging_unit_id:p(c,a),is_currently_live:!1,is_gaming_page:!1,hcm_match_criteria:k,show_hcm_experience:l}}function o(a){var b;a.render_type==="place"?b="place":b=a.type;return b}function d(a,c){return new(b("URI"))(b("SearchEntityModuleServerConstants").TYPE_TO_SERP_PATH[o(a[0])]).setQueryData({q:c})}function p(a,c){var d=i.get(a);d==null&&(d=b("immutable").Map(),i.set(a,d));a=d.get(c.tuid);a==null&&(a=q(b("SearchLoggingClientUnitIdPrefix").WWW_BEM_RES),d.set(c.tuid,a));return a}function q(a){return a+":"+b("md5")(String(b("randomInt")(0,Number.MAX_SAFE_INTEGER)))}function r(a){return a.getPath().match(k)!=null}function f(a){var b=a.getQueryData();b=b.epa==="SEARCH_BOX";return a.getPath().match(j)!=null&&b}function g(a){if(!r(a))return null;var b=a.getQueryData();if(b.q!=null)return b.q;b=a.getPath();a=b.match(l);return a!=null?decodeURIComponent(a[1]).replace(/\+/g," "):null}e.exports={getTitleForResultType:a,getSnippetForRawBootstrapResult:m,transformRawBootstrapResultsToEntityModuleResults:c,getSeeMoreURIForResults:d,generateUnitIDWithPrefix:q,getQueryFromURI:g,isSERPURI:r,isTopTabURI:f}}),null);
__d("SearchEntityResult.react",["cx","LitestandEllipsis","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=2,j=2,k=2,l=2,m=1,n=20,o=18,p=18;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){h.constructor.call(this),this.$1=b("React").createRef(),this.$2=b("React").createRef(),this.$3=b("React").createRef(),this.$4=b("React").createRef(),this.$5=b("React").createRef()}a.prototype.componentDidUpdate=function(){this.$6()};a.prototype.componentDidMount=function(){this.$6()};a.prototype.$6=function(){this.$1!=null&&b("LitestandEllipsis").add(this.$1.current,n*i),this.$2.current!=null&&b("LitestandEllipsis").add(this.$2.current,o*j),this.$3.current!=null&&b("LitestandEllipsis").add(this.$3.current,p*k),this.$4.current!=null&&b("LitestandEllipsis").add(this.$4.current,p*l),this.$5.current!=null&&b("LitestandEllipsis").add(this.$5.current,o*m)};a.prototype.$7=function(){return this.props.snippets[0]==null?null:b("React").createElement("div",{className:"_6v_1",ref:this.$2,style:{lineHeight:o+"px"}},this.props.snippets[0])};a.prototype.$8=function(){return this.props.snippets[1]==null&&this.props.snippets[2]==null?null:b("React").createElement("div",{className:"_73ko",style:{lineHeight:p+"px"}},b("React").createElement("div",{ref:this.$3},this.props.snippets[1]),b("React").createElement("div",{ref:this.$4},this.props.snippets[2]))};a.prototype.$9=function(){return this.props.snippets[3]==null?null:b("React").createElement("div",{className:"_6v_d",style:{lineHeight:o+"px"}},b("React").createElement("div",{ref:this.$5},this.props.snippets[3]))};a.prototype.render=function(){return b("React").createElement("div",{className:"_77we"},this.props.image,b("React").createElement("div",{className:"_6v_9"},b("React").createElement("div",{className:"_6v_a"},b("React").createElement("div",{className:"_6v-_"},b("React").createElement("div",{className:"_6v_0",ref:this.$1,style:{lineHeight:n+"px"}},this.props.title),this.$7()),this.props.actions!=null?b("React").createElement("div",{className:"_6v_2"},this.props.actions):null),b("React").createElement("div",{className:"_6v_b"},this.$8(),this.$9())))};e.exports=a}),null);
__d("XSearchBrowseActionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/browse_actions/",{id:{type:"String",required:!0},result_type:{type:"String",required:!0},session_id:{type:"String",required:!0},query:{type:"String",required:!0},logging_unit_id:{type:"String",required:!0},actions_id:{type:"String"}})}),null);
__d("SearchProfileResult.react",["cx","fbt","AsyncRequest","Badge.react","BrowseWebSLRPELoggerClickType","CurrentUser","DOM","DOMContainer.react","Image.react","Link.react","PageRatingConfig","PageRecommendationsCircleScore.react","PageRecommendationsCircleScoreType","React","SearchEntityModuleServerConstants","SearchEntityResult.react","SearchResultPageExperiments","TrackingNodes","XSearchBrowseActionsController","XUIButton.react","XUISpinner.react","memoize","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=72,k=b("PageRecommendationsCircleScoreType").SEARCH_RESULT_LARGE;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={actionsLoaded:!1,actionsWrapper:b("DOM").create("div",{id:b("uniqueID")()})},this.$1=null,this.getLoggingData=b("memoize")(function(){var a=b("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE;a=a+JSON.stringify({session_id:this.props.sessionID,unit_id:this.props.loggingUnitID,unit_id_click_type:b("BrowseWebSLRPELoggerClickType").ITEM_IN_MODULE_TAPPED,unit_id_result_id:this.props.id,module_type:this.props.module_role});return{"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.BROWSE_RESULT),"data-gt":JSON.stringify({type:"xtracking",xt:a})}}.bind(this)),c}a.prototype.componentDidMount=function(){this.fetchAsyncActions()};a.prototype.getTitleTrackingInfo=function(){return this.props.type==="user"?{"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.PROFILE_LINK)}:null};a.prototype.getPhotoTrackingInfo=function(){return this.props.type==="user"?{"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_PROFILE_PIC)}:null};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.profileURI,d=a.isInActive,e=a.isVerified,f=a.snippets;a=a.text;var g;e===!0&&(g=b("React").createElement(b("Badge.react"),{type:"verified",size:"small"}));e=f.map(function(a,c){return!(a instanceof HTMLElement)?a:b("React").createElement(b("DOMContainer.react"),{key:"snippet_"+c},a)});var i;f=this.state.actionsWrapper;f!=null&&(i=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("DOMContainer.react"),null,f),b("React").createElement(b("XUIButton.react"),{className:"_4cei"+(this.state.actionsLoaded?" hidden_elem":""),image:b("React").createElement(b("XUISpinner.react"),{size:"small",background:"dark"}),label:h._("Loading...")})));f=b("React").createElement(b("Link.react"),babelHelpers["extends"]({className:d?"_7b-6":"",href:c},this.getTitleTrackingInfo()),a,g);return b("React").createElement("div",babelHelpers["extends"]({className:"_401d _2nuh"},this.getLoggingData()),b("React").createElement(b("SearchEntityResult.react"),{title:f,actions:i,image:this.renderProfileImage(),snippets:e}))};a.prototype.fetchAsyncActions=function(){__p&&__p();if(!b("CurrentUser").isLoggedIn()){this.setState({actionsLoaded:!0});return}var a=b("XSearchBrowseActionsController").getURIBuilder().setString("id",this.props.id).setString("result_type",b("SearchEntityModuleServerConstants").TYPE_TO_BROWSE_TYPE[this.props.type]).setString("session_id",this.props.sessionID).setString("query",this.props.query).setString("logging_unit_id",this.props.loggingUnitID);a=new(b("AsyncRequest"))(a.getURI()).setData({actions_id:this.state.actionsWrapper.id}).setMethod("POST").setHandler(function(a){a=this.state.actionsWrapper;if(a==null){this.setState({actionsLoaded:!0});return}this.setState({actionsLoaded:!0})}.bind(this)).setAllowCrossPageTransition(!0);this.$1=a;a.send()};a.prototype.renderProfileImage=function(){var a=this.props,c=a.isInActive,d=a.photoURI,e=a.profileURI;a=a.type;c=b("React").createElement(b("Image.react"),{className:"_6xu4"+(c?" _7b-6":"")+(b("SearchResultPageExperiments").entityTypeHasRoundedProfileImageMap[a]?" _6xu5":""),src:d,width:j,height:j});return a==="place"&&b("PageRatingConfig").show_rating_circle?b("React").createElement("div",null,b("React").createElement("div",{className:"_6xu6"},b("React").createElement(b("Link.react"),{href:e},c),b("React").createElement(b("PageRecommendationsCircleScore.react"),{pageIDString:this.props.id,scoreType:k}))):b("React").createElement(b("Link.react"),babelHelpers["extends"]({className:"_6xu6",href:e},this.getPhotoTrackingInfo()),c)};a.prototype.componentWillUnmount=function(){var a=this.$1;a!=null&&a.abandon()};a.defaultProps={isInActive:!1};e.exports=a}),null);
__d("SearchEntityModuleUtils",["Base64","SearchEntityModuleServerConstants"],(function(a,b,c,d,e,f){"use strict";e.exports={addExtraParamsToSeeMoreURI:function(a,c,d){d={ref:d==="header"?b("SearchEntityModuleServerConstants").BROWSE_NAV_SOURCE_HEADER_SEE_ALL:b("SearchEntityModuleServerConstants").BROWSE_NAV_SOURCE_SEE_MORE};c!=null&&(d.sid=c);return a.setQueryData(babelHelpers["extends"]({},a.getQueryData(),{ref:b("Base64").encode(JSON.stringify(d)).replace(/\=+$/,""),epa:"SEE_MORE"}))}}}),null);
__d("XSearchProfilePictureController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/profile_picture/",{fbid:{type:"FBID",required:!0},width:{type:"Int",required:!0},height:{type:"Int",required:!0}})}),null);
__d("XWorkOrgSearchProfileIconAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/org_chart/",{user_id:{type:"Int",required:!0}})}),null);
__d("SearchEntityModuleResult.react",["ix","cx","fbt","AsyncRequest","Badge.react","Bootloader","BrowseClientEventLogger","BrowseWebSLRPELoggerClickType","CurrentUser","DOM","DOMContainer.react","HovercardLink","Image.react","Link.react","PageRatingConfig","PageRecommendationsCircleScore.react","PageRecommendationsCircleScoreType","React","SearchEntityModuleServerConstants","SearchResultPageExperiments","TrackingNodes","XSearchBrowseActionsController","XSearchProfilePictureController","XUIButton.react","XUISpinner.react","XWorkOrgSearchProfileIconAsyncController","asset","gkx","joinClasses","memoize","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=72,l=b("PageRecommendationsCircleScoreType").SEARCH_RESULT_LARGE;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={actionsLoaded:!1,FoodDrinkSearchHighlight:null,ServicesSearchOfferHighlight:null,actionsWrapper:b("DOM").create("div",{id:b("uniqueID")()})},this.getLoggingData=b("memoize")(function(){var a=b("SearchEntityModuleServerConstants").TYPE_TO_DISPLAY_STYLE[this.props.result.type],c=b("SearchEntityModuleServerConstants").TYPE_TO_BROWSE_TYPE[this.props.result.type],d=b("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE;d=d+JSON.stringify({display_style:a,id:this.props.result.tuid,item_type:"result",module_result_type:c,module_type:this.props.module_role,position_in_module:this.props.position_in_module,query:this.props.browse_query,raw_id:parseInt(this.props.result.tuid,10),session_id:this.props.browse_session_id,vertical:"content",is_bootstrap:this.props.result.is_bootstrap,unit_id:this.props.result.logging_unit_id,unit_id_click_type:b("BrowseWebSLRPELoggerClickType").ITEM_IN_MODULE_TAPPED,unit_id_result_id:this.props.result.tuid});return{"data-xt":d,"data-gt":JSON.stringify({type:"xtracking",xt:d}),"data-bt":JSON.stringify({id:parseInt(this.props.result.tuid,10)}),"data-xt-vimp":JSON.stringify(this.props.client_view_config),"data-vistracking":"1","data-insertion-position":this.props.position_in_module}}.bind(this)),this.$2=function(){b("Bootloader").loadModules(["AsyncDialog"],function(a){var c=b("XWorkOrgSearchProfileIconAsyncController").getURIBuilder().setInt("user_id",this.props.result.tuid).getURI();a.send(new(b("AsyncRequest"))(c))}.bind(this),"SearchEntityModuleResult.react")}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=[],this.renderActions(),this.logImpression(),this.props.result.food_drink_highlight&&!this.state.FoodDrinkSearchHighlight&&b("Bootloader").loadModules(["FoodDrinkSearchHighlight.react"],function(a){return this.setState({FoodDrinkSearchHighlight:b("React").createElement(a,this.props.result.food_drink_highlight)})}.bind(this),"SearchEntityModuleResult.react"),this.props.result.services_offer_highlight&&!this.state.ServicesSearchOfferHighlight&&b("Bootloader").loadModules(["ServicesSearchOfferHighlight.react"],function(a){return this.setState({ServicesSearchOfferHighlight:b("React").createElement(a,this.props.result.services_offer_highlight)})}.bind(this),"SearchEntityModuleResult.react")};a.prototype.render=function(){__p&&__p();var a=this.props.result.uri,c=b("HovercardLink").constructEndpoint({id:this.props.result.tuid}),d;this.props.result.badge_type?d=b("React").createElement(b("Badge.react"),{type:this.props.result.badge_type,size:"small"}):this.props.result.is_verified===!0&&(d=b("React").createElement(b("Badge.react"),{type:"verified",size:"small"}));var e=this.props.result.snippets.map(function(a,c){return b("React").createElement(b("DOMContainer.react"),{key:"snippet_"+c,className:(c===0?"_2yep":"")+(c!==0?" _2yeq":"")},a)}),f=this.props.result.photo,h=this.props.result.is_bootstrap&&this.props.result.type==="user";h&&(f=b("XSearchProfilePictureController").getURIBuilder().setFBID("fbid",this.props.result.tuid).setInt("width",k).setInt("height",k).getURI().toString());h=b("React").createElement(b("Image.react"),{className:"_2yeu"+(b("SearchResultPageExperiments").entityTypeHasRoundedProfileImageMap[this.props.result.type]?" _6n07":""),src:f,width:k,height:k});var j;f=this.state.actionsWrapper;f!=null&&(j=b("React").createElement("div",{className:"_2ye_"},b("React").createElement(b("DOMContainer.react"),null,f),b("React").createElement(b("XUIButton.react"),{className:"_4cei"+(this.state.actionsLoaded?" hidden_elem":""),image:b("React").createElement(b("XUISpinner.react"),{size:"small",background:"dark"}),label:i._("Loading...")})));f=this.props.result.is_currently_live&&this.props.result.is_gaming_page?b("React").createElement(b("Image.react"),{className:"_2rru",src:g("404364")}):null;var m=null,n=null;this.props.result.type==="user"&&(m=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.PROFILE_LINK),n=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_PROFILE_PIC));var o=b("gkx")("713883")&&this.props.result_type==="user"?b("React").createElement(b("Image.react"),{className:"_72hq",src:g("577347")}):null,p=b("gkx")("713883")&&this.props.result_type==="user"?b("React").createElement(b("Image.react"),{className:"_72hr",src:g("657715"),onClick:this.$2}):null;m=b("React").createElement("div",{style:{WebkitLineClamp:2},className:"_52eh _5bcu","data-ft":m},this.props.result.text,d,f);f=this.props.result.missing_words!=null?b("React").createElement("div",{className:"_40e4"},b("React").createElement(b("DOMContainer.react"),null,this.props.result.missing_words)):null;var q=null;this.props.result.type==="place"&&b("PageRatingConfig").show_rating_circle?q=b("React").createElement("div",{className:"_2yet"+(this.props.result.is_inactive?" _7b-4":"")},b("React").createElement(b("Link.react"),{href:a,"data-hovercard":c},h),b("React").createElement(b("PageRecommendationsCircleScore.react"),{className:"_29iq",pageIDString:this.props.result.tuid,scoreType:l})):q=b("React").createElement(b("Link.react"),{className:"_2yet"+(this.props.result.is_inactive?" _7b-4":""),href:a,"data-hovercard":c,"data-ft":n},h);return b("React").createElement("div",babelHelpers["extends"]({"data-testid":"browse-result-content",className:b("joinClasses")("_2yer _401d _2nuh",this.props.className),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.BROWSE_RESULT)},this.getLoggingData()),f,q,b("React").createElement("div",{className:"_2yev"},b("React").createElement("div",{className:"_2xjf"},b("React").createElement(b("Link.react"),{"data-testid":"browse-result-link",href:a,className:"_2yez"+(this.props.result.is_inactive?" _7b-4":""),"data-hovercard":c},m),o,p,j),b("React").createElement("div",{className:"_2ye-"},e.shift(),b("React").createElement("div",{className:"_2xjg"},e)),this.state.FoodDrinkSearchHighlight,this.state.ServicesSearchOfferHighlight))};a.prototype.renderActions=function(){__p&&__p();if(!b("CurrentUser").isLoggedIn()){this.setState({actionsLoaded:!0});return}var a=b("SearchEntityModuleServerConstants").TYPE_TO_BROWSE_TYPE[this.props.result.type];a=b("XSearchBrowseActionsController").getURIBuilder().setString("id",this.props.result.tuid).setString("result_type",a).setString("session_id",this.props.browse_session_id).setString("query",this.props.plain_text_query).setString("logging_unit_id",this.props.result.logging_unit_id);a=new(b("AsyncRequest"))(a.getURI()).setData({actions_id:this.state.actionsWrapper.id}).setMethod("POST").setHandler(function(a){a=this.state.actionsWrapper;if(a==null){this.setState({actionsLoaded:!0});return}this.setState({actionsLoaded:!0})}.bind(this)).setAllowCrossPageTransition(!0);var c=this.$1;c!=null&&c.push(a);a.send()};a.prototype.logImpression=function(){var a=this.getLoggingData();b("BrowseClientEventLogger").logImpression({xt:a["data-xt"]})};a.prototype.componentWillUnmount=function(){var a=this.$1;a!=null&&a.forEach(function(a){a.abandon()})};e.exports=a}),null);
__d("SearchEntityModule.react",["cx","fbt","BrowseWebSLRPELoggerClickType","DOMContainer.react","Link.react","React","SearchEntityModuleResult.react","SearchEntityModuleServerConstants","SearchEntityModuleUtils","SearchProfileResult.react","SearchResultPageExperiments","SubscriptionsHandler","URI","memoize","memoizeWithArgs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.state={isExpanded:this.props.num_results_to_show==null},this.onSeeMoreLinkClick=function(a){a.preventDefault(),this.setState({isExpanded:!0})}.bind(this),this.getModuleLoggingData=b("memoize")(function(){var a=b("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE;a=a+JSON.stringify({query:this.props.browse_query,session_id:this.props.browse_session_id,module_type:this.props.module_role,unit_id:this.props.logging_unit_id,unit_id_click_type:b("BrowseWebSLRPELoggerClickType").VIEW_PORT_VIEWS_ON_SEARCH_RESULTS});return{"data-xt":a,"data-xt-vimp":JSON.stringify(this.props.client_view_config)}}.bind(this)),this.getSeeMoreLoggingData=b("memoizeWithArgs")(function(a){var c=b("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,d=b("SearchEntityModuleServerConstants").SEE_MORE_LOGGING.MODULE_HEADER_ITEM_TYPE,e=b("SearchEntityModuleServerConstants").SEE_MORE_LOGGING.MODULE_FOOTER_ITEM_TYPE;c=c+JSON.stringify({item_type:a==="header"?d:e,module_type:this.props.module_role,query:this.props.browse_query,session_id:this.props.browse_session_id,source_module_role:this.props.module_role,vertical:"content",unit_id:this.props.logging_unit_id,unit_id_click_type:b("BrowseWebSLRPELoggerClickType").SEE_MORE_TAPPED});return{"data-xt":c,"data-gt":JSON.stringify({type:"xtracking",xt:c}),"data-xt-vimp":JSON.stringify(this.props.client_view_config),"data-vistracking":"1","data-bt":JSON.stringify({ct:"see_more",source_module_role:this.props.module_role})}}.bind(this),function(a){return a}),this.$1=new(b("SubscriptionsHandler"))()}a.prototype.getResultComponent=function(a,c){var d=b("SearchResultPageExperiments").entityTypeHasViewModelComponentMap[a.type];if(d){d=a.snippets.map(function(a,c){return b("React").createElement(b("DOMContainer.react"),{key:"snippet_"+c},a)});return b("React").createElement(b("SearchProfileResult.react"),{id:a.tuid,type:a.type,profileURI:a.uri.toString(),photoURI:a.photo!=null?a.photo.toString():null,snippets:d,text:a.text,isInActive:a.is_inactive,isVerified:a.is_verified,loggingUnitID:a.logging_unit_id,sessionID:this.props.browse_session_id,query:this.props.plain_text_query,module_role:this.props.module_role})}return b("React").createElement(b("SearchEntityModuleResult.react"),{result:a,position_in_module:c,browse_query:this.props.browse_query,client_view_config:this.props.client_view_config,browse_session_id:this.props.browse_session_id,module_role:this.props.module_role,plain_text_query:this.props.plain_text_query,viewer_id:this.props.viewer_id,result_type:this.props.result_type})};a.prototype.renderResult=function(a,c){var d=(c!==0||this.props.is_split_module_bottom)&&!this.props.split_apart_results?"_6ro_":"";d=b("React").createElement("div",{className:d,key:a.tuid+c},this.getResultComponent(a,c));return this.props.split_apart_results?b("React").createElement("div",{className:"_19_p",key:a.tuid+c},d):d};a.prototype.render=function(){var a=this.maybeRenderHeader(),c=this.renderFooterComponents(),d=this.props.num_results_to_show;d=!this.state.isExpanded&&d!=null?this.props.results.slice(0,d):this.props.results;d=d.map(function(a,b){return this.renderResult(a,b)}.bind(this));return this.props.split_apart_results?b("React").createElement("div",this.getModuleLoggingData(),d):b("React").createElement("div",this.getModuleLoggingData(),b("React").createElement("div",{className:"_19_p"+(this.props.is_split_module_top?" _6rch":"")+(this.props.is_split_module_bottom?" _6rci":"")},a,b("React").createElement("div",{className:"_6rbb"},d),c))};a.prototype.maybeRenderHeader=function(){__p&&__p();if(!this.props.should_render_header)return null;var a,c=this.props.see_more_uri!=null?new(b("URI"))(this.props.see_more_uri):null;if(c!=null){c=b("SearchEntityModuleUtils").addExtraParamsToSeeMoreURI(c,this.props.typeahead_session_id,"header");var d=h._("See all");a=b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.getSeeMoreLoggingData("header"),{href:c}),d)}c=this.props.title instanceof Object&&this.props.title.__html!=null?b("React").createElement("span",{dangerouslySetInnerHTML:this.props.title}):this.props.title;return b("React").createElement("div",{className:"_6ojs _6roq"},b("React").createElement("div",{className:"_6ojt"},c),a)};a.prototype.renderFooterComponents=function(){__p&&__p();if(!this.props.should_render_footer)return[];var a=[],c=b("React").createElement("div",{className:"_6rbe _6rbf"+(this.state.isExpanded||this.props.num_results_to_show==null||this.props.results.length<=this.props.num_results_to_show?" hidden_elem":""),key:"see_more_footer"},b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.getSeeMoreLoggingData("footer"),{href:"#",onClick:this.onSeeMoreLinkClick}),h._("See all")));a.push(c);c=this.props.see_more_uri!=null?new(b("URI"))(this.props.see_more_uri):null;if(c!=null){c=b("React").createElement("div",{className:"_6rbe _6rbf"+(!this.state.isExpanded&&this.props.num_results_to_show!=null&&this.props.results.length>this.props.num_results_to_show?" hidden_elem":""),key:"see_all_footer"},b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.getSeeMoreLoggingData("footer"),{href:b("SearchEntityModuleUtils").addExtraParamsToSeeMoreURI(c,this.props.typeahead_session_id,"footer")}),h._("See all")));a.push(c)}return a};a.prototype.componentWillUnmount=function(){this.$1.release()};e.exports=a}),null);
__d("XFacebookWorkChatInboxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/t/{?thread_key}/",{thread_key:{type:"String"},mid:{type:"String"},ref:{type:"String"},ds:{type:"Int"},sender:{type:"Bool",defaultValue:!1},hide_header:{type:"Bool",defaultValue:!1}})}),null);
__d("search_hcm_MatchCriteria",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EXACT:0,PARTIAL:1,FIRST_TOKEN:2,PREFIX:3,NO_CONSTRAINT:4,TRIMMED:5})}),null);
__d("SearchHCMMatchUtil",["FBLogger","SearchHCMServerConstants","TokenizeUtil","search_hcm_MatchCriteria"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};Object.keys(b("SearchHCMServerConstants").MATCH_CRITERIA_TO_STRING).forEach(function(a){a=Number(a);a=a;g[b("SearchHCMServerConstants").MATCH_CRITERIA_TO_STRING[a]]=a});function h(a){return b("TokenizeUtil").parse(a).tokens.join("")}function a(a,c,d){__p&&__p();c=c.toLowerCase().trim();d=d.toLowerCase().trim();a=typeof a==="string"?g[a]:a;switch(a){case b("search_hcm_MatchCriteria").EXACT:return c===d;case b("search_hcm_MatchCriteria").PARTIAL:return d.indexOf(c)!==-1;case b("search_hcm_MatchCriteria").PREFIX:return d.indexOf(c)===0;case b("search_hcm_MatchCriteria").NO_CONSTRAINT:return!0;case b("search_hcm_MatchCriteria").TRIMMED:return h(c)===h(d);default:b("FBLogger")("search").warn("Unexpected HCM match criteria %s",a);return c===d}}e.exports={match:a}}),null);
__d("SearchHCMUtil",["invariant","SearchEntityModuleServerConstants","SearchHCMMatchUtil","search_hcm_MatchCriteria"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={shouldTriggerBEMHCM:function(a,c){if(!c.bemHCMEnabled)return!1;var d=c.hcm_match_criteria;if(d==null&&c.type==="user"&&b("SearchHCMMatchUtil").match(b("search_hcm_MatchCriteria").EXACT,a,c.text))return!0;return c.show_hcm_experience!==!0?!1:d!=null&&b("SearchHCMMatchUtil").match(d,a,c.text)},getHighConfidenceArgument:function(a,c){if(!h.shouldTriggerBEMHCM(a,c))return null;c!=null||g(0,1463);return{id:c.id,module_role:b("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[c.type],module_logging_unit_id:null,result_logging_unit_id:null,supported_attachments:null,source:null}}};e.exports=h}),null);
__d("XSearchBEMUnitDataLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/log_bem_unit_data/",{session_id:{type:"String",required:!0},logging_unit_id:{type:"String",required:!0},query:{type:"String",required:!0},query_function:{type:"String",required:!0},results_module_role:{type:"String",required:!0},tapped_result_entity_id:{type:"String"},entity_ids:{type:"StringSet"},bootstrap_item_count:{type:"Int"},should_log_module_impression:{type:"Bool",defaultValue:!1},is_high_confidence_module:{type:"Bool",defaultValue:!1}})}),null);
__d("generateBrowseSessionID",["CurrentUser","md5"],(function(a,b,c,d,e,f){var g={mtouch:"412378670482",www:"256281040558"};function a(a){var c=a.appName;a=a.edge;return b("md5")([g[c],b("CurrentUser").getID(),a,Math.floor(Date.now()/30)].join(":"))}e.exports=a}),null);
__d("SearchInstantBootstrapEntityModule",["cx","fbt","Arbiter","AsyncRequest","BanzaiODS","Base64","BlueBar","BrowseClickLogger","ContextualComponent","CSS","CurrentUser","DOM","FacebarKeywordSearchUtils","PageTransitionsRegistrar","Quickling","QuicklingConfig","React","ReactDOM","ReactRenderer","Run","SearchBootstrapEntityModuleDebugUtil","SearchBootstrapEntityModuleUIConfig","SearchBootstrapEntityModuleUtil","SearchEntityModule.react","SearchEntityModuleServerConstants","SearchHCMUtil","SearchHighConfUserAttachmentsExperiment","SearchLoggingClientUnitIdPrefix","SearchResultPageElementID","SearchResultPageNavigationPerfMetrics","SearchWWWTrackableClientViewConfig","SubscriptionsHandler","URI","ViewableImpressionTracking","XSearchBEMUnitDataLoggingController","XUIPageNavigation.react","XUIPageNavigationGroup.react","XUIPageNavigationItem.react","XUISpinner.react","ge","generateBrowseSessionID","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=[h._("All"),h._("Posts"),h._("People"),h._("Photos"),h._("Videos"),h._("Pages"),h._("Places"),h._("Groups"),h._("Apps"),h._("Events")],j=[h._("All"),h._("Posts"),h._("People"),h._("Groups"),h._("Events"),h._("Photos")],k,l={};function a(a){__p&&__p();this.$11=[],this.$12=!1,this.$13=!1,this.$14=!1,this.$19=function(a){__p&&__p();this.$12=!1;if(!b("SearchBootstrapEntityModuleUtil").isTopTabURI(a))return;this.$14=!0;var c,d=b("FacebarKeywordSearchUtils").decodeFacebarURIParams(a);d!=null&&(this.$8=d.sid,c=d.bsid);c==null&&(c=b("generateBrowseSessionID")({appName:"www",edge:"keywords_search"}));this.$9=c;this.$4=b("SearchBootstrapEntityModuleUtil").getQueryFromURI(a);this.$20();this.$21(a);this.$14&&this.$11.length>0&&(this.$22(),this.$23());this.$24()}.bind(this),this.$27=function(a){if(this.$9==null)return;this.$11=b("SearchBootstrapEntityModuleUtil").transformRawBootstrapResultsToEntityModuleResults(a,this.$9)}.bind(this),this.$1=a.getCore(),this.$2=new(b("SubscriptionsHandler"))(),k=this}a.prototype.enable=function(){__p&&__p();this.$7=b("ge")("content");if(this.$7==null)return;b("Run").onAfterLoad(function(){__p&&__p();this.$15();this.$2.addSubscriptions(b("Arbiter").subscribe("page_transition",function(){if(!this.$16())return;this.$17();this.$18()}.bind(this)));if(!this.$16())return;this.$17();this.$18()}.bind(this))};a.prototype.$16=function(){return b("Quickling").isActive()&&b("Quickling").getLoadCount()<b("QuicklingConfig").sessionLength-1};a.prototype.disable=function(){this.$2.release()};a.prototype.$17=function(){this.$12||(b("PageTransitionsRegistrar").registerHandler(this.$19),this.$12=!0)};a.prototype.$18=function(){__p&&__p();if(this.$13)return;var a=this.$7;if(a==null)return;a=b("ContextualComponent").closestToNode(a);if(a==null)return;a.onUnmount(function(){this.$25(),this.$13=!1}.bind(this));this.$13=!0};a.prototype.$25=function(){if(b("SearchBootstrapEntityModuleUtil").isTopTabURI(b("URI").getNextURI())){this.$14&&this.$11.length===0&&(this.$22(),this.$23());return}this.$23();this.$22()};a.prototype.$15=function(){var a=b("DOM").create("div",{className:"_126b"}),c=b("BlueBar").getBar();this.$3=b("DOM").create("div",{className:"_126c"},a);b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("XUISpinner.react"),{size:"large"},a);a=b("CurrentUser").isWorkUser();this.$6=b("DOM").create("div",{style:c!=null?"top: "+c.offsetHeight+"px":null,className:"_126d"+(a?" _6q81":"")},[this.$3,this.$26()]);b("DOM").appendContent(this.$6,this.$3);this.$6!=null&&b("CSS").hide(this.$6);b("DOM").appendContent(document.body,this.$6)};a.prototype.$26=function(){var a=b("CurrentUser").isWorkUser()?j:i;a=a.map(function(a,c){return b("React").createElement(b("XUIPageNavigationItem.react"),{className:"_4gsg",href:"#",key:c},a)});var c=b("DOM").create("div"),d=b("DOM").create("div",{style:"top: initial",className:"_5sqx _4-u2 _4-u8","aria-hidden":!0},b("DOM").create("div",{className:"_zz9 _5im-"},c));b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("XUIPageNavigation.react"),{children:b("React").createElement(b("XUIPageNavigationGroup.react"),null,a)},c);return d};a.prototype.$20=function(){var a=[];b("gkx")("678800")&&this.$4!=null&&(a=this.$1.getSquashedEntityIDsFromQueryString(this.$4),a==null&&(a=[]));b("Arbiter").inform("FacebarDataSource.getBootstrapMatches",{query:this.$4,callback:this.$27,whitelistedEntIds:a},"persistent")};a.prototype.$21=function(a){__p&&__p();var c=this.$4,d=this.$11;if(c==null||d.length===0)return;var e,f=a.getQueryData().ref,g=b("FacebarKeywordSearchUtils").decodeFacebarURIParams(a);g==null&&(e=f);f=d.map(function(a){return a.tuid});var h=this.$9;if(h==null)return;var i=this.getPossibleHCMResult(d);g=babelHelpers["extends"]({},g,{preloaded_entity_ids:f,preloaded_entity_type:d[0].type,ent_ids:this.$1.getSquashedEntityIDsFromQueryString(c),bsid:h,high_confidence_argument:i==null?null:b("SearchHCMUtil").getHighConfidenceArgument(c,i)});e!=null&&(g.ref=e);a.setQueryData(babelHelpers["extends"]({},a.getQueryData(),{ref:b("Base64").encode(JSON.stringify(g)).replace(/\=+$/,"")}))};a.prototype.$24=function(){__p&&__p();var a=this.$11,c=this.$4,d=this.$9;if(a==null||c==null||d==null)return;if(a.length===0){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","no_matches");return}var e=b("DOM").create("div",{"data-bt":JSON.stringify({session_id:d,typeahead_sid:this.$8})});b("DOM").prependContent(this.$3,e);b("BrowseClickLogger").init(e);var f=b("SearchBootstrapEntityModuleUtil").getTitleForResultType(a[0].type),g=b("SearchBootstrapEntityModuleUtil").generateUnitIDWithPrefix(b("SearchLoggingClientUnitIdPrefix").WWW_INSTANT_BEM),h="keywords_search("+c+")",i=this.getPossibleHCMResult(a),j=i!=null&&b("SearchHCMUtil").shouldTriggerBEMHCM(c,i);i=!j&&a[0].type!=="user"&&b("SearchBootstrapEntityModuleUIConfig").shouldSplitApartNonPeopleResults;b("SearchBootstrapEntityModuleUIConfig").shouldUseEntityTypeSnippet&&!i&&!j&&a.forEach(function(a){var b=l[a.tuid];b==null&&(l[a.tuid]=a.snippets,b=a.snippets);a.snippets=b.slice(1)});this.$10={plain_text_query:c,browse_query:h,results:a,module_role:b("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[a[0].type],result_type:a[0].type,num_results_to_show:b("SearchBootstrapEntityModuleUIConfig").numResultsToShow,client_view_config:b("SearchWWWTrackableClientViewConfig"),browse_session_id:d,title:f,see_more_uri:b("SearchBootstrapEntityModuleUtil").getSeeMoreURIForResults(a,c).toString(),logging_unit_id:g,viewer_id:b("CurrentUser").getID(),should_render_header:!j,should_render_footer:!1,typeahead_session_id:this.$8,split_apart_results:i};this.$5!=null&&b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","previous_bem_not_unmounted");this.$5=b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("SearchEntityModule.react"),this.$10,e,function(){this.$28(),this.$29({plain_text_query:c,browse_query:h,results:a,browse_session_id:d,logging_unit_id:g,module_role:b("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[a[0].type],is_high_confidence_module:j}),b("ViewableImpressionTracking").init()}.bind(this))};a.prototype.$28=function(){this.$14=!1,this.$30(),b("gkx")("678801")&&b("SearchResultPageNavigationPerfMetrics").setElementDisplayEndTime(b("SearchResultPageElementID").BOOTSTRAP_ENTITY_MODULE),b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","shown")};a.prototype.$23=function(){var a=this.$5;if(a==null)return;var c=!1;a=b("ReactDOM").findDOMNode(a);a!=null&&a.parentNode!=null&&(c=b("ReactDOM").unmountComponentAtNode(a.parentNode));c||b("BanzaiODS").bumpEntityKey("search.www.bem.instant_bem","current_bem_did_not_unmount");this.$5=null;this.$14=!1};a.prototype.$30=function(){this.$6!=null&&b("CSS").show(this.$6),this.$7!=null&&b("CSS").hide(this.$7)};a.prototype.$22=function(){this.$7!=null&&b("CSS").show(this.$7);if(this.$6==null){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","page_background_not_found");return}b("CSS").hide(this.$6)};a.moveInsideWrapper=function(c){__p&&__p();if(k==null){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","bem_not_initialized");return}k.$22();var a=k.$5;if(a==null){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","no_module_found_on_instance");return}a=b("ReactDOM").findDOMNode(a);if(a==null){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","no_module_root_found");return}if(a.parentNode==null){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","no_parent_node_found_for_module_root");return}b("DOM").contains(document.body,c)||b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","wrapper_not_in_dom");b("DOM").appendContent(c,a.parentNode)};a.updateFooter=function(a){if(k==null)return;var c=k.$10,d=b("ReactDOM").findDOMNode(k.$5);if(c==null||(d==null?void 0:d.parentNode)==null)return;k.$5=b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("SearchEntityModule.react"),babelHelpers["extends"]({},c,{is_split_module_top:!a.showBottomBorder,should_render_footer:a.showBottomBorder&&a.showSeeMore}),d.parentNode)};a.prototype.$29=function(a){__p&&__p();var c=b("XSearchBEMUnitDataLoggingController").getURIBuilder().setString("logging_unit_id",a.logging_unit_id).setString("session_id",a.browse_session_id).setString("query",a.plain_text_query).setString("query_function",a.browse_query).setString("results_module_role",a.module_role).setInt("bootstrap_item_count",a.results.filter(function(a){return a.is_bootstrap}).length).setStringSet("entity_ids",a.results.map(function(a){return a.tuid})).setBool("is_high_confidence_module",a.is_high_confidence_module).setBool("should_log_module_impression",!0);new(b("AsyncRequest"))(c.getURI()).setAllowCrossPageTransition(!0).send();for(var d=a.results,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c=b("XSearchBEMUnitDataLoggingController").getURIBuilder().setString("logging_unit_id",g.logging_unit_id).setString("session_id",a.browse_session_id).setString("query",a.plain_text_query).setString("query_function",a.browse_query).setString("results_module_role",a.module_role).setString("tapped_result_entity_id",g.tuid).setBool("is_high_confidence_module",a.is_high_confidence_module);new(b("AsyncRequest"))(c.getURI()).setAllowCrossPageTransition(!0).send()}};a.prototype.getPossibleHCMResult=function(a){var c=a[0];return a.length!==1||c==null?null:{id:c.tuid,text:c.text,type:c.type,bemHCMEnabled:b("SearchHighConfUserAttachmentsExperiment").bemHCMEnabled,show_hcm_experience:c.show_hcm_experience,hcm_match_criteria:c.hcm_match_criteria}};e.exports=a}),null);